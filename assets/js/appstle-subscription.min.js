"use strict";function _createForOfIteratorHelper(e,t){var n,i,l,a,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return i=!(n=!0),{s:function(){r=r.call(e)},n:function(){var e=r.next();return n=e.done,e},e:function(e){i=!0,l=e},f:function(){try{n||null==r.return||r.return()}finally{if(i)throw l}}};if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var appstleInit=function appstleInit(){var _RS3,_window35,_window36,_RS34,_RS35,head=document.getElementsByTagName("head")[0],startingTime=(new Date).getTime();function logger(e){var t;null!=(t=RS)&&null!=(t=t.Config)&&t.debugLogsEnabled&&(t="- "+e,console.group("%c Appstle Subscription Widget Log.","display:inline-block; font-size: 14px; padding: 5px; background: linear-gradient(to right, #141B32, #00D9CC); color:#FFFFFF; border-radius: 5px;"),console.log("%c ".concat(t),"font-size: 13px;"),console.groupEnd())}window.appstleLoadScript=function(e,t,n){var i,l,a=document.createElement("script");a.type=t||"text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,n&&n())}:a.onload=function(){n&&n()};try{null!=(i=RS)&&null!=(i=i.Config)&&i.debugLogsEnabled&&2===(null==(l=document.querySelectorAll("#subscription-helper"))?void 0:l.length)&&logger("There might be a V1 script available. Please check the view page source. If it exists (#subscription-helper), then remove it from the theme file.")}catch(e){}a.src=e,a.defer=!0,head.appendChild(a)},null!=(_RS3=RS)&&null!=(_RS3=_RS3.Config)&&_RS3.disableLoadingJquery||appstleLoadScript("https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js","text/javascript",function(){window.appstle_jQuery=jQuery.noConflict(!0)}),appstleLoadScript("https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.esm.js","module"),window.DOMPurify||appstleLoadScript("https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js","text/javascript",function(){console.log("DOM Purify Loaded")});var purifyConfig={ALLOWED_TAGS:["style"],ALLOWED_ATTR:["style"]},mustacheScript,checkReady=("undefined"==typeof Mustache&&(mustacheScript=document.createElement("script"),mustacheScript.src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.1.0/mustache.js",mustacheScript.type="text/javascript",head.appendChild(mustacheScript)),function e(t){var n;(null!=(n=RS)&&null!=(n=n.Config)&&n.disableLoadingJquery?window.jQuery:window.appstle_jQuery)&&window.Mustache&&window.Shopify&&window.DOMPurify?t(null!=(n=RS)&&null!=(n=n.Config)&&n.disableLoadingJquery?window.jQuery:window.appstle_jQuery):window.setTimeout(function(){e(t)},20)}),urlParams=new URLSearchParams(window.location.search),globalUrlParameter=urlParams.get("variant"),destination,message;function getOrderSellingPlanIds(){return Shopify.checkout.line_items.map(function(e){return e.selling_plan_id})}function isOrderEligibleForThankyouBox(){var e=getOrderSellingPlanIds(),n=!1;return e.length&&e.forEach(function(t){var e;null!=(e=RS)&&null!=(e=e.Config)&&e.sellingPlansJson.filter(function(e){e.id.includes(t)&&(n=!0)})}),n}checkReady(function($){var jQuery=$;$(function(){var _RSConfig2,_RSConfig3,_RSConfig4,_RSConfig5,_RSConfig97,_RS15,_RSConfig101,_jQuery11,_RS21,_RSConfig119,_RSConfig120,_RSConfig121,_RSConfig122,_RSConfig123,_RSConfig124,_RS22,_RS23,endingTime=(new Date).getTime(),tookTime=endingTime-startingTime,_RSConfig98,_RSConfig99;function renderWidget(standAloneProduct,standAloneElement,widgetId){var _product,_Shopify,_RSConfig86,product,localVariantsByTitle,localVariantsById,localWindowVariant,widgetLabels,Selling_Plan_Variants_Global,appstleSubscriptionFunction,_RSConfig87,_jQuery$parents3,_RSConfig88,_RSConfig89,_RSConfig90,atcButtonSelector,atcButton,_targetNode,config1,callback,_observer;function processProductVariants(e){if(e){for(var t=e.variants,n={},i={},l=0;l<t.length;l++){var a=t[l];n[a.title]=Object.assign({},a),i[a.id]=Object.assign({},a)}RSConfig.variantsByTitle=n,RSConfig.variantsById=i}}function detectVariant(e,t,n){if(window.self!==window.top)return RSConfig.product.variants[0];var i=urlParam("variant");if(!urlIsProductPage()&&null!=(l=RSConfig)&&l.detectVariantFromURLParams&&logger("If widget is not working properly, try turning off 'Detect variant from URL params'."),i&&null!=(l=RSConfig)&&l.detectVariantFromURLParams)return localVariantsById[i];var l,a=t.closest('form[action$="/cart/add"]').find("[name=id]");if(0<a.length)for(var r=0;r<a.length;r++)if(a[r].value&&jQuery(a[r]).is(":checked"))return i=a[r].value,localVariantsById[i];return 0<t.closest('form[action$="/cart/add"]').find("[name=id]").length&&t.closest('form[action$="/cart/add"]').find("[name=id]").val()?(i=t.closest('form[action$="/cart/add"]').find("[name=id]").val(),localVariantsById[i]):null!=(l=jQuery("[name=id][form=".concat(t.closest('form[action$="/cart/add"]').attr("id"),"]")))&&l.val()?(i=null==(l=jQuery("[name=id][form=".concat(t.closest('form[action$="/cart/add"]').attr("id"),"]")))?void 0:l.val(),localVariantsById[i]):null!=(l=RSConfig)&&l.widgetParentSelector&&0<t.closest(null==(l=RSConfig)?void 0:l.widgetParentSelector).find("[name=id]").length&&t.closest(null==(l=RSConfig)?void 0:l.widgetParentSelector).find("[name=id]").val()||t.parents("html").find('form[action$="/cart/add"]').find("[name=id]").length&&null!=(l=t.parents("html").find('form[action$="/cart/add"]').find("[name=id]")[0])&&l.value?(i=t.closest(null==(l=RSConfig)?void 0:l.widgetParentSelector).find("[name=id]").val()||(null==(l=t.parents("html").find('form[action$="/cart/add"]').find("[name=id]")[0])?void 0:l.value),localVariantsById[i]):i?localVariantsById[i]:Object.values(localVariantsById).some(function(e){return(null==e?void 0:e.title)==(null==(e=$("form select[name='options[Bundle]']"))?void 0:e.val())})?Object.values(localVariantsById).find(function(e){return(null==e?void 0:e.title)==$("select[name='options[Bundle]']").val()}):(l=[],null!=(t=t.closest('form[action$="/cart/add"]').find("select.single-option-selector"))&&null!=t.selectedIndex&&-1!==t.selectedIndex?l.push(t[t.selectedIndex].value):l.push(void 0),localVariantsByTitle[l.join(" / ")]||n.variants[0])}function getSellingPlanAllocation(e,t){var e=localVariantsById[e];return null==e||null==(e=e.selling_plan_allocations)?void 0:e.find(function(e){return(null==e?void 0:e.selling_plan_id)===t})}function compareCustomerTags(e,t){return e.filter(function(e){return-1!=t.indexOf(e)})}function isSellingPlanVisible(e){var t=null==(t=RSConfig)?void 0:t.customerId,n=RSConfig.customer_tags||[],i=!0;return!t&&RSConfig.memberOnlySellingPlansJson&&RSConfig.memberOnlySellingPlansJson[e]&&RSConfig.memberOnlySellingPlansJson[e].enableMemberInclusiveTag&&(i=!1),(i=(i=t&&RSConfig.nonMemberOnlySellingPlansJson&&RSConfig.nonMemberOnlySellingPlansJson[e]?!1:i)&&t&&RSConfig.memberOnlySellingPlansJson&&RSConfig.memberOnlySellingPlansJson[e]&&(RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags&&RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags.trim()&&(i=0<compareCustomerTags(n,RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags.split(",")).length),RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags)&&RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags.trim()?!(0<compareCustomerTags(n,RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags.split(",").map(function(e){return e.trim()})).length):i)||logger("There is specific tag configured for this product page(Like,Gold Members.) because of that the widget will be only visible to that specific user"),i}function buildSellingPlantText(e){var t=e.totalPrice==e.formattedPrice?{sellingPlanName:e.name,sellingPlanPrice:'<span class="transcy-money">'.concat(e.formattedPrice,"</span>"),secondSellingPlanPrice:'<span class="transcy-money">'.concat(e.secondFormattedPrice||e.secondSellingPlanPrice,"</span>"),discountText:null==e?void 0:e.discountText,totalPrice:'<span class="transcy-money">'.concat(null==e?void 0:e.totalPrice,"</span>")}:{sellingPlanName:e.name,totalPrice:'<span class="transcy-money">'.concat(null==e?void 0:e.totalPrice,"</span>"),sellingPlanPrice:'<span class="transcy-money">'.concat(e.formattedPrice,"</span>"),secondSellingPlanPrice:'<span class="transcy-money">'.concat(e.secondFormattedPrice||"","</span>"),discountText:e.discountText};return wrapPriceWithSpanTag(Mustache.render((null==e||!e.prepaidFlag)&&widgetLabels["appstle.subscription.wg.sellingPlanTitleTextNonPrepaid"]||RS.Config.sellingPlanTitleText,t))}function buildAtcButtonSelector(){var e=RSConfig.atcButtonSelector||"div.product-form-buttons, div.product__submit__buttons, form[action$='/cart/add'] [type='submit'], #MainPaymentContainer",t={productId:product.id},e=Mustache.render(e,t);return DOMPurify.sanitize(e)}function buildOneTimePriceText(e){e={price:e,showOneTimeComparePrice:RS.Config.showOneTimeComparePrice};return wrapPriceWithSpanTag(Mustache.render(RS.Config.oneTimePriceText,e))}function buildSubscriptionOptionText(e,t,n,i,l,a,r){e=formatPrice(100*(parseFloat((null==e?void 0:e.replace(/[^0-9.]/g,""))||"0")*parseFloat((null==n?void 0:n.replace("%",""))||"0")/100));return wrapPriceWithSpanTag(Mustache.render(RS.Config.subscriptionOptionText,{discountValue:n,frequency:i,price:l,groupName:a,discountValueInAmount:e,sellingPlanName:r}))}function buildSelectedPriceText(e,t,n,i,l){var a=t?RS.Config.selectedPrepaidSellingPlanPriceText:RS.Config.selectedPayAsYouGoSellingPlanPriceText;return wrapPriceWithSpanTag(Mustache.render(a,t?{pricePerDelivery:e,totalPrice:n}:{price:e,secondPrice:l?i:e}))}function buildPrepaidPerDeliveryPriceText(e){return wrapPriceWithSpanTag(Mustache.render(RS.Config.totalPricePerDeliveryText,{prepaidPerDeliveryPrice:e}))}function buildPayAsYouGoPriceText(e){return wrapPriceWithSpanTag(Mustache.render(RS.Config.selectedPayAsYouGoSellingPlanPriceText,{price:e}))}function buildSelectedTooltipPrePaidText(e,t){var n=RS.Config.tooltipDescriptionOnPrepaidPlan;return wrapPriceWithSpanTag(Mustache.render(n,{pricePerDelivery:e,totalPrice:t}))}function buildSelectedTooltipDiscountText(e,t){var n,i;if(0<(null==e||null==(n=e.price_adjustments)?void 0:n.length))return 2==(null==e||null==(n=e.price_adjustments)?void 0:n.length)?(i={firstPrice:formatPriceWithQuantity(null==e||null==(n=e.price_adjustments[0])?void 0:n.price),secondPrice:formatPriceWithQuantity(null==e||null==(n=e.price_adjustments[1])?void 0:n.price),discountOne:0<(null==t?void 0:t.length)?t[0]:"",discountTwo:2==(null==t?void 0:t.length)?t[1]:""},wrapPriceWithSpanTag(Mustache.render(RS.Config.tooltipDescriptionOnMultipleDiscount,i))):(i={firstPrice:formatPriceWithQuantity(null==e||null==(n=e.price_adjustments[0])?void 0:n.price),discountOne:t},wrapPriceWithSpanTag(Mustache.render(RS.Config.tooltipDescriptionOnMultipleDiscount.replaceAll("{{secondPrice}}","").replaceAll("{{discountTwo}}",""),i)))}function buildTooltipDetailsText(e,t,n){t=t?{prepaidDetails:e,discountDetails:n,defaultTooltipDescription:RS.Config.tooltipDesctiption}:{defaultTooltipDescription:RS.Config.tooltipDesctiption,discountDetails:n},e=RS.Config.tooltipDescriptionCustomization;return wrapPriceWithSpanTag(Mustache.render(e,t))}function populateDropdown(purchaseOptions,variant,isPrepaidDropdown,selectedSellingPlan,selectedPayAsYouGoPlan,selectedPrepaidPlan){var sellingPlanVariants=[],validSellingPlanCounter=0,_sellingPlanVariants,_RSConfig14,_RSConfig15,_RSConfig16,_RSConfig17,_RSConfig18,_RSConfig20,_sellingPlanVariants$,_sellingPlanVariants$2,singleSellingPlanDisplayText,planText,_sellingPlanVariants$3,_sellingPlanVariants$4,_sellingPlanVariants$5,_sellingPlanVariants$6,_sellingPlanVariants2;if(jQuery.each(product.selling_plan_groups,function(index,sellingPlanGroup){"appstle"===sellingPlanGroup.app_id&&jQuery.each(sellingPlanGroup.selling_plans,function(subIndex,sellingPlan){var visible=isSellingPlanVisible(sellingPlan.id),_RS6,_sellingPlanDetails$f,sellingPlanAllocation,price,totalPrice,formattedPrice,compareAtPrice,formattedCompareAtPrice,secondPrice,secondFormattedPrice,discountText,secondFormattedPrice,priceAdjustment,discountText,jsonOfSellingPlans,sellingPlanFrequency,sellingPlanFrequencyText,sellingPlanDetails,details,daysInBillingFrequency,totalDaysInBillingFrequency,sellingPlanFrequencyType;visible&&(sellingPlanAllocation=getSellingPlanAllocation(variant.id,sellingPlan.id),sellingPlanAllocation)&&(validSellingPlanCounter++,price=sellingPlanAllocation.per_delivery_price,totalPrice=formatPrice(null==sellingPlanAllocation?void 0:sellingPlanAllocation.price),formattedPrice=formatPrice(price),compareAtPrice=sellingPlanAllocation.compare_at_price,formattedCompareAtPrice="",compareAtPrice&&(formattedCompareAtPrice=formatPrice(compareAtPrice)),secondPrice=null,secondFormattedPrice=null,secondFormattedPrice=sellingPlanAllocation&&sellingPlanAllocation.price_adjustments&&2===sellingPlanAllocation.price_adjustments.length?(secondPrice=sellingPlanAllocation.price_adjustments[1].price,formatPrice(secondPrice)):(secondPrice=price,formattedPrice),priceAdjustment=null==sellingPlan?void 0:sellingPlan.price_adjustments[0],discountText="percentage"!==(null==priceAdjustment?void 0:priceAdjustment.value_type)?formatPrice(null==priceAdjustment?void 0:priceAdjustment.value):(null==priceAdjustment?void 0:priceAdjustment.value)+"%",jsonOfSellingPlans=null==(_RS6=RS)||null==(_RS6=_RS6.Config)?void 0:_RS6.sellingPlansJson,null!=jsonOfSellingPlans&&jsonOfSellingPlans.length&&(sellingPlanFrequency=null==jsonOfSellingPlans?void 0:jsonOfSellingPlans.find(function(e){return(null==e||null==(e=e.id)||null==(e=e.split("/"))?void 0:e.pop())==sellingPlan.id}),"MONTH"===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.frequencyInterval)&&1<(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)&&(sellingPlanFrequencyText=(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)+" "+DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.monthsFrequencyTextV2"])),"MONTH"===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.frequencyInterval)&&1===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)&&(sellingPlanFrequencyText=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.monthlyLabelTextV2"])),"WEEK"===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.frequencyInterval)&&1<(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)&&(sellingPlanFrequencyText=(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)+" "+DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.weeksFrequencyTextV2"])),"WEEK"===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.frequencyInterval)&&1===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)&&(sellingPlanFrequencyText=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.weeklyLabelTextV2"])),"DAY"===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.frequencyInterval)&&1<(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)&&(sellingPlanFrequencyText=(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)+" "+DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.daysFrequencyTextV2"])),"DAY"===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.frequencyInterval)&&1===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)&&(sellingPlanFrequencyText=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.dayFrequencyTextV2"])),"YEAR"===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.frequencyInterval)&&1<(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)&&(sellingPlanFrequencyText=(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)+" "+DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.yearsFrequencyTextV2"])),"YEAR"===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.frequencyInterval))&&1===(null==sellingPlanFrequency?void 0:sellingPlanFrequency.billingFrequencyCount)&&(sellingPlanFrequencyText=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.yearlyLabelTextV2"])),sellingPlanDetails={name:sellingPlan.name,description:sellingPlan.description,sellingPlanId:sellingPlan.id,formattedPrice:buildPayAsYouGoPriceText(formattedPrice),compareAtPrice:compareAtPrice,formattedCompareAtPrice:formattedCompareAtPrice,price:price,isFreeTrial:!price,totalPrice:totalPrice,secondPrice:secondPrice,secondSellingPlanPrice:secondFormattedPrice,hasSecondSellingPlanPrice:!!secondPrice,sellingPlanFrequencyText:DOMPurify.sanitize(sellingPlanFrequencyText),discountText:null!=priceAdjustment&&priceAdjustment.value?discountText:null,formattedDiscountText:null!=priceAdjustment&&priceAdjustment.value?buildDiscountText(discountText):"",showFormattedDiscountText:!(null==priceAdjustment||!priceAdjustment.value),isChecked:!1,formattedPrepaidPerDeliveryPriceText:buildPrepaidPerDeliveryPriceText(formattedPrice)},details=getSellingPlanDetailsById(sellingPlan.id),details&&jQuery.extend(sellingPlanDetails,JSON.parse(JSON.stringify(details))),sellingPlanDetails.id=sellingPlan.id,sellingPlanDetails.isFrequencySubsequent=1<sellingPlanDetails.frequencyCount,sellingPlanDetails.frequencyIntervalLowerCase=(null==sellingPlanDetails||null==(_sellingPlanDetails$f=sellingPlanDetails.frequencyInterval)?void 0:_sellingPlanDetails$f.toLowerCase())||"",null===sellingPlanDetails.discountText?(sellingPlanDetails.secondFormattedDiscountText="",sellingPlanDetails.showSecondFormattedDiscountText=!1):(sellingPlanDetails.secondFormattedDiscountText=discountText+" ".concat(DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.offFrequencyTextV2"]||"off")),sellingPlanDetails.showSecondFormattedDiscountText=!0),sellingPlanDetails.prepaidFlag=eval(sellingPlanDetails.prepaidFlag),daysInBillingFrequency=1,totalDaysInBillingFrequency=0,sellingPlanFrequencyType="","WEEK"===sellingPlanDetails.billingFrequencyInterval?(daysInBillingFrequency=7,sellingPlanFrequencyType=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.weeklyLabelTextV2"]||"Weekly")):"MONTH"===sellingPlanDetails.billingFrequencyInterval?(daysInBillingFrequency=30,sellingPlanFrequencyType=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.monthlyLabelTextV2"]||"Monthly")):"YEAR"===sellingPlanDetails.billingFrequencyInterval&&(daysInBillingFrequency=365,sellingPlanFrequencyType=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.yearlyLabelTextV2"]||"Yearly")),sellingPlanDetails.prepaidFlag&&(sellingPlanFrequencyType=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.prepayLabelTextV2"]||"Prepay")),totalDaysInBillingFrequency=sellingPlanDetails.billingFrequencyCount*daysInBillingFrequency,sellingPlanDetails.pricePerDay=formatPrice(sellingPlanDetails.price*sellingPlanDetails.billingFrequencyCount/totalDaysInBillingFrequency)+"/".concat(DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.dayFrequencyTextV2"])),sellingPlanDetails.sellingPlanFrequencyType=sellingPlanFrequencyType,0<sellingPlanDetails.price*sellingPlanDetails.billingFrequencyCount/totalDaysInBillingFrequency?sellingPlanDetails.showPricePerDay=!0:sellingPlanDetails.showPricePerDay=!1,sellingPlanVariants.push(sellingPlanDetails))})}),0<sellingPlanVariants.length){sellingPlanVariants.length<2?(Selling_Plan_Variants_Global.multipleSellingPlan=!1,jQuery(purchaseOptions).find(".appstle_subscribe_option").children().hide(),singleSellingPlanDisplayText=buildSellingPlantText(sellingPlanVariants[0]),Selling_Plan_Variants_Global.singleSellingPlanDisplayText=singleSellingPlanDisplayText,planText=jQuery(DOMPurify.sanitize('<div class="appstle_single_option_text">'.concat(singleSellingPlanDisplayText,"</div>"))),planText.appendTo(purchaseOptions.find(".appstle_subscribe_option")),null!=(_sellingPlanVariants$=sellingPlanVariants[0])&&_sellingPlanVariants$.description&&null!=(_sellingPlanVariants$2=sellingPlanVariants[0])&&_sellingPlanVariants$2.description.includes("{{sellingPlanName}}")?jQuery('<div class="appstleSellingPlanDescription">'.concat(null==(_sellingPlanVariants$3=sellingPlanVariants[0])||null==(_sellingPlanVariants$3=_sellingPlanVariants$3.description)?void 0:_sellingPlanVariants$3.replace("{{sellingPlanName}}",null==(_sellingPlanVariants$4=sellingPlanVariants[0])?void 0:_sellingPlanVariants$4.name),"</div>")).appendTo(purchaseOptions.find(".appstle_subscribe_option")):null!=(_sellingPlanVariants$5=sellingPlanVariants[0])&&_sellingPlanVariants$5.description&&jQuery(DOMPurify.sanitize('<div class="appstleSellingPlanDescription">'.concat(null==(_sellingPlanVariants$6=sellingPlanVariants[0])?void 0:_sellingPlanVariants$6.description,"</div>"))).appendTo(purchaseOptions.find(".appstle_subscribe_option"))):Selling_Plan_Variants_Global.multipleSellingPlan=!0,sellingPlanVariants=null==(_sellingPlanVariants=sellingPlanVariants)?void 0:_sellingPlanVariants.map(function(t){var e=null==(e=RSConfig)||null==(e=e.sellingPlansJson)?void 0:e.find(function(e){return e.idNew==t.idNew});return t.frequencySequence=(null==e?void 0:e.frequencySequence)||0,t}),sellingPlanVariants.sort(function(e,t){return e.frequencySequence-t.frequencySequence}),null!=(_RSConfig14=RSConfig)&&_RSConfig14.sortByDefaultSequence||sellingPlanVariants.sort(function(e,t){return e.price-t.price}),null!=(_RSConfig15=RSConfig)&&_RSConfig15.sortAlphabetically&&null!=(_sellingPlanVariants2=sellingPlanVariants)&&_sellingPlanVariants2.sort(function(e,t){return null==e||null==(e=e.name)?void 0:e.localeCompare(t.name)}),(null!=(_RSConfig16=RSConfig)&&_RSConfig16.subscriptionOptionSelectedByDefault||product.requires_selling_plan)&&(sellingPlanVariants[0].isChecked=!0),null!=(_RSConfig17=RSConfig)&&_RSConfig17.showPrepaidPlanSeparately&&!isPrepaidDropdown&&(sellingPlanVariants=sellingPlanVariants.filter(function(e){return!(null!=e&&e.prepaidFlag)})),null!=(_RSConfig18=RSConfig)&&_RSConfig18.showPrepaidPlanSeparately&&isPrepaidDropdown&&(sellingPlanVariants=sellingPlanVariants.filter(function(e){return null==e?void 0:e.prepaidFlag})),jQuery(sellingPlanVariants).each(function(e,t){var n,i=buildSellingPlantText(t);t.sellingPlanDisplayText=i,null!=(n=RSConfig)&&n.switchRadioButtonWidget?jQuery(DOMPurify.sanitize('<div class="appstle-radio-wrapper">\n                        <div class="appstle-radio-input-wrapper">\n                        <input type="radio" id="appstle_subscription_widget'.concat(widgetId,"-").concat(t.id,'" value="').concat(t.id,'" ').concat(e?"":"checked",' name="selling_plan_radio').concat(isPrepaidDropdown?"_prepaid":"",'" style="display: inline;"></input>\n                <label for="appstle_subscription_widget').concat(widgetId,"-").concat(t.id,'" ').concat(sellingPlanVariants.length<2?"display: none;":"",'">\n                    <span class="sellingplan">').concat(i,"</span>\n                  </label>\n                  </div>\n                  ").concat(null!=t&&t.description&&null!=t&&t.description.includes("{{sellingPlanName}}")?'<div class="appstleSellingPlanDescription">'.concat(null==t?void 0:t.description.replace("{{sellingPlanName}}",null==t?void 0:t.name),"</div>"):null!=t&&t.description?'<div class="appstleSellingPlanDescription">'.concat(null==t?void 0:t.description,"</div>"):"","\n                </div>"))).appendTo(purchaseOptions.find(".appstleRadioSellingPlanWrapper")):jQuery("<option />",{value:t.id,html:DOMPurify.sanitize(i)}).appendTo(purchaseOptions.find("select"))}),null!=(_RSConfig20=RSConfig)&&_RSConfig20.switchRadioButtonWidget?(!isPrepaidDropdown&&selectedPayAsYouGoPlan&&purchaseOptions.find("input[name=selling_plan_radio][value=".concat(selectedPayAsYouGoPlan,"]")).length&&purchaseOptions.find("input[name=selling_plan_radio][value=".concat(selectedPayAsYouGoPlan,"]")).prop("checked",!0),isPrepaidDropdown&&selectedPrepaidPlan&&purchaseOptions.find("input[name=selling_plan_radio_prepaid][value=".concat(selectedPrepaidPlan,"]")).length&&purchaseOptions.find("input[name=selling_plan_radio_prepaid][value=".concat(selectedPrepaidPlan,"]")).prop("checked",!0)):(!isPrepaidDropdown&&selectedPayAsYouGoPlan&&purchaseOptions.find("select option[value=".concat(selectedPayAsYouGoPlan,"]")).length&&purchaseOptions.find("select").val(selectedPayAsYouGoPlan),isPrepaidDropdown&&selectedPrepaidPlan&&purchaseOptions.find("select option[value=".concat(selectedPrepaidPlan,"]")).length&&purchaseOptions.find("select").val(selectedPrepaidPlan)),Selling_Plan_Variants_Global.sellingPlanVariants=sellingPlanVariants}else{Selling_Plan_Variants_Global.sellingPlanVariants=[];try{jQuery("#appstle_subscription_widget"+widgetId).remove();var timer=setTimeout(function(){jQuery("#appstle_subscription_widget"+widgetId).remove(),clearTimeout(timer)})}catch(e){}}return sellingPlanVariants}function hidePaymentButtons(){jQuery(DOMPurify.sanitize(RSConfig.selectors.payment_button_selectors)).hide()}function showPaymentButtons(){jQuery(DOMPurify.sanitize(RSConfig.selectors.payment_button_selectors)).show()}function deferJquery(e){var t;null!=(t=RS)&&null!=(t=t.Config)&&t.disableLoadingJquery&&logger("APpstle jQuery is disabled"),(null!=(t=RS)&&null!=(t=t.Config)&&t.disableLoadingJquery?window.jQuery:window.appstle_jQuery)?e():setTimeout(function(){deferJquery(e)},50)}function hasPrepaidPlan(e){var t=!1;return null!=e&&null!=(e=e.selling_plan_allocations)&&null!=(e=e.filter(function(e){var t=null==e?void 0:e.selling_plan_group_id,e=product.selling_plan_groups.find(function(e){return(null==e?void 0:e.id)==t});return"appstle"==(null==e?void 0:e.app_id)}))&&e.forEach(function(e){(null==e?void 0:e.per_delivery_price)!==(null==e?void 0:e.price)&&(t=!0)}),t}function hasOnlyPrepaid(e){var t=0,n=0;return null!=e&&null!=(e=e.selling_plan_allocations)&&null!=(e=e.filter(function(e){var t=null==e?void 0:e.selling_plan_group_id,e=product.selling_plan_groups.find(function(e){return(null==e?void 0:e.id)==t});return"appstle"==(null==e?void 0:e.app_id)}))&&e.forEach(function(e){n++,(null==e?void 0:e.per_delivery_price)!==(null==e?void 0:e.price)&&t++}),n===t&&0<t}function addSubscriptionItems(e,t,n,i,l){var a=!0,r=(n&&isSellingPlanPrepaid(n)&&RSConfig.showPrepaidPlanSeparately&&(a=!1),product.requires_selling_plan||jQuery(DOMPurify.sanitize('<div class="appstle_subscription_wrapper_option '.concat(""!==n&&(product.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault)?"":"appstle_selected_background",'">\n              <div class="appstle_one_time_details_wrapper">\n              <input type="radio" ').concat(""!==n&&RS.Config.subscriptionOptionSelectedByDefault?"":"checked",' id="appstle_selling_plan_label_1').concat(widgetId,'" name="selling_plan" value="" ').concat(RS.Config.formMappingAttributeName&&RS.Config.formMappingAttributeSelector&&jQuery(DOMPurify.sanitize(RS.Config.formMappingAttributeSelector)).length&&jQuery(DOMPurify.sanitize(RS.Config.formMappingAttributeSelector)).attr("id")?"".concat(RS.Config.formMappingAttributeName,"=").concat(jQuery(DOMPurify.sanitize(RS.Config.formMappingAttributeSelector)).attr("id")):"",'>\n          <label for="appstle_selling_plan_label_1').concat(widgetId,'" class="appstle_radio_label" >\n            <span class="appstle_circle" ><span class="appstle_dot"></span></span>\n              <span class="appstle_one_time_text">').concat(RS.Config.oneTimePurchaseText,'</span>\n             </label>\n             <div class="appstle_one_time_price_wrapper ').concat(null!=t&&t.compare_at_price?"has-compare-price":"",'">\n             <span class="appstle_subscription_amount transcy-money"></span>\n             <span class="appstle_subscription_amount-appstle-sr-only transcy-money sr-only"></span>\n             <span class="appstle_subscription_amount_compare_at_price transcy-money">').concat(RS.Config.showOneTimeComparePrice&&null!=t&&t.compare_at_price?wrapPriceWithSpanTag(formatPrice(null==t?void 0:t.compare_at_price)):"",'</span>\n             <span class="appstle_subscription_amount_compare_at_price-appstle-sr-only transcy-money sr-only">').concat(RS.Config.showOneTimeComparePrice&&null!=t&&t.compare_at_price?"Original price "+wrapPriceWithSpanTag(formatPrice(null==t?void 0:t.compare_at_price)):"",'</span>\n             <div class="appstle_one_time_unit_price">').concat(null!=t&&t.unit_price&&null!=t&&null!=(r=t.unit_price_measurement)&&r.reference_unit?"".concat(wrapPriceWithSpanTag(formatPrice(null==t?void 0:t.unit_price)),"/").concat(1<(null==t||null==(r=t.unit_price_measurement)?void 0:r.reference_value)?null==t||null==(r=t.unit_price_measurement)?void 0:r.reference_value:"").concat(null==t||null==(r=t.unit_price_measurement)?void 0:r.reference_unit):"",'</div>\n             </div>\n          </div>\n          <span class="appstle_bundle_discount_amount one_time_discount"></span>\n          <div class="appstle_one_time_description_text">').concat(widgetLabels["appstle.subscription.wg.onetimeDescriptionTextV2"]||"","</div>\n          ").concat("","\n          </div>"))).appendTo(e),jQuery(DOMPurify.sanitize('<div class="appstle-active-option appstle_subscription_wrapper_option appstle_include_dropdown '.concat(n&&a||""!==n&&(product.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault)?"appstle_selected_background":"",' payAsYouGoPlansDropdownWrapper">\n              <div class="appstle_subscription_radio_wrapper">\n                <input type="radio" id="appstle_selling_plan_label_2').concat(widgetId,'" name="selling_plan" value="Subscribe and save" ').concat(n&&a||""!==n&&(product.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault)?"checked":""," ").concat(RS.Config.formMappingAttributeName&&RS.Config.formMappingAttributeSelector&&jQuery(DOMPurify.sanitize(RS.Config.formMappingAttributeSelector)).length&&jQuery(DOMPurify.sanitize(RS.Config.formMappingAttributeSelector)).attr("id")?"".concat(RS.Config.formMappingAttributeName,"=").concat(jQuery(DOMPurify.sanitize(RS.Config.formMappingAttributeSelector)).attr("id")):"",'>\n                <label for="appstle_selling_plan_label_2').concat(widgetId,'" class="appstle_radio_label" >\n                  <span class="appstle_circle" ><span class="appstle_dot"></span></span>\n                  <span class="appstle-text-and-badge-wrapper">\n                    <span class="appstle_subscribe_save_text">').concat(RS.Config.subscriptionOptionText,'</span>\n                    <span class="appstle-save-badge"></span>\n                  </span>\n                </label>\n                <div class="appstle_subscription_amount_wrapper">\n                  <span class="appstle_subscription_amount transcy-money"></span>\n                  <span class="appstle_subscription_amount-appstle-sr-only transcy-money sr-only"></span>\n                  <span class="appstle_subscription_compare_amount transcy-money"></span>\n                  <span class="appstle_subscription_compare_amount-appstle-sr-only transcy-money sr-only"></span>\n                </div>\n              </div>\n              <span class="appstle_bundle_discount_amount subscription_discount"></span>\n              <div class="appstle_subscription_description_text">').concat(widgetLabels["appstle.subscription.wg.subscriptionDescriptionTextV2"]||"",'</div>\n\n              <div class="appstle_subscribe_option ').concat(n&&a||product.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault?"":"appstle_hide_subsOption",'">\n                <div class="appstle_subscribe_option_grid">\n                  ').concat(RS.Config.sellingPlanSelectTitle?'<label for="appstle_selling_plan'.concat(widgetId,'" class="appstle_select_label">').concat(RS.Config.sellingPlanSelectTitle,"</label>"):"","\n                ").concat(null!=(r=RSConfig)&&r.switchRadioButtonWidget?'<div class="appstleRadioSellingPlanWrapper"></div>':' <div class="appstle_custom_select"><select id="appstle_selling_plan'.concat(widgetId,'" class="appstle_select">\n                </select></div><div class="appstleSelectedSellingPlanOptionDescription"></div>'),"\n                  ").concat("","\n                </div>\n            <div>\n        </div>")))),a=jQuery(DOMPurify.sanitize('<div class="appstle_subscription_wrapper_option appstle_include_dropdown '.concat(n&&!a||""!==n&&hasOnlyPrepaid(t)&&(product.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault)?"appstle_selected_background":"",' prepaidPlansDropdownWrapper">\n            <div class="appstle_subscription_radio_wrapper">\n            <input type="radio" id="appstle_selling_plan_label_3').concat(widgetId,'" name="selling_plan" value="Prepaid" ').concat(n&&!a||""!==n&&hasOnlyPrepaid(t)&&(product.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault)?"checked":""," ").concat(RS.Config.formMappingAttributeName&&RS.Config.formMappingAttributeSelector&&jQuery(DOMPurify.sanitize(RS.Config.formMappingAttributeSelector)).length&&jQuery(DOMPurify.sanitize(RS.Config.formMappingAttributeSelector)).attr("id")?"".concat(RS.Config.formMappingAttributeName,"=").concat(jQuery(DOMPurify.sanitize(RS.Config.formMappingAttributeSelector)).attr("id")):"",'>\n                <label for="appstle_selling_plan_label_3').concat(widgetId,'" class="appstle_radio_label" >\n                    <span class="appstle_circle" ><span class="appstle_dot"></span></span>\n                    <span class="appstle-text-and-badge-wrapper">\n                      <span class="appstle_subscribe_save_text">').concat(widgetLabels["appstle.subscription.wg.prepaidLabelTextV2"]||"Prepaid",'</span>\n                      <span class="appstle-save-badge"></span>\n                    </span>\n                </label>\n                <div class="appstle_subscription_amount_wrapper">\n                  <span class="appstle_subscription_amount transcy-money"></span>\n                  <span class="appstle_subscription_compare_amount transcy-money"></span>\n                </div>\n            </div>\n            <span class="appstle_bundle_discount_amount subscription_discount"></span>\n            <div class="appstle_subscribe_option ').concat(n&&!a||!hasOnlyPrepaid(t)||product.requires_selling_plan||RS.Config.subscriptionOptionSelectedByDefault?"":"appstle_hide_subsOption",'">\n            <div class="appstle_subscribe_option_grid">\n                ').concat(RS.Config.sellingPlanSelectTitle?'<label for="appstle_selling_plan'.concat(widgetId,'" class="appstle_select_label">').concat(RS.Config.sellingPlanSelectTitle,"</label>"):"","\n                ").concat(null!=(a=RSConfig)&&a.switchRadioButtonWidget?'<div class="appstleRadioSellingPlanWrapper"></div>':' <div class="appstle_custom_select"><select id="appstle_selling_plan'.concat(widgetId,'" class="appstle_select">\n                </select></div> <div class="appstleSelectedSellingPlanOptionDescription"></div>'),"\n                ").concat("","\n            </div>\n            </div>\n        </div>"))),o=populateDropdown(r,t,!1,n,i,l);o&&0<o.length&&(null!=(o=RSConfig)&&o.showSubOptionBeforeOneTime?r.prependTo(e):r.appendTo(e)),RSConfig.showPrepaidPlanSeparately&&hasPrepaidPlan(t)&&(populateDropdown(a,t,RSConfig.showPrepaidPlanSeparately,n,i,l),hasOnlyPrepaid(t)?null!=(o=RSConfig)&&o.showSubOptionBeforeOneTime?a.prependTo(e):a.appendTo(e):a.insertAfter(r)),addStyle(widgetId)}function isSellingPlanPrepaid(e){e=getSellingPlanAllocation(getVariantId(),parseInt(e));return!!e&&e.per_delivery_price!==e.price}function changeEventHandlerForRadio(){var e=getCurrentWidgetType();(e&&"WIDGET_TYPE_1"!==e&&"WIDGET_TYPE_2"!==e&&"WIDGET_TYPE_7"!==e?handleChangeRadioEventForWidget4:handleChangeRadioEventForOtherWidget)()}function getCurrentWidgetType(){var e,t=null;return-1!==(null==(e=product)||null==(e=e.tags)?void 0:e.indexOf("WIDGET_TYPE_1"))?t="WIDGET_TYPE_1":-1!==(null==(e=product)||null==(e=e.tags)?void 0:e.indexOf("WIDGET_TYPE_2"))?t="WIDGET_TYPE_2":-1!==(null==(e=product)||null==(e=e.tags)?void 0:e.indexOf("WIDGET_TYPE_3"))?t="WIDGET_TYPE_3":-1!==(null==(e=product)||null==(e=e.tags)?void 0:e.indexOf("WIDGET_TYPE_4"))?t="WIDGET_TYPE_4":-1!==(null==(e=product)||null==(e=e.tags)?void 0:e.indexOf("WIDGET_TYPE_5"))?t="WIDGET_TYPE_5":-1!==(null==(e=product)||null==(e=e.tags)?void 0:e.indexOf("WIDGET_TYPE_6"))&&(t="WIDGET_TYPE_6"),t||(null==(e=RSConfig)?void 0:e.widgetType)}function handleChangeRadioEventForWidget4(){jQuery("#appstle_subscription_widget"+widgetId).find(".widgetSellingPlanWrapper input[type=radio]").on("change",function(e){var t,n;null!=e&&null!=(t=e.target)&&t.checked&&(t=jQuery("#appstle_subscription_widget"+widgetId+" .appstleLoyaltyTable"),0<(n=jQuery(e.target).parents(".appstle_input_wrapper")).length?checkIfSellingPlanGroupIsSelected(n)?(t.show(),dispatchAppstleEvent("SellingPlanSelected",widgetId)):(t.hide(),dispatchAppstleEvent("SellingPlanRemoved",widgetId),dispatchAppstleEvent("SellingPlanDeSelected",widgetId)):(dispatchAppstleEvent("SellingPlanRemoved",widgetId),dispatchAppstleEvent("SellingPlanDeSelected",widgetId),t.remove()),null!=e&&null!=(n=e.target)&&n.checked&&(jQuery(".appstle_input_wrapper").removeClass("appstle-active-option"),jQuery(e.target).parents(".appstle_input_wrapper").addClass("appstle-active-option")),updateStateOfWidget(e),window.appstleSelectedSellingPlan=e.target.value,jQuery("#appstle_subscription_widget"+widgetId).removeAttr("data-selected-selling-plan"),e.target.value)&&jQuery("#appstle_subscription_widget"+widgetId).attr("data-selected-selling-plan",e.target.value)})}function handleChangeRadioEventForOtherWidget(){jQuery(document).on("change click","#appstle_subscription_widget"+widgetId+" .appstle_subscription_wrapper input[type=radio]",function(e){var t,n,i;jQuery(e.target).is(":checked")&&(t=jQuery(e.target).parents(".appstle_include_dropdown").find(".appstle_subscribe_option"),n=jQuery("#appstle_subscription_widget"+widgetId+" .appstleLoyaltyTable"),i=jQuery(e.target).parents(".appstle_subscription_wrapper_option"),0<t.length?checkIfSellingPlanGroupIsSelected(i)?(jQuery("#appstle_subscription_widget"+widgetId).find(".appstle_subscribe_option").addClass("appstle_hide_subsOption"),t.removeClass("appstle_hide_subsOption"),jQuery("#appstle_subscription_widget"+widgetId+" .appstle_subscription_wrapper_option.appstle_include_dropdown").addClass("appstle_selected_background"),jQuery("#appstle_subscription_widget"+widgetId+" .appstle_subscription_wrapper_option:not(.appstle_include_dropdown)").removeClass("appstle_selected_background"),n.show(),dispatchAppstleEvent("SellingPlanSelected",widgetId)):(jQuery("#appstle_subscription_widget"+widgetId+" .appstle_subscription_wrapper_option.appstle_include_dropdown").removeClass("appstle_selected_background"),jQuery("#appstle_subscription_widget"+widgetId+" .appstle_subscription_wrapper_option:not(.appstle_include_dropdown)").first().addClass("appstle_selected_background"),t.addClass("appstle_hide_subsOption",widgetId),n.hide(),dispatchAppstleEvent("SellingPlanRemoved",widgetId),dispatchAppstleEvent("SellingPlanDeSelected",widgetId)):(jQuery("#appstle_subscription_widget"+widgetId).find(".appstle_subscribe_option").addClass("appstle_hide_subsOption"),dispatchAppstleEvent("SellingPlanRemoved",widgetId),dispatchAppstleEvent("SellingPlanDeSelected",widgetId),n.remove()),jQuery(e.target).is(":checked")&&(jQuery(".appstle_subscription_wrapper_option").removeClass("appstle-active-option"),jQuery(e.target).parents(".appstle_subscription_wrapper_option").addClass("appstle-active-option")),updateStateOfWidget(e),window.appstleSelectedSellingPlan=e.target.value,jQuery("#appstle_subscription_widget"+widgetId).removeAttr("data-selected-selling-plan"),e.target.value)&&jQuery("#appstle_subscription_widget"+widgetId).attr("data-selected-selling-plan",e.target.value)})}function updateFormFields(t){var i,e,n;jQuery(".appstle_fields_wrapper"+widgetId).remove(),jQuery(DOMPurify.sanitize(buildAtcButtonSelector())).parents("form").removeAttr("novalidate"),t&&(e=RSConfig.sellingPlansJson)&&((i=jQuery(DOMPurify.sanitize('<div class="appstle_fields_wrapper appstle_fields_wrapper'.concat(widgetId,'"></div>')))).insertBefore("#appstle_subscription_widget"+widgetId+" .appstle_widget_title"),e=null==e?void 0:e.find(function(e){return e.id=="gid://shopify/SellingPlan/".concat(t)}),null!=(n=jQuery("#appstle_subscription_widget"+widgetId+" .appstle_widget_title"))&&n.length||logger("If you have added form field and it looks like you have not added Purchase option text label. So in this case please add an empty space in purchage option text field in MP."),e)&&((n=JSON.parse((null==e?void 0:e.formFieldJson)||null))&&0<n.length&&(n.forEach(function(e,t){var n;e.required&&logger("Form field is set to REQUIRED, please make sure it is visible."),"date"===e.type?(i.append(jQuery(DOMPurify.sanitize('\n                    <div class="appstleOrderDatePicker" '.concat(e.visible?"":'style="display: none;"','>\n                      <label class="appstleFormFieldLabel appstleOrderDatePickerLabel" for="properties[_order-date]">').concat(e.label,'</label>\n                      <div class="as-date-input-wrapper">\n                        <input class="appstle_form_field_input" type="text">\n                        <input class="appstle_form_field_input_alternate" type="hidden">\n                        <input name="properties[_order-date]" value="" class="appstle_form_field_input_iso" type="hidden">\n                      </div>\n                    </div>')))),getJqueryUIFromCDN(),attatchDatePicker(e.config,e.enabledDays,e.nextOrderMinimumThreshold)):"datepicker"===e.type?(i.append(jQuery(DOMPurify.sanitize('\n                    <div class="appstleOrderDatePicker" '.concat(e.visible?"":'style="display: none;"','>\n                      <label class="appstleFormFieldLabel appstleOrderDatePickerLabel" for="properties[').concat(e.name,']">').concat(e.label,'</label>\n                      <div class="as-date-input-wrapper">\n                        <input class="appstle_form_field_datepicker appstle_form_field_input_').concat(t,'" type="text">\n                        <input class="appstle_form_field_input_alternate_').concat(t,'" type="hidden">\n                        <input name="properties[').concat(e.name,']" value="" class="appstle_form_field_input_iso_').concat(t,'" type="hidden">\n                      </div>\n                    </div>')))),getJqueryUIFromCDN(),attatchGenericDatePicker(e.config,t),jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input_alternate_"+t).on("change",function(e){e.target.value&&(e=e.target.value+"T"+(new Date).toISOString().split("T")[1],jQuery(".appstle_form_field_input_iso_"+t).attr("value",new Date(e).toISOString().split(".")[0]+"Z"),jQuery(".appstle_form_field_input_iso_"+t).val(new Date(e).toISOString().split(".")[0]+"Z"))}),jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input_"+t).parents(".as-date-input-wrapper").find("input").each(function(e,t){$(t).trigger("change")})):"text"===e.type?i.append(jQuery(DOMPurify.sanitize('\n                    <div class="appstleCustomTextField" '.concat(e.visible?"":'style="display: none;"','>\n                      <label class="appstleFormFieldLabel appstleCustomTextFieldLabel" for="properties[').concat(e.name,']">').concat(e.label,'</label>\n                      <div class="as-customTextField-wrapper">\n                        <input name="properties[').concat(e.name,']" ').concat(null!=e&&e.required?"required":"",' value="" type="text" class="appstle_form_field_text_input"  placeholder="').concat(e.name||"",'">\n                      </div>\n                    </div>')))):"textarea"===e.type?i.append(jQuery(DOMPurify.sanitize('\n                    <div class="appstleCustomTextField" '.concat(e.visible?"":'style="display: none;"','>\n                      <label class="appstleFormFieldLabel appstleCustomTextFieldLabel" for="properties[').concat(e.name,']">').concat(e.label,'</label>\n                      <div class="as-customTextField-wrapper">\n                      <textarea rows="4" name="properties[').concat(e.name,']" ').concat(null!=e&&e.required?"required":"",' value="" class="appstle_form_field_text_input"></textarea>\n                      </div>\n                    </div>')))):"select"===e.type?(n=(null==e||null==(n=e.selectOptions)?void 0:n.split(","))||[],i.append(jQuery(DOMPurify.sanitize('\n                    <div class="appstleCustomSelectField" '.concat(e.visible?"":'style="display: none;"','>\n                      <label class="appstleFormFieldLabel appstleCustomSelectFieldLabel" for="properties[').concat(e.name,']">').concat(e.label,'</label>\n                      <div class="as-customTextField-wrapper">\n                        <select name="properties[').concat(e.name,']" ').concat(null!=e&&e.required?"required":"",' value="" type="select" class="appstle_form_field_text_input">\n                          ').concat(null==n?void 0:n.map(function(e){return'<option value="'.concat(e,'">').concat(e,"</option>")}).join(""),"\n                        </select>\n                      </div>\n                    </div>"))))):"checkbox"===e.type&&i.append(jQuery(DOMPurify.sanitize('\n                    <div class="appstleCustomTextField" '.concat(e.visible?"":'style="display: none;"','>\n                      <div class="as-customCheckboxField-wrapper">\n                        <input name="properties[').concat(e.name,']" ').concat(null!=e&&e.required?"required":"",' value="" type="checkbox" class="appstle_form_field_checkbox_input">\n                        <label class="appstleFormFieldLabel appstleCustomCheckboxFieldLabel" for="properties[').concat(e.name,']">').concat(e.label,"</label>\n                      </div>\n                    </div>"))))}),jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input_alternate").on("change",function(e){e.target.value&&(e=e.target.value+"T"+(new Date).toISOString().split("T")[1],jQuery(".appstle_form_field_input_iso").attr("value",new Date(e).toISOString().split(".")[0]+"Z"),jQuery(".appstle_form_field_input_iso").val(new Date(e).toISOString().split(".")[0]+"Z"))}),jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input").parents(".as-date-input-wrapper").find("input").each(function(e,t){$(t).trigger("change")})),null!=(e=RSConfig)&&e.disablePassingSellingPlanAsLineProperties||i.append(jQuery(DOMPurify.sanitize('\n                <input name="properties[__appstle-selected-selling-plan]" value="'.concat(t,'" type="text" class="appstle_form_field_text_input appstle-selectedSellingPlan" style="display: none !important; opacity: 0 !important; visibility: hidden !important; height: 0 !important; width: 0 !important;">')))))}function getJqueryUIFromCDN(){var e;window.jQuery||(window.jQuery=window.appstle_jQuery,window.$=window.appstle_jQuery),jQuery(".jqueryUIFetched").length||void 0===(null==(e=window.jQuery)?void 0:e.datepicker)&&((e=document.createElement("script")).src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js",e.type="text/javascript",head.appendChild(e),(e=document.createElement("link")).href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css",e.rel="stylesheet",head.appendChild(e),jQuery("html").addClass("jqueryUIFetched"))}function getJqueryi18(){var e;"Object"==getClassOf(jQuery.ui)?"Function"==getClassOf(jQuery.ui.tabs)&&((e=document.createElement("script")).src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/i18n/jquery-ui-i18n.min.js",e.type="text/javascript",head.appendChild(e)):setTimeout(getJqueryi18,30)}function attatchDatePicker(e,i,t){var l=new Date,a=!1,n=[];t=t&&parseInt(t)?parseInt(t):0;for(var r=0;r<=7;r++){var o=new Date;o.setDate((new Date).getDate()+r+t),n.push(o)}var s;n.forEach(function(e){var t,n;e=e,i&&null!=(n=i)&&n.length?(n=new Date(e),-1===(null==(t=i="string"==typeof i?JSON.parse(i):i)?void 0:t.map(function(e){return parseInt(null==e?void 0:e.value)})).indexOf(n.getDay())||a||(l=new Date(e),a=!0)):a||(l=new Date(e),a=!0)}),null!=(s=window.jQuery)&&s.datepicker?jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input_iso").length&&(s={altField:"#appstle_subscription_widget"+widgetId+" .appstle_form_field_input_alternate",altFormat:"yy-mm-dd",autoSize:!0,minDate:l,showOn:"both",buttonImage:(null!=(s=RS)&&null!=(s=s.Config)&&s.baseUrl?null==(s=RS)||null==(s=s.Config)?void 0:s.baseUrl:"https://subscription-admin.appstle.com")+"/content/images/calendar-month.webp",defaultDate:l,currentText:"Now",beforeShowDay:function(e){var t;return!i||null==(t=i)||!t.length||(t=new Date(e),-1!==(null==(e=i="string"==typeof i?JSON.parse(i):i)?void 0:e.map(function(e){return parseInt(null==e?void 0:e.value)})).indexOf(t.getDay()))?[!0]:[!1]},onSelect:function(){$(this).parents(".as-date-input-wrapper").find("input").trigger("change")}},e=e?JSON.parse(e):{},s=jQuery.extend({},s,e),window.jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input").datepicker(s),window.jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input").datepicker("setDate",l),window.jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input").parents(".as-date-input-wrapper").find("input").each(function(e,t){return $(t).trigger("change")})):setTimeout(function(){return attatchDatePicker(e,i,t)},30)}function attatchGenericDatePicker(e,t){var n,i=new Date;null!=(n=window.jQuery)&&n.datepicker?jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input_iso_"+t).length&&(n={altField:"#appstle_subscription_widget"+widgetId+" .appstle_form_field_input_alternate_"+t,altFormat:"yy-mm-dd",autoSize:!0,minDate:i,showOn:"both",buttonImage:(null!=(n=RS)&&null!=(n=n.Config)&&n.baseUrl?null==(n=RS)||null==(n=n.Config)?void 0:n.baseUrl:"https://subscription-admin.appstle.com")+"/content/images/calendar-month.webp",defaultDate:i,currentText:"Now",onSelect:function(){$(this).parents(".as-date-input-wrapper").find("input").trigger("change")}},e=e?JSON.parse(e):{},n=jQuery.extend({},n,e),window.jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input_"+t).datepicker(n),window.jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input_"+t).datepicker("setDate",i),window.jQuery("#appstle_subscription_widget"+widgetId+" .appstle_form_field_input_"+t).parents(".as-date-input-wrapper").find("input").each(function(e,t){return $(t).trigger("change")})):setTimeout(function(){return attatchGenericDatePicker(e,t)},30)}function changeHandlerForSelect(){var e;null!=(e=RSConfig)&&e.switchRadioButtonWidget?jQuery("#appstle_subscription_widget"+widgetId+" .appstle_subscribe_option input").on("change",function(e){updateStateOfWidget(e),updateFormFields(getCurrentSellingPlanId()),dispatchAppstleEvent("sellingPlanChanged",getCurrentSellingPlanId())}):jQuery("#appstle_subscription_widget"+widgetId+" .appstle_subscription_wrapper select").on("change",function(e){updateStateOfWidget(e),updateFormFields(getCurrentSellingPlanId()),dispatchAppstleEvent("sellingPlanChanged",getCurrentSellingPlanId())}),jQuery("#appstle_subscription_widget"+widgetId+' input[name="selling_plan"]').on("change",function(e){updateStateOfWidget(e),updateFormFields(getCurrentSellingPlanId()),dispatchAppstleEvent("sellingPlanChanged",getCurrentSellingPlanId())}),updateFormFields(getCurrentSellingPlanId())}function triggerChangeEvent(e){jQuery(DOMPurify.sanitize(e)).change()}function registerAndTriggerEventsForFormFields(){changeEventHandlerForRadio(),changeHandlerForSelect(),triggerEventsFromInput()}function triggerEventsFromInput(){jQuery("#appstle_subscription_widget"+widgetId+" .appstle_subscribe_option select").trigger("change"),jQuery("#appstle_subscription_widget"+widgetId+" .appstle_subscribe_option input").trigger("change"),jQuery("#appstle_subscription_widget"+widgetId+" input[name=selling_plan]").trigger("change")}function unbindEventListeners(){jQuery(".appstle_subscription_wrapper input[type=radio], .appstle_subscription_wrapper select").off("change")}function getSelectedSellingPlanPrice(){var e=getSelectedSellingPlanId();return e?formatPriceWithQuantity(getSellingPlanAllocation(localWindowVariant.id,parseInt(e)).per_delivery_price):null}function getSelectedSellingPlanPriceForAtc(){var e=getSelectedSellingPlanId();return e?formatPriceWithQuantity(null!=(e=getSellingPlanAllocation(localWindowVariant.id,parseInt(e)))&&e.price?e.price:null==e?void 0:e.per_delivery_price):null}function getSelectedSellingPlanPriceForPrepaid(){var e=getSelectedSellingPlanId();return e?(e=getSellingPlanAllocation(localWindowVariant.id,parseInt(e)),'<span class="appstle-prepaid-current-price">'.concat(formatPriceWithQuantity(e.price),"</span>")+'<span class="appstle-prepaid-original-price">'.concat(formatPriceWithQuantity(e.compare_at_price),"</span>")):null}function getCurrentQuantity(){var e,t=jQuery(buildAtcButtonSelector()).first();null!=(e=t)&&e.length||(t=jQuery("#appstle-subscription-widget-placeholder").first()),standAloneElement&&(t=standAloneElement);return Array.prototype.slice.call(t.parents((null==(e=RSConfig)?void 0:e.widgetParentSelector)||"product-form").find((null==(t=RSConfig)?void 0:t.quantitySelector)||'\n            gp-product-quantity,\n            quantity-input,\n            quantity-breaks,\n            pumper-bundle,\n            quantity__container,\n            product-quantity,\n            [name="quantity"],\n            gp-product-bundle-discount-item,\n            gp-product-bundle-discount,\n            .quantity__input[type=number],\n            .quantityClass,\n            input[name="quantity"],\n            Quantity,\n            variant-picker,\n            input[type="number"],\n            [data-quantity-action="decrease"],\n            [data-quantity-action="increase"],\n            .plus,\n            .minus,\n            quantity-selector-component,\n            .bundle-quantity-selector__box\n          ')).map(function(e){return"INPUT"!==e.tagName||"radio"!==e.type||$(e).is(":checked")?Number($(e).val()):0}).reduce(function(e,t){return Math.max(e,t)},-1/0)}function getCurrentQuantityPrice(e,t,n){var i,l,a,r,o=parseInt(getCurrentQuantity())||1;return null!=(r=window)&&null!=(r=r._ABConfig)&&null!=(r=r.bundle_rules)&&r.length&&"true"===(null==(r=RSConfig)?void 0:r.updatePriceOnQuantityChange)&&null!=(r=window._ABConfig)&&r.getProductDiscountedPricing&&!t?(r=getCurrentSellingPlanId(),t=e/100,i=window._ABConfig.getProductDiscountedPricing({variantId:getVariantId(),amount:t,quantity:o,sellingPlanId:null}),t=window._ABConfig.getProductDiscountedPricing({variantId:getVariantId(),amount:t,quantity:o,sellingPlanId:r}),document.querySelectorAll(".appstle_bundle_discount_amount").forEach(function(e){e.innerHTML=""}),null!=i&&i.discountedPrice&&(l="","PERCENTAGE"===i.discountType?l=null==(r=widgetLabels["appstle.subscription.wg.bundleDiscountTextV2"])?void 0:r.replace("{{bundleDiscount}}","".concat(i.discountValue,"%")):"FIXED_AMOUNT"===i.discountType&&(l=null==(r=widgetLabels["appstle.subscription.wg.bundleDiscountTextV2"])?void 0:r.replace("{{bundleDiscount}}","".concat(formatPrice(100*i.discountValue)))),document.querySelectorAll(".appstle_bundle_discount_amount.one_time_discount").forEach(function(e){e.innerHTML=DOMPurify.sanitize(l)})),null!=t&&t.discountedPrice&&(a="","PERCENTAGE"===t.discountType?a=null==(r=widgetLabels["appstle.subscription.wg.bundleDiscountTextV2"])?void 0:r.replace("{{bundleDiscount}}","".concat(t.discountValue,"%")):"FIXED_AMOUNT"===t.discountType&&(a=null==(r=widgetLabels["appstle.subscription.wg.bundleDiscountTextV2"])?void 0:r.replace("{{bundleDiscount}}","".concat(formatPrice(100*t.discountValue)))),document.querySelectorAll(".appstle_bundle_discount_amount.subscription_discount").forEach(function(e){e.innerHTML=DOMPurify.sanitize(a)})),null!=(r=n?i:t)&&r.discountedPrice?(100*r.discountedPrice).toFixed(0):e*o):e*("true"===(null==(n=RSConfig)?void 0:n.updatePriceOnQuantityChange)?o:1)}function formatPriceWithQuantity(e,t,n){var i;if(null==(i=window)||null==(i=i._ABConfig)||null==(i=i.bundle_rules)||!i.length||e)return formatPrice(getCurrentQuantityPrice(e,t,n))}function getSelectedSellingPlanId(){var e,t=null;try{t=(t=(null!=(e=RSConfig)&&e.switchRadioButtonWidget?jQuery("#appstle_subscription_widget"+widgetId).find(".appstle_subscribe_option input:checked"):jQuery("#appstle_subscription_widget"+widgetId).find(".appstle_subscription_wrapper_option.appstle_include_dropdown.appstle-active-option select")).val())||jQuery("#appstle_subscription_widget"+widgetId).find('input[name="selling_plan"]:checked').val()}catch(e){}return t}function getCurrentSellingPlanId(){var e=null;try{e=jQuery("#appstle_subscription_widget"+widgetId).find("input[name=selling_plan]:checked").val()}catch(e){}return e}function getVariantId(){var e,t=buildAtcButtonSelector(),t=jQuery(t).first();return detectVariant(null,t=null!=(e=t=standAloneElement?standAloneElement:t)&&e.length||null==(e=jQuery("#appstle-subscription-widget-placeholder"))||!e.length?t:jQuery("#appstle-subscription-widget-placeholder"),product).id}function updateOneTimePurchaseValueToRadio(){var e,t=getVariantId(),n=null;n=standAloneElement?(null==(e=standAloneProduct)?void 0:e.variants.filter(function(e){return String(null==e?void 0:e.id)===String(t)})).pop().price:null==(e=RSConfig)||null==(e=e.variantsById[t])?void 0:e.price,jQuery("#appstle_subscription_widget"+widgetId+" .appstle_subscription_wrapper_option:not(.appstle_include_dropdown) .appstle_subscription_amount").html(DOMPurify.sanitize(wrapPriceWithSpanTag(buildOneTimePriceText(formatPriceWithQuantity(n,!1,!0))))),jQuery("#appstle_subscription_widget"+widgetId+" .appstle_subscription_wrapper_option:not(.appstle_include_dropdown) .appstle_subscription_amount-appstle-sr-only").html("Sale price "+DOMPurify.sanitize(wrapPriceWithSpanTag(buildOneTimePriceText(formatPriceWithQuantity(n,!1,!0)))))}function appendSellingPlanDescription(e,t){"WIDGET_TYPE_6"==RSConfig.widgetType||jQuery("#appstle_subscription_widget"+widgetId+" .appstleSellingPlanDescription").length||jQuery("#appstle_subscription_widget"+widgetId+" .appstleSelectedSellingPlanOptionDescription").length||e&&0===t.find(".appstleSelectedSellingPlanOptionDescription").length&&checkIfSellingPlanGroupIsSelected()&&(jQuery(DOMPurify.sanitize("#appstle_subscription_widget".concat(widgetId," .widgetSellingPlanWrapper"))).length?$("<div class='appstleSelectedSellingPlanOptionDescription'>".concat(e,"</div>")).insertAfter("#appstle_subscription_widget".concat(widgetId," .widgetSellingPlanWrapper")):t.find(".appstle_subscribe_option_grid").append(DOMPurify.sanitize("<div class='appstleSelectedSellingPlanOptionDescription'>".concat(e,"</div>"))))}function getVariantUnitPriceUnit(e){var t,e=localVariantsById[e];return"".concat(1<(null==e||null==(t=e.unit_price_measurement)?void 0:t.reference_value)?"".concat(null==e||null==(t=e.unit_price_measurement)?void 0:t.reference_value):"").concat(null==e||null==(t=e.unit_price_measurement)?void 0:t.reference_unit)}function getSelectedFrequencyName(t){var e=null==(e=RSConfig)||null==(e=e.sellingPlansJson)?void 0:e.filter(function(e){return e.id.includes(t)}).pop(),n="";return 1<(null==e?void 0:e.billingFrequencyCount)&&(n=(null==e?void 0:e.billingFrequencyCount)+" "),e=getIntervalName(null==e?void 0:e.billingFrequencyInterval,null==e?void 0:e.billingFrequencyCount),"".concat(n).concat(e)}function getSelectedSellingPlanName(t){var e=null==(e=RSConfig)||null==(e=e.sellingPlansJson)?void 0:e.filter(function(e){return e.id.includes(t)}).pop();return null==e?void 0:e.frequencyName}function getIntervalName(e,t){var n="";return"MONTH"===e&&1<t&&(n=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.monthsFrequencyTextV2"])),"MONTH"===e&&1===t&&(n=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.monthFrequencyTextV2"])),"WEEK"===e&&1<t&&(n=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.weeksFrequencyTextV2"])),"WEEK"===e&&1===t&&(n=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.weekFrequencyTextV2"])),"DAY"===e&&1<t&&(n=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.daysFrequencyTextV2"])),"DAY"===e&&1===t&&(n=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.dayFrequencyTextV2"])),"YEAR"===e&&1<t&&(n=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.yearsFrequencyTextV2"])),n="YEAR"===e&&1===t?DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.yearFrequencyTextV2"]):n}function updateSelectValueToRadio(e){var t,n,i,l,a,r,o,s,p,c,d,u,g,_=e.target.value||"";jQuery(e.target).is("input")&&!jQuery(e.target).is(":checked")||(manageAddToCartText(),(RS.Config.showStaticTooltip&&RS.Config.tooltipDesctiption&&RS.Config.tooltipDesctiption.trim()?jQuery("#appstle_subscription_widget"+widgetId+" .appstle_tooltip_wrapper_static"):jQuery("#appstle_subscription_widget"+widgetId+" .appstle_tooltip_wrapper .appstle_tooltip .appstle_tooltip_content")).html(DOMPurify.sanitize(RS.Config.tooltipDesctiption)),parseInt(_)?jQuery(e.target).is("input")&&!jQuery(e.target).is(":checked")||(_=e.target.value||"",t=jQuery(e.target).parents(".appstle_subscription_wrapper_option"),"true"!==widgetLabels["appstle.subscription.wg.showWidgetStaticV2"]&&t.find(".appstleSelectedSellingPlanOptionDescription").remove(),jQuery("#appstle_subscription_widget".concat(widgetId)).find('[name="properties[_appstle_fulfillments-count]"]').remove(),e.target.value&&jQuery("#appstle_subscription_widget"+widgetId).attr("data-selected-selling-plan",e.target.value),_&&(e=getVariantId(),getLoyaltyProductData(_,checkIfSellingPlanGroupIsSelected()),(n=getSellingPlanAllocation(e,parseInt(_)))?(c=formatPriceWithQuantity(n.compare_at_price),d=formatPriceWithQuantity(n.per_delivery_price),l="",!(i=n.per_delivery_price!==n.price)&&localVariantsById[e].price?l=wrapPriceWithSpanTag(formatPriceWithQuantity(localVariantsById[e].price,!0)):i&&null!=n&&n.compare_at_price&&(null==n?void 0:n.compare_at_price)!==(null==n?void 0:n.price)&&(l=wrapPriceWithSpanTag(formatPriceWithQuantity(null==n?void 0:n.compare_at_price,!0))),r=(null==(a=getSellingPlanDetails(null==n?void 0:n.selling_plan_group_id,null==n?void 0:n.selling_plan_id))?void 0:a.description)||"",t.find("input[name=selling_plan]").attr("value",_),g=wrapPriceWithSpanTag(buildSelectedPriceText(d,i,formatPriceWithQuantity(n.price),formatPriceWithQuantity((null==n||null==(g=n.price_adjustments[1])?void 0:g.price)||0),null==n||null==(g=n.price_adjustments[1])?void 0:g.price)),s=getSellingPlanDiscountPercentage(_,!1),o=getSellingPlanDiscountPercentage(_,!0),o=buildTooltipDetailsText(buildSelectedTooltipPrePaidText(d,formatPriceWithQuantity(n.price)),i,buildSelectedTooltipDiscountText(n,o)),p=getSelectedFrequencyName(_),u=getSelectedSellingPlanName(_),s=buildSubscriptionOptionText(c,i,s,p,d,(null==(c=product)||null==(c=c.selling_plan_groups)||null==(c=c.filter(function(e){return(null==e?void 0:e.id)===(null==n?void 0:n.selling_plan_group_id)}))||null==(c=c.pop())?void 0:c.name)||"",u),p=buildPrepaidPerDeliveryPriceText(d),c=buildDiscountText(getSellingPlanDiscountPercentage(_,!1)),i&&null!=(u=RSConfig)&&u.showPrepaidPlanSeparately&&(c=buildPrepaidDiscountText(getSellingPlanDiscountPercentage(_,!1))),t.find(".appstle_prepaid_description").remove(),t.find(".appstle_selling_plan_unit_price").remove(),t.find(".appstle_subscription_amount").html(DOMPurify.sanitize(g)),t.find(".appstle_subscription_amount-appstle-sr-only").html("Sale price "+DOMPurify.sanitize(g)),localVariantsById[e].price!==n.price?(t.find(".appstle_subscription_compare_amount ").html(DOMPurify.sanitize(l)),t.find(".appstle_subscription_compare_amount-appstle-sr-only").html("Original price "+DOMPurify.sanitize(l)),l&&"price"!==(null==a||null==(d=a.price_adjustments[0])?void 0:d.value_type)?t.find(".appstle-save-badge").html(DOMPurify.sanitize(c)):t.find(".appstle-save-badge").html(DOMPurify.sanitize(""))):(t.find(".appstle_subscription_compare_amount ").html(DOMPurify.sanitize("")),t.find(".appstle_subscription_compare_amount-appstle-sr-only").html(DOMPurify.sanitize("")),t.find(".appstle-save-badge").html(DOMPurify.sanitize(""))),null!=n&&n.unit_price&&t.find(".appstle_subscription_amount_wrapper").append(DOMPurify.sanitize('<div class="appstle_selling_plan_unit_price transcy-money">'.concat(wrapPriceWithSpanTag(formatPrice(null==n?void 0:n.unit_price)),"/").concat(getVariantUnitPriceUnit(e),"</div>"))),i&&p&&t.find(".appstle_subscription_amount_wrapper").append(DOMPurify.sanitize('<div class="appstle_prepaid_description transcy-money">'.concat(wrapPriceWithSpanTag(p)||wrapPriceWithSpanTag(formatPriceWithQuantity(n.price))+"/delivery","</div>"))),!i&&t.hasClass("payAsYouGoPlansDropdownWrapper")&&t.find(".appstle_subscribe_save_text").html(DOMPurify.sanitize(s)),i&&t.hasClass("payAsYouGoPlansDropdownWrapper")&&t.find(".appstle_subscribe_save_text").html(DOMPurify.sanitize(s)),checkIfSellingPlanGroupIsSelected()&&o&&o.trim()?(RS.Config.showStaticTooltip?jQuery("#appstle_subscription_widget"+widgetId+" .appstle_tooltip_wrapper_static"):jQuery("#appstle_subscription_widget"+widgetId+" .appstle_tooltip_wrapper .appstle_tooltip .appstle_tooltip_content,#appstle_subscription_widget"+widgetId+" .appstle_tooltip_wrapper+.appstle_tooltip .appstle_tooltip_content")).html(DOMPurify.sanitize(o)):("true"!==widgetLabels["appstle.subscription.wg.showWidgetStaticV2"]&&t.find(".appstleSelectedSellingPlanOptionDescription").remove(),(RS.Config.showStaticTooltip&&RS.Config.tooltipDesctiption&&RS.Config.tooltipDesctiption.trim()?jQuery("#appstle_subscription_widget"+widgetId+" .appstle_tooltip_wrapper_static"):jQuery("#appstle_subscription_widget"+widgetId+" .appstle_tooltip_wrapper .appstle_tooltip .appstle_tooltip_content")).html(DOMPurify.sanitize(RS.Config.tooltipDesctiption))),"true"!==widgetLabels["appstle.subscription.wg.showWidgetStaticV2"]&&jQuery("#appstle_subscription_widget".concat(widgetId," .widgetSellingPlanWrapper")).siblings(".appstleSelectedSellingPlanOptionDescription").remove(),u=r.includes("{{sellingPlanName}}")?r.replace("{{sellingPlanName}}",null==a?void 0:a.name):r,r&&appendSellingPlanDescription(r,t),t.find(".appstleSelectedSellingPlanOptionDescription").html(DOMPurify.sanitize(u)),t.find('[name="selling_plan"]:checked').val()&&"true"===widgetLabels["appstle.subscription.wg.allowFulfilmentCountViaPropertiesV2"]&&(g=a.options[0].value.match(/(\d+)/g)[1]/a.options[0].value.match(/(\d+)/g)[0],jQuery(DOMPurify.sanitize("#appstle_subscription_widget".concat(widgetId))).append('<input type=hidden name="properties[_appstle_fulfillments-count]" value="'.concat(g,'">')))):logger("".concat(_," Selling Plan Not Found.")))):("true"!==widgetLabels["appstle.subscription.wg.showWidgetStaticV2"]&&jQuery("#appstle_subscription_widget"+widgetId+" .appstleSelectedSellingPlanOptionDescription").remove(),jQuery("#appstle_subscription_widget"+widgetId).removeAttr("data-selected-selling-plan")))}function manageAddToCartText(){var e,t,n;(null!=(e=RSConfig)&&e.atcButtonTextSelector||widgetLabels["appstle.subscription.wg.atcButtonTextSelectorV2"])&&((e=jQuery(DOMPurify.sanitize((null==(e=RSConfig)?void 0:e.atcButtonTextSelector)||widgetLabels["appstle.subscription.wg.atcButtonTextSelectorV2"]))).attr("data-atc-original-text")||e.attr("data-atc-original-text",e.val()||e.text()),checkIfSellingPlanGroupIsSelected()?(t=widgetLabels["appstle.subscription.wg.atcButtonTextV2"],n=getSelectedSellingPlanPriceForAtc(),n=t.includes("{{subscriptionPrice}}")?t.replace("{{subscriptionPrice}}",n||""):t,e.text(DOMPurify.sanitize(n)),e.val(DOMPurify.sanitize(n))):(e.text(e.attr("data-atc-original-text")),e.val(e.attr("data-atc-original-text"))))}function getLoyaltyProductData(t,e){var n,i=null==(i=RSConfig)||null==(i=i.sellingPlansJson)?void 0:i.find(function(e){return(null==e?void 0:e.id.split("/").pop())===String(t)}),l=[];null!=i&&null!=(n=i.appstleCycles)&&n.length&&null!=i&&null!=(n=i.appstleCycles)&&n.forEach(function(e){l.push(null==e?void 0:e.freeProductHandle)}),getAllProductData(l,t,e)}function getAllProductData(t,n,i){var e,l=t.shift();!l||null!=(e=window)&&null!=(e=e.products)&&e[l]?t.length?getAllProductData(t,n,i):createLoyaltyTableData(n,i):fetch("/products/".concat(l,".js")).then(function(e){if(e.ok)return e.json()}).then(function(e){window.products||(window.products={}),window.products[l]=e,t.length?getAllProductData(t,n,i):createLoyaltyTableData(n,i)})}function getAvailabilityText(t){t=getSelectedSellingPlanId();var e=null==(e=RSConfig)||null==(e=e.sellingPlansJson)?void 0:e.find(function(e){return(null==e?void 0:e.id.split("/").pop())===String(t)});if(!e)return[];var n,i,l,a,r=e.afterCycle1,o=e.discountType,s=e.discountOffer,p=e.afterCycle2,c=e.discountType2,d=e.discountOffer2,u=(e.appstleCycles||[]).filter(function(e){return"FREE_PRODUCT"!==e.discountType}).sort(function(e,t){return e.afterCycle-t.afterCycle}),g=[];null!=r&&(i=n=e=!1,a=null,p?(l=p-1)===r?e=!0:r<l&&(n=!0,a=l):i=!0,g.push({currentCycle:r,rangeEnd:a,discountType:o,discountOffer:s,isTail:e,isRange:n,isOnward:i})),null!=p&&(a=r=l=!1,o=null,(s=u.find(function(e){return e.afterCycle>p}))?(e=s.afterCycle-1)===p?l=!0:p<e&&(r=!0,o=e):a=!0,g.push({currentCycle:p,rangeEnd:o,discountType2:c,discountOffer2:d,isTail:l,isRange:r,isOnward:a}));for(var _=0;_<u.length;_++){var f=u[_],m=null,y=u.slice(_+1),y=(m="SHIPPING"!==f.discountType?y.find(function(e){return"SHIPPING"!==(null==e?void 0:e.discountType)}):y.find(function(e){return"SHIPPING"==(null==e?void 0:e.discountType)}),f.afterCycle),b=f.discountType,f=f.discountAmount,h=!1,v=!1,w=!1,P=null;m?(m=m.afterCycle-1)===y?h=!0:y<m&&(v=!0,P=m):w=!0,g.push({currentCycle:y,rangeEnd:P,discountType2:b,discountOffer2:f,isTail:h,isRange:v,isOnward:w})}return g}function createLoyaltyTableData(t,e){var n,i,l,a,r,o=[];e=checkIfSellingPlanGroupIsSelected(),t=getSelectedSellingPlanId(),jQuery("#appstle_subscription_widget"+widgetId+" .appstleLoyaltyTable").remove(),!1!==(null==(l=RSConfig)||null==(l=l.appstlePlanFeatures)?void 0:l.accessSubscriberLoyaltyFeatures)&&((l=null)!=(r=null==(r=RSConfig)||null==(r=r.sellingPlansJson)?void 0:r.find(function(e){return(null==e?void 0:e.id.split("/").pop())===String(t)}))&&r.freeTrialEnabled&&o.push({perkText:getPerkText(0,r.freeTrialCount,r.freeTrialInterval,null==r?void 0:r.freeTrialEnabled,null==r?void 0:r.discount)}),null!=(a=null==(a=JSON.parse((null==(a=RS)||null==(a=a.Config)?void 0:a.labels)||"{}"))?void 0:a["appstle.subscription.wg.loyaltyPerkDescriptionTextV2"])&&a.includes("{{#isPerkOnward}}")&&null!=a&&a.includes("{{#isPerkRange}}")&&null!=a&&a.includes("{{#onlyApplyOnThis}}")&&0<parseFloat(null==r?void 0:r.discountOffer)&&o.push({perkText:getPerkText(getBillingCycleText(r.afterCycle1),r.discountOffer,r.discountType,!1)}),null!=r&&r.afterCycle2&&0<parseFloat(r.discountOffer2)&&o.push({perkText:getPerkText(getBillingCycleText(r.afterCycle2),r.discountOffer2,r.discountType2,!1)}),null!=r&&null!=(a=r.appstleCycles)&&a.length&&null!=(a=null==r?void 0:r.appstleCycles.sort(function(e,t){return e.afterCycle-t.afterCycle}))&&a.forEach(function(t){var e,n="",i="",l="";"FREE_PRODUCT"===t.discountType&&(n=null==(e=window)||null==(e=e.products)||null==(e=e[t.freeProductHandle])?void 0:e.title,1<(null==(e=window)||null==(e=e.products)||null==(e=e[t.freeProductHandle])?void 0:e.variants.length)&&(n+=(e=null==(e=(null==(e=window)||null==(e=e.products)||null==(e=e[t.freeProductHandle])?void 0:e.variants.filter(function(e){return e.id===parseInt(null==t?void 0:t.freeVariantId)})).pop())?void 0:e.title)?" - "+e:""),l=null==(e=window)||null==(e=e.products)||null==(e=e[t.freeProductHandle])?void 0:e.featured_image,i=formatPrice(null==(e=window)||null==(e=e.products)||null==(e=e[t.freeProductHandle])?void 0:e.price)),(parseFloat(t.value)||n||"SHIPPING"===t.discountType)&&o.push({perkText:getPerkText(getBillingCycleText(t.afterCycle),t.value,t.discountType,!1,n,l,i)})}),a=(null==(r=RSConfig)?void 0:r.loyaltyDetailsLabelText)||"Subscriber Rewards",o=o.filter(function(e){return null==e?void 0:e.perkText}),n='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"></path></svg>',i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"></path></svg>',o.length)&&(r={visibleItems:o.slice(0,3),hiddenItems:r=o.slice(3),hasMore:0<r.length},e='\n              <div class="appstleLoyaltyTable" '.concat(e?"":'style="display: none;"','>\n                <div class="appstle_loyalty_title">').concat(a,'</div>\n                  <table width="100%" class="appstle-loyalty-table">\n                    <tbody>\n                      {{#visibleItems}}\n                        <tr class=\'appstle_loyalty_text\'>\n                          <td>{{{perkText}}}</td>\n                        </tr>\n                      {{/visibleItems}}\n                    </tbody>\n                    {{#hasMore}}\n                      <tbody class="appstle-hidden-perks" style="display: none;">\n                        {{#hiddenItems}}\n                          <tr>\n                            <td>{{{perkText}}}</td>\n                          </tr>\n                        {{/hiddenItems}}\n                      </tbody>\n                      <tr class="appstle-toggle-more-row">\n                        <td>\n                          <span class="appstle-toggle-more-btn" data-expanded="false">\n                          <span class="appstle-reward-items">\n                            ').concat(n+" See More","\n                          </span>\n                          </span>\n                        </td>\n                      </tr>\n                    {{/hasMore}}\n                  </table>\n              </div>"),l=Mustache.render(e,r),jQuery(document).ready(function(){jQuery(".appstle-toggle-more-btn").each(function(){var e=jQuery(this),t=e.closest("table").find(".appstle-hidden-perks").is(":visible");e.attr("data-expanded",t?"true":"false"),e.html('\n                  <span class="appstle-reward-items">\n                    '.concat(t?i+" See Less":n+" See More","\n                  </span>\n                "))})}),jQuery(document).off("click.appstleToggleMore").on("click.appstleToggleMore",".appstle-toggle-more-btn",function(){var e=jQuery(this),t="true"===e.attr("data-expanded");e.closest("table").find(".appstle-hidden-perks").slideToggle(200),e.attr("data-expanded",!t),e.html('\n                  <span class="appstle-reward-items">\n                    '.concat(t?n+" See More":i+" See Less","\n                  </span>\n                "))}),a="true"==widgetLabels["appstle.subscription.wg.showNewLoyaltyUI"],"WIDGET_TYPE_1"===(null==(e=RSConfig)?void 0:e.widgetType)||"WIDGET_TYPE_2"===(null==(r=RSConfig)?void 0:r.widgetType)||!a&&"WIDGET_TYPE_7"===(null==(e=RSConfig)?void 0:e.widgetType)?jQuery(l).insertAfter("#appstle_subscription_widget"+widgetId+" .appstle_subscription_wrapper"):0<(null==(r=document.querySelectorAll("#appstle_subscription_widget"+widgetId+" .appstleSelectedSellingPlanOptionDescription"))?void 0:r.length)?jQuery(l).insertAfter("#appstle_subscription_widget"+widgetId+" .appstleSelectedSellingPlanOptionDescription"):jQuery(l).insertAfter("#appstle_subscription_widget"+widgetId+" .widgetSellingPlanWrapper"))}function getPerkText(e,t,n,i,l,a,r,o,s){var p="",c="",d=RSConfig.variantsById[getVariantId()],d=(d&&"PERCENTAGE"===n?(p=(null==d?void 0:d.price)*(t/100),c=(null==d?void 0:d.price)-p):"FIXED"===n&&(c=(null==d?void 0:d.price)-(p=100*t)),getAvailabilityText()),u=parseInt(e),d=d.find(function(e){return parseInt(e.currentCycle)===u});return JSON.parse(RS.Config.labels)["appstle.subscription.wg.loyaltyPerkDescriptionTextV2"]?(a={discount:t,discountType:n,formatDiscountedPrice:formatPrice(100*t),freeProductName:l,isDiscountTypePercentage:"PERCENTAGE"===n,isDiscountTypeShipping:"SHIPPING"===n,isDiscountTypeFreeProduct:"FREE_PRODUCT"===n,isDiscountTypeFixed:"FIXED"===n,isDiscountTypeFixedPrice:"PRICE"===n,isFreeTrial:i,isCartPage:!1,featured_image:a,productPrice:r,billingCycleBlock:'<span class="appstle-loyalty-billing-cycle"><span class="">'.concat(Boolean("true"===widgetLabels["appstle.subscription.wg.billingCycleBlockV2"])?getBillingCycleText(parseInt(e)+1):e,"</span></span>"),freeTrailDiscount:o,discountAmount:formatPrice(p),finalDiscountedPrice:formatPrice(c),orderCycleBlock:'<span class="appstle-loyalty-billing-cycle"><span class="order-cycle-block">'.concat(getBillingCycleText(parseInt(e)+1),"</span></span>"),isZeroBillingCycle:"0th"==e,isDiscountZero:0==t,onlyApplyOnThis:null==d?void 0:d.isTail,isPerkRange:null==d?void 0:d.isRange,isPerkOnward:null==d?void 0:d.isOnward,isCurrentCycle:"".concat(getBillingCycleText(null==d?void 0:d.currentCycle)),isRangeEnd:"".concat(getBillingCycleText(parseInt(null==d?void 0:d.rangeEnd)+1))},Mustache.render(JSON.parse(RS.Config.labels)["appstle.subscription.wg.loyaltyPerkDescriptionTextV2"],a)):"PERCENTAGE"===n?'After <span class="appstle-loyalty-billing-cycle"><span class="">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(t+"% off","</span></span>."):"SHIPPING"===n?'After <span class="appstle-loyalty-billing-cycle"><span class="">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">',"shipping at ".concat(formatPrice(100*t)),"</span></span>."):"FREE_PRODUCT"===n?'After <span class="appstle-loyalty-billing-cycle"><span class="">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">FREE PRODUCT (').concat(l,")</span></span>."):"FIXED"===n?'After <span class="appstle-loyalty-billing-cycle"><span class="">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(formatPrice(100*t)+" off","</span></span>."):"PRICE"===n?'After <span class="appstle-loyalty-billing-cycle"><span class="">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get at <span class="appstle-loyalty-discount-amount">').concat(formatPrice(100*t),"</span></span>."):i?'Get <span class="appstle-loyalty-free-trial-discount">'.concat(t,' <span class="appstle-loyalty-free-trial-discount-count" style="text-transform: lowercase;">').concat(n).concat(1<t?"s":"",'</span></span> <span class="appstle-loyalty-free-trial-text">free trial.</span>'):"PERCENTAGE"===n?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(t+"% off","</span></span>."):"SHIPPING"===n?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">',"shipping at ".concat(formatPrice(100*t)),"</span></span>."):"FREE_PRODUCT"===n?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">FREE PRODUCT (').concat(l,")</span></span>."):"FIXED"===n?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(formatPrice(100*t)+" off","</span></span>."):"PRICE"===n?'After <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> order</span>, <span class="appstle-loyalty-discount">get at <span class="appstle-loyalty-discount-amount">').concat(formatPrice(100*t),"</span></span>."):void 0}function getSellingPlanDetails(t,n){var e=(null==(e=product)?void 0:e.selling_plan_groups.filter(function(e){return(null==e?void 0:e.id)===t})).pop();return(null==e||null==(e=e.selling_plans)?void 0:e.filter(function(e){return(null==e?void 0:e.id)===n})).pop()}function getSellingPlanDetailsById(t){var e;return null==(e=RSConfig)||null==(e=e.sellingPlansJson)?void 0:e.find(function(e){return(null==e?void 0:e.id.split("/").pop())===String(t)})}function checkIfSellingPlanGroupIsSelected(e){if(e){var t=!1;try{t=e.find("[name=selling_plan]:checked").val()}catch(e){}}else{t=!1;try{t=jQuery("#appstle_subscription_widget"+widgetId).find("[name=selling_plan]:checked").val()}catch(e){}}return t}function buildDiscountText(e){return wrapPriceWithSpanTag(Mustache.render(RS.Config.selectedDiscountFormat,{selectedDiscountPercentage:e}))}function buildPrepaidDiscountText(e){e={selectedDiscountPercentage:e};return wrapPriceWithSpanTag(Mustache.render(DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.prepaidSaveBadgeTextV2"]),e))}function updateSellingPlanValueToFinalPrice(){var t,l,e=null,e=(e=0<$(".product__info-wrapper, .form__width, .product-block-list__item--info, .ProductForm, #product-meta-inner, div.product-form__input.product-form__quantity > quantity-input, .shopify-product-form, Widget Parent Selector, .product__info-wrapper , [parenttag=ProductList], #gqXdlRv9Uf, data-product-blocks, .product__info-container, .product-single__info-wrapper , .grid__item, .product-single__meta, [data-product-grid], .product-form--container, div.product__info-wrapper.grid__item, .product-single__box, .test, widget--sub, .product__info-wrapper.grid__item, #AddToCartForm, #disTarget, [data-form-wrapper], product-info, .purchase-options, form-control, .product-tile, .product-single__meta, .product__form, .card--card.card--media.color-background-1.gradient, Choose Your Plan, #c-1677303769413, .product-form, product-info, .card.card--card.card--media, .card-wrapper.product-card-wrapper.underline-links-hover, .product__info-wrapper.grid__item, form, .item-content, .js-product-cart-replace, AddToCartForm, .f-product-single__info, ProductInfo-template, card-product, choose-lenses-trigger btn left, safe-sticky, product-info,.featured-product, product-form.product-form, .product__info-container.product__column-sticky, #kit_quantity, div.product-block-container, product-form, .eight.columns.omega, .grid__item, product-form, div.product-information, .pf-product-form, #appstle-wrap, #main-product, .DP6-bundle-block, .indiv-product, .card-wrapper.product-card-wrapper, product-info, div.product-single__meta, .grid-view-item, .shg-row, product-info, .product-block, div.card-wrapper, div.product__cart-functions, #appstle_subscription_widget0 > div.appstle_subscription_wrapper, .main-product__blocks, .grid__item, .product.grid, div.product__info-wrapper, .card.card--standard, .r-1m6i2kf, .product-shop, div.core__row--columns > div.ecom-column.ecom-core.core__column--last.ecom-2lkrb23rfnx, .product-info, .g75KJL0Pq1.gp-relative.gp-flex.gp-flex-col, .product__details.product__primary-right").length?"span.price-item.price-item--regular, .product-price, .product-price--original, .price, .price__container, .price__item, .price__regular, .product__price, .price-item, .product_meta_price, .price-item--sale, .price__sale, .theme-money, .cart-item__price, .price__money, .price-price, .cart__item-price-col.text-right, .product-price .price.sale-price, .price.price--end.price-money, .cart-item__price-wrapper.medium-up, div.cart-item__price-wrapper.medium-up > span > price-money, .price-item--regular, span.product__price.on-sale > span, span.price-item.price-item--regular, .product__price, .product__price.product__block, .product__price.product__block.animation-fade-up-reveal.product__block--small.fs-heading-4-base > span:nth-child(1), div > hdt-price, span.theme-money.cart-item__selling-total, div.cart-item__details .product-option, .cart-item__price-wrapper.medium-up, div.cart__footer .grid__item>.cart__item-sub>div[data-subtotal], div.checkout-subtotal-container__right>div>.subtotal, .product-price-container.text-accent.text-lg > span:nth-child(1), div.product-info__title.product_price, span.btn-state-ready > span:nth-child(3), div.theme-money, span.price__regular, p.price, span.product__price, div.product__price, div.price, div.price__regular, span.price-item--regular, div.cart-item__price-wrapper, .product__info-wrapper .product__price, .price__total, .product__price-container, .price__list, .product__price.product__container, .f\\:price-item.f\\:price-item--regular:first, .f\\:price-item.f\\:price-item--sale:first".split(",").map(function(e){return e.trim()}).find(function(e){return 0<$(e).length}):e)||".appstle-preview-format-price",e={regular:{sellingPrice:DOMPurify.sanitize(RSConfig.priceSelector)||e,saleBadgeTop:DOMPurify.sanitize(RSConfig.badgeTop)}}.regular,n=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.productPageUnitPriceSelectorV2"]||".f-price__unit"),i=getSelectedSellingPlanId(),a=getSellingPlanAllocation(getVariantId(),parseInt(i)),r=(null==(r=a)?void 0:r.per_delivery_price)!==(null==(r=a)?void 0:r.price),o=(null!=(o=RSConfig)&&o.widgetParentSelector?(jQuery("#appstle_subscription_widget"+widgetId).parents(null==(o=RSConfig)?void 0:o.widgetParentSelector).find(".appstle_subscription_final_price").remove(),jQuery("#appstle_subscription_widget"+widgetId).parents(null==(o=RSConfig)?void 0:o.widgetParentSelector).find(".appstle_subscription_element").remove(),jQuery("#appstle_subscription_widget"+widgetId).parents(null==(o=RSConfig)?void 0:o.widgetParentSelector).find(".appstle_subscription_compare_price").remove(),jQuery("#appstle_subscription_widget"+widgetId).parents(null==(o=RSConfig)?void 0:o.widgetParentSelector).find(".appstle-prepaid-price").remove(),jQuery("#appstle_subscription_widget"+widgetId).parents(null==(o=RSConfig)?void 0:o.widgetParentSelector).find(".appstle-prepaid-current-price").remove(),jQuery("#appstle_subscription_widget"+widgetId).parents(null==(o=RSConfig)?void 0:o.widgetParentSelector).find(".appstle-prepaid-original-price").remove(),jQuery("#appstle_subscription_widget"+widgetId).parents(null==(o=RSConfig)?void 0:o.widgetParentSelector).find(".appstle-prepaid-total-price").remove()):(jQuery(".appstle_subscription_final_price").remove(),jQuery(".appstle_subscription_element").remove(),jQuery(".appstle_subscription_compare_price").remove(),jQuery(".appstle-prepaid-price").remove(),jQuery(".appstle-prepaid-current-price").remove(),jQuery(".appstle-prepaid-original-price").remove(),jQuery(".appstle-prepaid-total-price").remove(),logger("Widget parent selector is missing, you may need to add it if any change on the widget is causing the prices to be changed/updated on multiple places.")),jQuery(".appstle_subscription_unit_price").remove(),getSelectedSellingPlanPrice()),s=getSellingPlanDiscountPercentage(),p=getSelectedSellingPlanPriceForPrepaid(),c=null!=(c=RSConfig)&&c.widgetParentSelector?null==(c=jQuery("#appstle_subscription_widget"+widgetId).parents(null==(c=RSConfig)?void 0:c.widgetParentSelector))?void 0:c.find(e.sellingPrice):jQuery(e.sellingPrice),d=null!=(d=RSConfig)&&d.widgetParentSelector?null==(d=jQuery("#appstle_subscription_widget"+widgetId).parents(null==(d=RSConfig)?void 0:d.widgetParentSelector))?void 0:d.find(n+":not(.appstle_subscription_unit_price)"):jQuery(n+":not(.appstle_subscription_unit_price)");1<(null==(n=c=null!=(n=RSConfig)&&n.widgetParentSelector?jQuery("#appstle_subscription_widget"+widgetId).parents(null==(n=RSConfig)?void 0:n.widgetParentSelector).find(e.sellingPrice):c)?void 0:n.length)&&logger("".concat(null==(n=c)?void 0:n.length," elements of price selector found. Use more specific selector or use widget parent selector.")),null==(n=RSConfig)||!n.widgetParentSelector||null!=(n=c)&&n.length||logger("Price update will not work, widgetParentSelector or priceSelector is set wrong."),(null!=(n=RSConfig)&&n.widgetParentSelector?(jQuery("#appstle_subscription_widget"+widgetId).parents(null==(n=RSConfig)?void 0:n.widgetParentSelector).find("[data-appstle-price-modified]").css("text-decoration",""),jQuery("#appstle_subscription_widget"+widgetId).parents(null==(n=RSConfig)?void 0:n.widgetParentSelector).find("[data-appstle-price-modified]")):(jQuery("[data-appstle-price-modified]").css("text-decoration",""),jQuery("[data-appstle-price-modified]"))).removeAttr("data-appstle-price-modified"),c.css("text-decoration",""),c.removeAttr("data-appstle-price-modified"),d.show(),(r||e.sellingPrice&&s)&&checkIfSellingPlanGroupIsSelected()&&(n=buildDiscountText(s))&&((n=jQuery(DOMPurify.sanitize('<span class="appstle_subscription_element appstle_subscription_save"> '.concat(n," </span>"))))&&n.css("top",e.saleBadgeTop),(t=c.first().clone()).addClass("appstle_subscription_final_price"),r&&"false"===widgetLabels["appstle.subscription.wg.showPrepidPerDeliveryProductPriceV2"]?(t.addClass("appstle-prepaid-price"),t.html(DOMPurify.sanitize(p)),s||(t.addClass("appstle-prepaid-total-price"),t.find(".appstle-prepaid-original-price").hide())):t.html(DOMPurify.sanitize(o)),e=getAttributes(t),Object.keys(e).forEach(function(e){"class"!==e&&"style"!==e&&t.removeAttr(e)}),widgetLabels["appstle.subscription.wg.removeClassFromPriceElementV2"]&&t.removeClass(widgetLabels["appstle.subscription.wg.removeClassFromPriceElementV2"]||"price__container"),c.css("text-decoration","line-through"),0<t.length&&t.insertBefore(c),null!=d&&d.length?(i=getSelectedSellingPlanId(),a=getSellingPlanAllocation(l=getVariantId(),parseInt(i)),!widgetLabels["appstle.subscription.wg.productPageUnitPriceSelectorV2"]||null!=(r=a)&&r.unit_price||logger("It seems that the unit price selector has been added, but the product data in Shopify hasn't been configured to include a unit price. As a result, the unit price is showing as zero. Please configure the unit price for the product to ensure it displays correctly."),d.each(function(e,t){var n,i=jQuery(t).clone();i.text("".concat(wrapPriceWithSpanTag(formatPrice(null==(n=a)?void 0:n.unit_price))).concat("undefined"==getVariantUnitPriceUnit(l)?" ":NaN+getVariantUnitPriceUnit(l))),i.addClass("appstle_subscription_unit_price"),i.insertAfter(t)}),d.hide()):widgetLabels["appstle.subscription.wg.productPageUnitPriceSelectorV2"]&&logger("Unit price selector is not added correctly."),i="gid://shopify/SellingPlan/"+(i=getSelectedSellingPlanId()),"PRICE"!=((p=RSConfig.sellingPlansJson.find(function(e){return e.id==i}))?p.discountType:void 0)?n.insertAfter(c):$(t).addClass("fixedDiscount")),c.attr("data-appstle-price-modified",!0)}function getAttributes(e){var n={};return e&&0<e.length&&$.each(null==(e=e[0])?void 0:e.attributes,function(e,t){n[t.name]=t.value}),n}function getSellingPlanDiscountPercentage(e,t){var n,i,l=e?parseInt(e):parseInt(getSelectedSellingPlanId());return l?(product.selling_plan_groups.forEach(function(t){"appstle"===t.app_id&&t.selling_plans.forEach(function(e){isSellingPlanVisible(e.id)&&e.id===l&&(n=t)})}),n.selling_plans.forEach(function(e){e.id===l&&(l=e)}),t&&2==(null==(e=l)||null==(e=e.price_adjustments)?void 0:e.length)?(i=[],null!=(t=l)&&null!=(t=t.price_adjustments)&&t.forEach(function(e){"percentage"!==(null==e?void 0:e.value_type)?i.push(formatPriceWithQuantity(null==e?void 0:e.value)):i.push((null==e?void 0:e.value)+"%")}),i):null==(t=null==(e=l)?void 0:e.price_adjustments[0])||null==t.value||0==t.value?null:"percentage"!==(null==t?void 0:t.value_type)?formatPriceWithQuantity(null==t?void 0:t.value):(null==t?void 0:t.value)+"%"):null}function updateWidgetElements(e){registerAndTriggerEventsForFormFields()}function updateStateOfWidget(e){updateSelectValueToRadio(e),updateOneTimePurchaseValueToRadio(),updateSellingPlanValueToFinalPrice(),setTimeout(function(){return updateFormFields(getCurrentSellingPlanId())},30),dispatchAppstleEvent("SubscriptionWidgetUpdated",widgetId),setTimeout(function(){jQuery(".appstle-hidden").removeClass("appstle-hidden")},30),window.appstleSelectedSellingPlan=getCurrentSellingPlanId()}function createJsonformat(){var e,t={},n=getVariantId(),i=null,l=product.variants.filter(function(e){return e.id==n}).pop();return i=standAloneElement?(null==(e=standAloneProduct)?void 0:e.variants.filter(function(e){return String(null==e?void 0:e.id)===String(n)})).pop().price:null==(e=RSConfig)||null==(e=e.variantsById[n])?void 0:e.price,t.requires_selling_plan=null==(e=product)?void 0:e.requires_selling_plan,t.oneTimePuchaseText=RS.Config.oneTimePurchaseText,t.oneTimePuchaseAmount=buildOneTimePriceText(formatPriceWithQuantity(i)),t.oneTimePuchaseComparePriceAmount=null!=l&&l.compare_at_price?buildOneTimePriceText(formatPriceWithQuantity(null==l?void 0:l.compare_at_price)):"",t.subscribeText=RS.Config.subscriptionOptionText,t.widgetId=widgetId,(t=Object.assign(Selling_Plan_Variants_Global,t)).tooltipTitle=RS.Config.tooltipTitle,t.toolTipDescription=RS.Config.tooltipDesctiption,t.companyWebsite="https://appstle.com/",t.companyName="POWERED BY APPSTLE",t.showStaticTooltip=RS.Config.showStaticTooltip,t.purchaseOptionsText=RS.Config.purchaseOptionsText,t.deliveryFrequencyText=RS.Config.sellingPlanSelectTitle,t.showAppstleLink=RS.Config.showAppstleLink,t.subscriptionOptionSelectedDefault=RS.Config.subscriptionOptionSelectedByDefault,t.showSubOptionBeforeOneTime=RS.Config.showSubOptionBeforeOneTime,t.showTooltip=RS.Config.showTooltip,t.showOneTimeComparePrice=null==(e=RS.Config)?void 0:e.showOneTimeComparePrice,t.oneTimeFrequencyText=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.oneTimeFrequencyTextV2"]),t.cancelAnytimeLabelTextV2=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.cancelAnytimeLabelTextV2"]),t.noSubscriptionLabelTextV2=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.noSubscriptionLabelTextV2"]),t}function getCssAsString(t){var n={};return t?(Object.keys(t).forEach(function(e){t[e]&&(n[e]=t[e])}),JSON.stringify(n).split('"').join("").split("{").join("").split("}").join("").split(",").join(";")):""}function updateHistoryState(){setTimeout(updateHistory,30)}function updateHistory(){var e,t,n,i;null!=(e=RSConfig)&&e.disableQueryParamsUpdate||localWindowVariant&&(e=localWindowVariant.id,history.replaceState)&&e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+"?",n=Object.fromEntries(new URLSearchParams(location.search)),checkIfSellingPlanGroupIsSelected()?(i=getSelectedSellingPlanId())&&(n.selling_plan=i):n.selling_plan="",n.variant=e,(t+=serializeQueryParams(n))!==location.href)&&urlIsProductPage()&&window.history.replaceState({path:t},"",t)}function serializeQueryParams(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&e[t]&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}function updateWidgetUIBasedOnQueryParams(){var n,e,t,i;0!==jQuery("#appstle_subscription_widget"+widgetId).length&&(n=urlParamsToObject(),0<(e=jQuery("#appstle_subscription_widget"+widgetId).closest('form[action$="/cart/add"]')).find("input[value="+n.variant+"]").length||0<e.find("option[value="+n.variant+"]").length)&&(0<e.find("option[value="+n.selling_plan+"]").length||0<e.find("input[value="+n.selling_plan+"]").length)&&n.selling_plan&&((e=jQuery(Array.prototype.slice.call(jQuery("#appstle_subscription_widget"+widgetId+" input[name=selling_plan]")).filter(function(e){return jQuery(e).val()===n.selling_plan||!!jQuery(e).parents(".appstle_subscription_wrapper_option").find("option[value=".concat(n.selling_plan,"]")).length||!!jQuery(e).parents(".appstle_subscription_wrapper_option").find("input[value=".concat(n.selling_plan,"]")).length}).pop())).length&&(e[0].checked=!0),i=(i=null)!=(t=RSConfig)&&t.switchRadioButtonWidget?e.parents(".appstle_subscription_wrapper_option").find(".appstle_subscribe_option"):e.parents(".appstle_subscription_wrapper_option").find("select"),null!=(t=RSConfig)&&t.switchRadioButtonWidget?null!=(t=i)&&t.length?i.find("input[type=radio]").each(function(e,t){$(t).removeAttr("checked"),jQuery(t).attr("value")===n.selling_plan&&$(t).attr("checked",!0)}):jQuery("#appstle_subscription_widget"+widgetId).find("input[type=radio]").each(function(e,t){$(t).removeAttr("checked"),jQuery(t).attr("value")===n.selling_plan&&$(t).attr("checked",!0)}):i.find("option").each(function(e,t){jQuery(t).attr("value")===n.selling_plan&&(i[0].selectedIndex=e)}),e.change(),i.change(),jQuery("#appstle_subscription_widget"+widgetId).find("input[type=radio]").change())}function accountPageStyle(){var e=RSConfig.css;jQuery("".concat(parseElementCSS(),"<style>").concat(DOMPurify.sanitize(e.customCSS,purifyConfig),"</style>")).appendTo(jQuery("head"))}function hexToRgb(e){var e=e.replace("#",""),t=(3===e.length&&(e=e.split("").map(function(e){return e+e}).join("")),parseInt(e.substring(0,2),16)),n=parseInt(e.substring(2,4),16),e=parseInt(e.substring(4,6),16);return"".concat(t,", ").concat(n,", ").concat(e)}function replaceHexInCssVariables(e){var t=/(--[\w-]+)\s*:\s*(#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3}))/g;return e.map(function(e){return e.replace(t,function(e,t,n){n=hexToRgb(n);return"".concat(t,": ").concat(n)})})}function parseElementCSS(){var e="";try{var t,n=replaceHexInCssVariables(JSON.parse(null==(t=RS)||null==(t=t.Config)||null==(t=t.css)?void 0:t.elementCSS));if(n)for(var i=0;i<(null==n?void 0:n.length);i++)e+="<style>".concat(n[i],"</style>")}catch(e){}return e}function addStyle(e){var t=RSConfig.css;jQuery("<style>\n            .appstle_subscription_wrapper_option input[type=radio]:focus + label .appstle_circle:before {\n                content: '' !important;\n                width: 26px !important;\n                height: 26px !important;\n                border: 2px solid currentColor !important;\n                position: absolute !important;\n                border-radius: 50% !important;\n            }\n\n     #appstle_subscription_widget".concat(e,"{\n            width: 100%;\n            text-align: left;\n            margin-top: 17px;\n            clear: both;\n            // max-width: 400px;\n            ").concat(getCssAsString(t.appstle_subscription_widget),"\n        }\n\n        #appstle_subscription_widget").concat(e,"{\n          ").concat(getCssAsString(t.appstle_widget_text_color),"\n        }\n\n          #appstle_subscription_widget").concat(e," .appstle_subscription_wrapper {\n               border: 1.5px solid #cccccc;\n              // box-shadow: 0 0 0 1px #c4cdd5;\n              border-radius: 5px;\n              margin-bottom: 5px;\n              overflow: hidden;\n              ").concat(getCssAsString(t.appstle_subscription_wrapper),"\n          }\n\n          #appstle_subscription_widget").concat(e," .appstle_subscription_wrapper_option {\n              display: flex;\n              position: relative;\n              padding: 16px 16px;\n              flex-direction: column;\n          }\n          #appstle_subscription_widget").concat(e," .appstle_selected_background {\n            ").concat(getCssAsString(t.appstle_selected_background),"\n          }\n\n          #appstle_subscription_widget").concat(e," .appstle_subscription_wrapper_option:first-child {\n             // box-shadow: 0 1px 0 0 #c4cdd5;\n             // border-bottom: inherit;\n          }\n\n          #appstle_subscription_widget").concat(e," .appstle_subscription_wrapper_option:not(.appstle_include_dropdown) {\n            justify-content: center;\n          }\n\n          #appstle_subscription_widget").concat(e,' .appstle_subscription_wrapper_option.appstle_include_dropdown {\n            flex-direction: column;\n            justify-content: center;\n          }\n\n          .appstle_circle {\n            position: relative;\n          }\n\n\n\n        [name="selling_plan"] {\n          position: absolute;\n          opacity: 0;\n      }\n\n\n          #appstle_subscription_widget').concat(e," .appstle_subscribe_option {\n              margin-left: 29px;\n              margin-top: 5px;\n              display: flex;\n              flex-direction: column;\n              align-items: flex-start;\n              text-align: left;\n          }\n\n          #appstle_subscription_widget").concat(e," .appstle_subscription_amount {\n              margin-left: auto;\n          }\n\n          #appstle_subscription_widget").concat(e," .appstle_circle {\n              display: flex;\n              height: 18px;\n              width: 18px;\n              border: 2px solid #3a3a3a;\n              border-radius: 50%;\n              margin-right: 10px;\n              justify-content: center;\n              align-items: center;\n              flex-shrink: 0;\n              ").concat(getCssAsString(t.appstle_circle),"\n            }\n\n\n            span.appstle_dot {\n              height: 10px;\n              width: 10px;\n              transform: scale(0);\n              background-color: #3a3a3a;\n              border-radius: 50%;\n              flex-shrink: 0;\n              transition: transform 0.2s;\n            }\n\n          #appstle_subscription_widget").concat(e," .appstle_subscription_wrapper_option input[type=radio]:checked + label .appstle_circle .appstle_dot {\n            transform: scale(1);\n              ").concat(getCssAsString(t.appstle_dot),"\n            }\n\n\n        #appstle_subscription_widget").concat(e," .appstle_radio_label {\n          display: flex !important;\n          align-items: center;\n          margin: 0;\n          padding: 0;\n          background: none;\n        }\n\n        #appstle_subscription_widget").concat(e," .appstle_select_label {\n          display: flex !important;\n          align-items: center;\n          margin: 0;\n          padding: 0;\n          background: none;\n          font-size: 13px;\n\n        }\n        .appstle_bundle_discount_amount {\n          font-size: 10px;\n          color:rgb(0, 0, 0);\n          font-style: oblique;\n          margin-left:26px;\n        }\n\n        #appstle_subscription_widget").concat(e," .appstle_form_field_input, #appstle_subscription_widget").concat(e," .appstle_form_field_datepicker, #appstle_subscription_widget").concat(e," .appstle_form_field_text_input {\n          width: 100%;\n          padding-left: 20px;\n          padding-right: 20px;\n          height: 43px !important;\n          border-radius: 12px;\n          border: 1px solid #0000003d!important;\n          font-size: 1.5rem;\n          color: #495057;\n        }\n\n        #appstle_subscription_widget").concat(e," .appstle_tooltip {\n          -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n          box-shadow: 0 2px 4px rgb(0 0 0 / 15%);\n          background-color: #3a3a3a;\n          border-radius: 5px;\n          left: 0;\n          color: #fff;\n          transition: transform .2s cubic-bezier(.215,.61,.355,1);\n          -ms-transform: translateY(0);\n          transform: translateY(100%) scaleY(0);\n          transform-origin: center top;\n          opacity: 0;\n          position: absolute;\n          bottom: 1px;\n          // border-bottom-left-radius: 0;\n          min-width: 250px;\n          ").concat(getCssAsString(t.appstle_tooltip),"\n        }\n\n\n\n        #appstle_subscription_widget").concat(e," [data-appstle-icon] {\n            -ms-flex-item-align: end;\n            backface-visibility: hidden;\n        }\n\n        #appstle_subscription_widget").concat(e," [data-appstle-icon]:after {\n              border: solid transparent;\n              border-top-color: #3a3a3a;\n              border-width: 9px;\n              content: '';\n              position: absolute;\n              pointer-events: none;\n              opacity: 0;\n              left: 2px;\n              bottom: 0;\n              -ms-transform: translateX(-50%) translateY(10px) rotate(180deg);\n              transform: translateY(10px) rotate(180deg);\n              transition-delay: 0;\n              visibility: hidden;\n              transition: transform .2s cubic-bezier(.215,.61,.355,1);\n              z-index: 99999999;\n              background: none;\n              padding: 0;\n              ").concat(getCssAsString(t.appstle_tooltip_border_top_color),"\n        }\n\n\n\t\t\t#appstle_subscription_widget").concat(e," [data-appstle-icon].appstle-tooltip-show+.appstle_tooltip {\n\t\t\t\t  opacity: 1;\n\t\t\t\t  visibility: visible;\n\t\t\t\t  transform: translateY(100%) scaleY(1);\n\t\t\t\t  bottom: 1px;\n\t\t\t\t  z-index: 99999999;\n\t\t\t}\n\n\t\t\t#appstle_subscription_widget").concat(e," [data-appstle-icon].appstle-tooltip-show:after {\n\t\t\t  opacity: 1;\n\t\t\t  visibility: visible;\n\t\t\t  -ms-transform: translateX(-50%) translateY(0) rotate(180deg);\n\t\t\t  transform: translateY(0) rotate(180deg);\n\t\t\t}\n\n          [data-appstle-icon] {\n            cursor: pointer;\n          }\n\n        @media screen and (min-width: 1025px) {\n\t\t\t#appstle_subscription_widget").concat(e," [data-appstle-icon]:hover .appstle_tooltip {\n\t\t\t\t  opacity: 1;\n\t\t\t\t  visibility: visible;\n\t\t\t\t  transform: translateY(100%) scaleY(1);\n\t\t\t\t  bottom: 1px;\n\t\t\t\t  z-index: 99999999;\n\t\t\t}\n\n      #appstle_subscription_widget").concat(e," [data-appstle-icon]:hover+.appstle_tooltip {\n\t\t\t\t  opacity: 1;\n\t\t\t\t  visibility: visible;\n\t\t\t\t  transform: translateY(100%) scaleY(1);\n\t\t\t\t  bottom: 1px;\n\t\t\t\t  z-index: 99999999;\n\t\t\t}\n\n\t\t\t#appstle_subscription_widget").concat(e," [data-appstle-icon]:hover:after {\n\t\t\t  opacity: 1;\n\t\t\t  visibility: visible;\n\t\t\t  -ms-transform: translateX(-50%) translateY(0) rotate(180deg);\n\t\t\t  transform: translateY(0) rotate(180deg);\n\t\t\t}\n\t\t}\n\n        #appstle_subscription_widget").concat(e," .appstle_tooltip_wrapper {\n\n          display: flex !important;\n          align-items: center;\n          position: unset;\n          box-sizing: border-box\n          position: relative;\n\n\n        }\n\n        .appstle-tootltip-parent {\n          position: relative;\n          margin-top: 8px;\n          margin-bottom: 16px;\n          margin-left: 0px;\n        }\n\n        #appstle_subscription_widget").concat(e," .appstle_tooltip_wrapper_static {\n          font-size: 13px;\n          background-color: beige;\n          border-radius: 6px;\n          padding: 23px;\n          margin-bottom: 10px;\n          ").concat(getCssAsString(t.appstle_tooltip),"\n        }\n\n        #appstle_subscription_widget").concat(e," .tooltip_subscription_svg {\n             height: 22px;\n            width: 22px;\n            margin-right: 10px;\n            fill: rgb(var(--color-foreground));\n            ").concat(getCssAsString(t.tooltip_subscription_svg),"\n        }\n\n        #appstle_subscription_widget").concat(e," .appstle_subscription_radio_wrapper {\n            display: flex;\n            align-items: flex-start;\n        }\n\n        #appstle_subscription_widget").concat(e," .appstle_subscription_amount_wrapper {\n          margin-left: auto;\n          text-align: right;\n        }\n\n        #appstle_subscription_widget").concat(e," .appstle_subscription_amount_wrapper .appstle_prepaid_description, #appstle_subscription_widget").concat(e," .appstle_subscription_amount_wrapper .appstle_selling_plan_unit_price, .appstle_one_time_unit_price {\n          font-size: 13px;\n          opacity: 0.8;\n        }\n\n        .appstle_prepaid_description {\n          word-wrap: break-word;\n        }\n\n        .appstle_subscription_final_price {\n            margin-right: 10px !important;\n            text-decoration: none;\n            color: #ff0000;\n            ").concat(getCssAsString(t.appstle_subscription_final_price),"\n        }\n\n        .appstle_subscription_save {\n            margin-left: 10px;\n              padding: 2px 6px;\n              border: 1px solid #ff0000;\n              border-radius: 3px;\n              font-size: 10px;\n              color: #ff0000;\n              font-weight: bold;\n              display: inline;\n              position: relative;\n              top: 0px;\n              letter-spacing: 1px;\n        }\n\n        #appstle_subscription_widget").concat(e," .appstle_subscription_wrapper .appstle_select {\n            width: 100%;\n            margin: 0;\n            ").concat(getCssAsString(t.appstle_select),"\n        }\n\n        #appstle_subscription_widget").concat(e," .appstle_hide_subsOption {\n          opacity: 0;\n          margin-top: 0;\n        }\n\n        #appstle_subscription_widget").concat(e," .appstle_tooltip_content {\n          padding: 16px;\n        }\n\n        body #appstle_subscription_widget").concat(e," .appstle_tooltip .appstle_tooltip_appstle {\n          padding: 12px !important;\n          font-size: 8px !important;\n          letter-spacing: 2px !important;\n          text-align: left !important;\n          background: #13b5ea !important;\n          border-bottom-left-radius: 4px !important;\n          border-bottom-right-radius: 4px !important;\n          display: flex !important;\n          justify-content: space-between !important;\n          align-items: center !important;\n        }\n\n        .appstle_link {\n          color: inherit !important;\n          text-decoration: none !important;\n          cursor: pointer !important;\n        }\n        .appstle_subcription_link {\n          color: inherit !important;\n          text-decoration: none !important;\n          cursor: pointer !important;\n        }\n\n        .appstleRadioSellingPlanWrapper {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .appstle-radio-input-wrapper{\n          display: flex;\n          align-items: center;\n        }\n        .appstleLoyaltyTable {\n          margin-top: 10px;\n          margin-bottom: 10px;\n        }\n\n        .appstle_loyalty_title {\n          margin-bottom: 5px;\n        }\n\n\n        .appstle_fields_wrapper {\n          margin-bottom: 20px;\n        }\n\n        .as-date-input-wrapper {\n          position: relative;\n        }\n\n        .as-date-input-wrapper .ui-datepicker-trigger {\n          position: absolute;\n          height: 100%;\n          width: 40px;\n          right: 0;\n          top: 0;\n        }\n\n        .as-date-input-wrapper .ui-datepicker-trigger img {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          width: 28px;\n          transform: translate(-50%, -50%);\n        }\n\n        .appstle_subscription_compare_amount  {\n          text-decoration: line-through;\n        }\n\n        #ui-datepicker-div {\n          z-index: 1000000 !important;\n        }\n\n        .appstle_one_time_details_wrapper {\n          display: flex;\n          flex-grow: 1;\n          align-items: flex-start;\n      }\n\n      .appstle_one_time_description_text {\n        margin-left: 28px;\n        font-size: 13px;\n        word-wrap: break-word;\n      }\n\n      .appstle_one_time_price_wrapper {\n        margin-left: auto;\n        text-align: right;\n      }\n\n      .appstle_one_time_unit_price {\n        text-align: right;\n      }\n\n      .appstle_sub_widget input[name=selling_plan_radio], .appstle_sub_widget input[name=selling_plan_radio_prepaid] {\n        appearance: auto;\n        height: auto;\n        overflow: unset;\n        position: relative;\n        width: unset;\n        margin: 0 !important;\n    }\n    .appstle_sub_widget *:empty {\n      display: block !important;\n  }\n  .prepaidPlansDropdownWrapper, .appstle_subscription_wrapper_option+.payAsYouGoPlansDropdownWrapper {\n    border-top: 1.5px solid #cccccc;\n}\n.appstleSelectedSellingPlanOptionDescription {\n    font-size: 13px;\n    margin-top: 4px;\n    word-wrap: break-word;\n}\n\n.appstleSellingPlanDescription {\n        font-size: 13px;\n        word-wrap: break-word;\n}\n\n.appstleRadioSellingPlanWrapper label {\nmargin-left: 10px;\nline-height: 1;\n}\n\n.appstleRadioSellingPlanWrapper input {\nmin-height: auto !important;\n}\n\n.appstle-radio-wrapper {\nmargin-top: 10px;\n}\n\n.appstle_subscribe_option {\n    display: grid !important;\n    grid-template-rows: 1fr;\n    transition: grid-template-rows 500ms, opacity 300ms 300ms;\n}\n\n.appstle_onetime_option {\n  display: grid !important;\n  transition: grid-template-rows 500ms, opacity 300ms 300ms;\n  grid-template-rows: 0fr;\n}\n\n.appstle-active-option .appstle_onetime_option {\n  grid-template-rows: 1fr;\n}\n\n\n.appstle_subscribe_option.appstle_hide_subsOption > div {\n    overflow: hidden;\n}\n\n.appstle_subscribe_option.appstle_hide_subsOption {\n    grid-template-rows: 0fr;\n}\n\n.appstle_subscribe_option.appstle_hide_subsOption {\n    height: auto !important;\n    visibility: unset !important;\n    overflow: hidden;\n}\n\n.appstle_subscribe_option_grid {\n    overflow: hidden;\n}\n.appstle_onetime_option_grid {\n  overflow: hidden;\n}\n\n.appstle-atc-button {\n    display: block;\n    width: 100%;\n    background: #3a3a3a;\n    color: #fff;\n    border: none;\n    padding: 15px 30px;\n    margin-top: 20px;\n}\n\nspan.appstle_dot {\n    transition: all 0.2s;\n}.\n\nspan.appstle_dot {\n    height: 10px;\n    width: 10px;\n    transform: scale(0);\n    background-color: #3a3a3a;\n    border-radius: 50%;\n    flex-shrink: 0;\n}\n\n.appstle-atc-button-hide {\n    display: none;\n}\n.appstle-icon {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    vertical-align: middle;\n    fill: currentColor;\n}\n\n.appstle_sub_widget input[name=selling_plan] {\n  display: block !important;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  opacity: 0;\n  top: 0;\n  left: 0;\n}\n\n.appstle_subscription_radio_wrapper {\n  position: relative;\n}\n.appstle_subscription_amount_compare_at_price {\n  text-decoration: line-through;\n  font-size: 14px;\n}\n\n.appstle-icon-spinner {\n  width: 20px;\n  -moz-animation: appstle-spin 500ms infinite linear;\n  -o-animation: appstle-spin 500ms infinite linear;\n  -webkit-animation: appstle-spin 500ms infinite linear;\n  animation: appstle-spin 500ms infinite linear; }\n\n@-webkit-keyframes appstle-spin {\n  0% {\n    -ms-transform: rotate(0deg);\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -ms-transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n@-moz-keyframes appstle-spin {\n  0% {\n    -ms-transform: rotate(0deg);\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -ms-transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n@-ms-keyframes appstle-spin {\n  0% {\n    -ms-transform: rotate(0deg);\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -ms-transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n@keyframes appstle-spin {\n  0% {\n    -ms-transform: rotate(0deg);\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg); }\n  100% {\n    -ms-transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg); } }\n\n    .appstle_subscribe_option.appstle_hide_subsOption .appstleSellingPlanDescription {\n      display: none !important;\n      }\n\n      .appstle_shipment_tooltip_wrapper {\n        position: relative;\n        margin-bottom: 6px;\n        display: inline-flex;\n        align-items: center;\n        padding-top: 11px;\n        box-sizing: border-box;\n        margin-left: 0px;\n        padding-bottom: 11px;\n      }\n      .appstle_shipment_tooltip_wrapper .appstle_shipment_tooltip {\n        -webkit-backface-visibility: hidden;\n        backface-visibility: hidden;\n        box-shadow: 0 2px 4px rgb(0 0 0 / 15%);\n        background-color: #3a3a3a;\n        border-radius: 5px;\n        left: 0;\n        color: #fff;\n        transition: transform .2s cubic-bezier(.215,.61,.355,1);\n        -ms-transform: translateY(0);\n        transform: translateY(100%) scaleY(0);\n        transform-origin: center top;\n        opacity: 0;\n        position: absolute;\n        bottom: 1px;\n        min-width: 215px;\n      }\n      .appstle_shipment_tooltip_wrapper:hover .appstle_shipment_tooltip {\n        opacity: 1;\n        visibility: visible;\n        transform: translateY(105%) scaleY(1);\n        bottom: 1px;\n        z-index: 99999999;\n      }\n      .appstle-add-to-shipment-loader, .appstle-add-to-shipment-success, .appstle-add-to-shipment-error {\n        display: none;\n      }\n      .appstle_shipment_tooltip .appstle_shipment_tooltip_content {\n        padding: 16px;\n      }\n      button.appstle-add-to-shipment {\n        margin-top: 5px;\n        width: 100%;\n        padding: 15px 40px;\n        border-radius: 100rem;\n        background: #000;\n        color: white;\n        border: none;\n        cursor: pointer;\n    }\n    button.appstle-add-to-shipment-disabled {\n      width: 100%;\n      padding: 15px 40px;\n      border-radius: 100rem;\n      background: #000;\n      color: white;\n      border: none;\n      cursor: pointer;\n      opacity: 0.8;\n      cursor: not-allowed;\n  }\n    .as-hidden {\n      display: none;\n    }\n\n    .appstle-save-badge {\n      background-color: #fed83f;\n      color: #3b3b3b;\n      width: auto;\n      border-radius: 2px;\n      border-top-right-radius: 3px;\n      border-bottom-right-radius: 3px;\n      text-transform: uppercase;\n      font-size: .5em;\n      letter-spacing: 1px;\n      line-height: 2;\n      padding: 0 0.5em;\n      margin-left: 1em;\n      position: relative;\n      display: inline-block;\n      transform: rotate(5deg) translate(0, 2px);\n      font-weight: bold;\n  }\n  .appstle-save-badge::before {\n    content: \"\";\n    display: block;\n    position: absolute;\n    top: 0;\n    height: 100%;\n    width: 2em;\n    left: calc(-2em + 1px);\n    background: linear-gradient(to bottom right, transparent 49.4%, rgb(254, 216, 63) 50%) top, linear-gradient(to top right, transparent 49.4%, rgb(254, 216, 63) 50%) bottom;\n    background: conic-gradient(transparent 45deg, rgb(254, 216, 63) 45deg 135deg, transparent 125deg 360deg);\n    background: linear-gradient(to bottom right, transparent 50%, rgb(254, 216, 63) 50%) top, linear-gradient(to top right, transparent 50%, rgb(254, 216, 63) 50%) bottom;\n    background: conic-gradient(transparent 45deg, rgb(254, 216, 63) 45deg 135deg, transparent 125deg 360deg);\n    background-size: 100% 51%;\n    background-size: 100% 100%;\n    background-repeat: no-repeat;\n}\n\n  .appstle-save-badge:empty {\n    display: none;\n  }\n\n  product-info .appstle_stand_alone_price_display_selector {\n    display: none !important;\n}\n\n.appstle_select {\n  padding: 12px 20px !important;\n  border: 1px solid #ccc !important;\n  border-radius: 4px !important;\n}\n\n\n.appstle_widget_title {\n  margin-bottom: 6px;\n}\n\n.as-customCheckboxField-wrapper { display: flex; align-items: center;}\n\nspan.appstle_stand_alone_price_display_selector:empty {display:none !important;}\n\n.appstle_tooltip_wrapper {\n  position: relative;\n  z-index: 2;\n}\n\n.appstle_select:focus-visible {\n    outline: none !important;\n    outline-offset: 0 !important;\n    box-shadow: none !important;\n}\n\n.appstle_sub_widget{\nposition:relative\n}\n\n.appstle_subscription_wrapper_option.appstle_include_dropdown {\n     border: 1.5px solid #cccccc;\n\n}\n\n.appstle_subscription_wrapper_option {\n     border: 1.5px solid #cccccc;\n}\nselect {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n\n.appstle_custom_select {\n  position: relative;\n}\n.appstle_custom_select:before {\n  position: absolute;\n  content: '';\n  width: 8px;\n  height: 8px;\n  background-repeat: no-repeat;\n  z-index: 1;\n  border-right: 1.5px solid #666;\n  border-bottom: 1.5px solid #666;\n  right:10px;\n  top: calc(50% - 3px);\n  transform: translateY(-50%) rotate(45deg);\n  pointer-events:none;\n}\n\n.errorBanner {\n    background: lightgoldenrodyellow;\n    padding: 10px;\n    font-size: 14px;\n    margin: 10px 0;\n    border-radius: 9px;\n    border: 2px solid orange;\n}\n\n.errorBanner * {\nmargin: 0;\n}\n\n.WIDGET_TYPE_7 .appstle_one_time_text {\n  font-size: 16px;\n}\n.WIDGET_TYPE_7 span.appstle-save-badge {\n  background-color: rgba(var(--color-foreground, 0, 0, 0));\n  padding: 0em 0.75em;\n  border-radius: 12px;\n  font-size: 0.67em;\n  font-weight: bold;\n  transform:none;\n  vertical-align:middle;\n  color:rgba(var(--color-background, 255, 255, 255));\n}\n.WIDGET_TYPE_7 .appstle-save-badge::before{\n  display:none;\n}\n\n.WIDGET_TYPE_7 .appstle_widget_title {\n  margin-bottom:10px;\n}\n.WIDGET_TYPE_7 .appstle_custom_select {\n  max-width:250px;\n  border-width:2px;\n  border-radius:10px;\n}\n.WIDGET_TYPE_7 .appstle_custom_select:before{\n  border-right:2px solid rgb(var(--color-foreground, 0, 0, 0));\n  border-bottom: 2px solid rgb(var(--color-foreground, 0, 0, 0));\n}\n.WIDGET_TYPE_7 .appstle_select{\n  color:rgb(var(--color-foreground, 0, 0, 0));\n  background:none;\n  border: 2px solid rgb(var(--color-background, 255, 255, 255)) !important;\n  font-family: inherit;\n}\n.WIDGET_TYPE_7 .appstle_select option {\n    background:rgb(var(--color-background, 255, 255, 255));\n}\n.WIDGET_TYPE_7 .appstle_subscription_wrapper {\n  border: none !important;\n  color: rgb(var(--color-foreground, 0, 0, 0));\n}\n.WIDGET_TYPE_7 .appstle_subscription_wrapper_option:not(.appstle_include_dropdown) {\n  border: 1px solid;\n  border-radius: 15px;\n}\n\n.WIDGET_TYPE_7 .appstle_subscription_wrapper_option.appstle_include_dropdown {\n  border: 1px solid;\n  margin-top: 15px;\n  border-radius: 15px;\n\n}\n.appstle_sub_widget.WIDGET_TYPE_7{\n  max-width:100%;\n}\n  .WIDGET_TYPE_7 .appstle_select{\n  background: none;\n  border: 1px solid !important;\n  }\n\n.WIDGET_TYPE_7 .appstle_custom_select:before{\n  border-right:2px solid;\n  border-bottom: 2px solid;\n}\n.WIDGET_TYPE_7 .appstle-save-badge {\nmargin-left: 0;\nflex-shrink: 0;\n}\n.WIDGET_TYPE_7 .appstle-text-and-badge-wrapper {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  column-gap: 10px;\n}\n\n.WIDGET_TYPE_7 .appstle_circle {\nborder-color: rgba(var(--color-foreground, 0, 0, 0)) !important;\n}\n.WIDGET_TYPE_7 .appstle_select_label{\nfont-family: inherit;\n}\n.WIDGET_TYPE_7 .appstle-tootltip-parent {\n    margin-top:0px;\n}\n.WIDGET_TYPE_7 .appstle_subscription_wrapper_option.appstle_include_dropdown {\n    margin-bottom: 12px;\n}\n.WIDGET_TYPE_1 .appstle_prepaid_description.transcy-money {\n    color:rgba(var(--color-foreground));\n}\n.WIDGET_TYPE_1 .appstle_subscription_wrapper {\n    border: 1px solid rgba(var(--color-foreground)) !important;\n    border-radius: 16px !important;\n}\n.WIDGET_TYPE_1 .appstle_subscription_wrapper {\n  border:none !important;\n  color: rgb(var(--color-foreground));\n }\n.WIDGET_TYPE_1 .appstle_subscription_wrapper_option:not(.appstle_include_dropdown) {\n    border: 1.5px solid;\n    border-radius: 15px;\n}\n.WIDGET_TYPE_1 .appstle_subscription_wrapper_option.appstle_include_dropdown {\n    border: 1.5px solid;\n    border-radius: 15px;\n}\n.WIDGET_TYPE_1 .appstle-radio-input-wrapper input {\n  accent-color: rgba(var(--color-foreground)) !important;\n}\n\n.WIDGET_TYPE_1.appstle-save-badge {\n  margin-left: 0;\n  flex-shrink: 0;\n}\n.WIDGET_TYPE_1 .appstle-text-and-badge-wrapper {\n display: flex;\n flex-wrap: wrap;\n align-items: center;\n column-gap: 10px;\n}\n.WIDGET_TYPE_1 .appstle_one_time_text{\n    color:rgba(var(--color-foreground));\n}\n.WIDGET_TYPE_1 .appstle_radio_label{\n    color:rgba(var(--color-foreground));\n}\n.WIDGET_TYPE_1 .appstle_subscription_wrapper {\n    display: grid;\n    row-gap: 10px;\n}\n.WIDGET_TYPE_1 .appstle_widget_title{\ncolor:rgba(var(--color-foreground));\n}\n.appstle_tooltip_wrapper_static br:first-child {\n  display: none !important;\n}\nspan.appstle-prepaid-original-price {\n  text-decoration:line-through !important;\n  margin-left:10px;\n  color:black;\n}\n.appstle-prepaid-price + [data-appstle-price-modified=\"true\"]{\n  display:none !important\n}\n.appstle-prepaid-total-price ~ .appstle_subscription_element{\n    display:none !important;\n}\n.appstle-prepaid-price ~ .appstle_subscription_save {\n    margin-left: 0px !important;\n}\n.ecom-block:has(.ecom-extension-product-appstle-subscriptions) { z-index: 1; }\n.appstle_fields_wrapper:empty{\n    display: none !important;\n}\n\n          [class*=appstle-sr-only].sr-only {\n    display: none !important;\n}\n.WIDGET_TYPE_1 .appstle-radio-input-wrapper input:after{\n    width: 9px;\n    height: 9px;\n    border-radius: 15px;\n    content: '';\n    display: flex;\n    visibility: visible;\n    border: 2px solid rgba(255, 255, 255, 1);\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 1);\n    box-sizing: content-box !important;\n}\n.WIDGET_TYPE_1 .appstleRadioSellingPlanWrapper{\n    margin-left: 2px !important;\n}\n.WIDGET_TYPE_1 .appstle-radio-input-wrapper input:checked:after{\n    background-color: rgba(0, 0, 0, 1);\n}\n\n.appstle_subscription_description_text {\n    margin-left: 28px;\n    font-size: 13px;\n    word-wrap: break-word;\n}\n.appstleLoyaltyTable .appstle-reward-items{\ndisplay: flex;\nalign-items: center;\n}\n.appstleLoyaltyTable .appstle-icon{\n    width: 30px;\n    height: 30px;\n    border-radius: 5px;\n    align-items: center;\n    justify-content: center;\n    margin-right: 5px;\n}\n.appstleLoyaltyTable .appstle-reward-items {\n    display: flex;\n    align-items: start;\n}\n.appstle-toggle-more-btn{\ncursor:pointer;\nfont-size: 14px;\nfont-weight: 500;\ncolor: white;\n}\n.appstle-toggle-more-row{\nbackground-color:black;\n}\n.appstle_loyalty_text{\nbackground-color:rgb(255 255 255)\n}\n.appstle-hidden-perks{\nbackground-color:rgb(255 255 255)\n}\n\ntable.appstle-loyalty-table {\n  table-layout: fixed;\n   border-collapse: collapse;\n   font-size: 14px;\n   border-style: hidden;\n   box-shadow: 0 0 0 1px #000;\n   overflow: hidden;\n   border-radius: 5px;\n}\n\ntable.appstle-loyalty-table td {\n   padding: 14px;\n   border-bottom: 1px solid #000;\n}\n   .appstle-reward-title-badge {\n    display: flex;\n    justify-content: space-between;\n}\ntr.appstle-toggle-more-row td {\n    padding: 8px !important;\n}\n.appstle-loyalty-save-badge {\n    background-color: #f3f4f6;\n    padding: 4px 8px;\n    display: inline-block;\n    border-radius: 12px;\n    font-size: 12px;\n    font-weight: normal;\n    color: #6b7280;\n    margin-block: 4px;\n    line-height: 1;\n    letter-spacing: 0;\n}\ntable.appstle-loyalty-table td:hover {\n    background: #f9f9f9;\n}\n\ntable.appstle-loyalty-table .appstle-toggle-more-row td:hover {\n    background: #000;\n}\n}\n\n      </style>\n      ").concat(parseElementCSS(),"\n        <style>").concat(t.themeCss,"</style>\n        <style>").concat(DOMPurify.sanitize(t.customCSS,purifyConfig),"</style>")).appendTo(jQuery("head"))}window.Shopify&&(product=RSConfig.product,standAloneProduct&&(product=standAloneProduct),null!=(_product=product)&&null!=(_product=_product.selling_plan_groups)&&_product.length||window.self===window.top||(RSConfig.product={id:6640441884844,price:4299,price_min:4299,price_max:4299,available:!0,price_varies:!1,compare_at_price:null,compare_at_price_min:0,compare_at_price_max:0,compare_at_price_varies:!1,variants:[{id:39556347396268,title:"Default Title",option1:"Default Title",option2:null,option3:null,sku:"",requires_shipping:!0,taxable:!0,featured_image:null,available:!0,name:"Healthy and Organic Pet Food",public_title:null,options:["Default Title"],price:4299,weight:0,compare_at_price:null,inventory_management:null,barcode:"",requires_selling_plan:!1,selling_plan_allocations:[{price_adjustments:[{position:1,price:3439}],price:3439,compare_at_price:4299,per_delivery_price:3439,selling_plan_id:661160108,selling_plan_group_id:"c96ebb52886e63b9af60f67effbfef318dc8dc26"},{price_adjustments:[{position:1,price:3654}],price:3654,compare_at_price:4299,per_delivery_price:3654,selling_plan_id:661192876,selling_plan_group_id:"c96ebb52886e63b9af60f67effbfef318dc8dc26"},{price_adjustments:[{position:1,price:3869}],price:3869,compare_at_price:4299,per_delivery_price:3869,selling_plan_id:1622474924,selling_plan_group_id:"c96ebb52886e63b9af60f67effbfef318dc8dc26"}]}],requires_selling_plan:!1,selling_plan_groups:[{id:"c96ebb52886e63b9af60f67effbfef318dc8dc26",name:"All in One",options:[{name:"Delivery every",position:1,values:["1DAY1DAYMIN_CYCLES=NULLMAX_CYCLES=NULLtrue-20.0-PERCENTAGEfalseDaily","1WEEK1WEEKMIN_CYCLES=NULLMAX_CYCLES=1true-15.0-PERCENTAGEfalseWeekly","1MONTH1MONTHMIN_CYCLES=NULLMAX_CYCLES=NULLtrue-10.0-PERCENTAGEfalseMonthly"]}],selling_plans:[{id:661160108,name:"Daily",description:null,options:[{name:"Delivery every",position:1,value:"1DAY1DAYMIN_CYCLES=NULLMAX_CYCLES=NULLtrue-20.0-PERCENTAGEfalseDaily"}],recurring_deliveries:!0,price_adjustments:[{order_count:null,position:1,value_type:"percentage",value:20}],checkout_charge:{value_type:"percentage",value:100}},{id:661192876,name:"Weekly",description:null,options:[{name:"Delivery every",position:1,value:"1WEEK1WEEKMIN_CYCLES=NULLMAX_CYCLES=1true-15.0-PERCENTAGEfalseWeekly"}],recurring_deliveries:!1,price_adjustments:[{order_count:null,position:1,value_type:"percentage",value:15}],checkout_charge:{value_type:"percentage",value:100}},{id:1622474924,name:"Monthly",description:"",options:[{name:"Delivery every",position:1,value:"1MONTH1MONTHMIN_CYCLES=NULLMAX_CYCLES=NULLtrue-10.0-PERCENTAGEfalseMonthly"}],recurring_deliveries:!0,price_adjustments:[{order_count:null,position:1,value_type:"percentage",value:10}],checkout_charge:{value_type:"percentage",value:100}}],app_id:"appstle"}]},product=RSConfig.product,standAloneProduct=standAloneProduct&&RSConfig.product),processProductVariants(product),localVariantsByTitle=RSConfig.variantsByTitle,localVariantsById=RSConfig.variantsById,widgetLabels=JSON.parse(RS.Config.labels),Selling_Plan_Variants_Global={},appstleSubscriptionFunction=function(){if(!0===urlIsProductPage()||appstleStandAloneSelectorExists()){var R,D,I,O,j,E=buildAtcButtonSelector(),k=null;try{null!=(e=k=jQuery(E).first())&&e.length||(k=jQuery("#appstle-subscription-widget-placeholder"))}catch(e){logger("atc button selector is incorrect, please correct it.")}standAloneElement&&(k=standAloneElement);var Q="#appstle-subscription-widget-placeholder",e=(null==(e=RSConfig)||!e.quantitySelector||null!=(e=RSConfig)&&e.widgetParentSelector||logger("Update price on quantity change will not work because WIDGET PARENT SELECTOR is missing."),null!=(e=RSConfig)&&e.quantitySelector||logger("Update price on quantity change will not work because QUANTITY SELECTOR is missing."),'\n            gp-product-quantity,\n            quantity-input,\n            quantity-breaks,\n            pumper-bundle,\n            quantity__container,\n            product-quantity,\n            [name="quantity"],\n            gp-product-bundle-discount-item,\n            gp-product-bundle-discount,\n            .quantity__input[type=number],\n            .quantityClass,\n            input[name="quantity"],\n            Quantity,\n            variant-picker,\n            input[type="number"],\n            [data-quantity-action="decrease"],\n            [data-quantity-action="increase"],\n            .plus,\n            .minus,\n            quantity-selector-component,\n            .bundle-quantity-selector__box\n          '),n=(0===jQuery(e).length&&logger("No quantity selector elements found on storefront using fallback selector "),k.parents($((null==(i=RSConfig)?void 0:i.widgetParentSelector)||"product-info")).find((null==(i=RSConfig)?void 0:i.quantitySelector)||e).on("change",function(){setTimeout(triggerEventsFromInput,100)}).on("click",function(){setTimeout(triggerEventsFromInput,100)}).on("blur",function(){setTimeout(triggerEventsFromInput,100)}),$(document).on("click",function(e){var t;null!=(t=$(e.target).closest(".appstle_tooltip_wrapper"))&&t.length?(t=$(e.target).closest(".appstle_sub_widget").attr("id").match(/\d+/g),widgetId==t&&$("#appstle_subscription_widget".concat(widgetId," [data-appstle-icon]")).toggleClass("appstle-tooltip-show")):$(e.target).closest(".appstle-tootltip-parent").length||$("#appstle_subscription_widget".concat(widgetId," [data-appstle-icon]")).removeClass("appstle-tooltip-show")}),function(){var e=null;try{k=jQuery(E).first(),null!=(t=k=standAloneElement?standAloneElement:k)&&t.length||(k=jQuery("#appstle-subscription-widget-placeholder"));var t,n=detectVariant(D,k,product);if(n){var i,l,a=n.id;if(!D||D!==a){if(product.selling_plan_groups&&0<product.selling_plan_groups.length&&(l=product.selling_plan_groups.filter(function(e){return"appstle"===e.app_id})),RS.Config.widgetEnabled||logger("Widget is disabled in the settings. Please enable it"),null!=(i=l)&&i.length||(logger("There is no selling plan configured with this product. Thus Widget won't appear."),logger("If selling plans are configured in MP and those are not coming in RSConfig.product.selling_plan_groups, then try Europe in Opera Browser VPN and check.")),product||logger("Product data is not available thus widget will not appear."),l&&0<l.length&&RS.Config.widgetEnabled){localWindowVariant=n;var r,o,s,p,c,d,u,g,_,f,m,y,b=RS.Config.selectors.atcButtonPlacement;if(!O||null!=(r=$(document).find(O))&&r.length||(I=null,$("#appstle_subscription_widget"+widgetId).remove()),I?(g=getCurrentSellingPlanId(),_=I.find(".payAsYouGoPlansDropdownWrapper .appstle_select").val()||I.find(".payAsYouGoPlansDropdownWrapper input[name=selling_plan_radio]:checked").val(),f=I.find(".prepaidPlansDropdownWrapper .appstle_select").val()||I.find(".prepaidPlansDropdownWrapper input[name=selling_plan_radio_prepaid]:checked").val(),unbindEventListeners(),I.children().remove(),addSubscriptionItems(I,n,g,_,f),e=createJsonformat(),j?I.insertBefore(j):I.appendTo(O)):(m="true"==widgetLabels["appstle.subscription.wg.showNewLoyaltyUI"]?"appstle-new-loyalty":"",O=jQuery('<div class="appstle_sub_widget '.concat(RSConfig.widgetType," ").concat(m,' appstle-hidden" id="appstle_subscription_widget').concat(widgetId,'"></div>')),RS.Config.purchaseOptionsText,R=jQuery(DOMPurify.sanitize('<div class="appstle_widget_title">'+RS.Config.purchaseOptionsText||" </div>")),I=jQuery('<div class="appstle_subscription_wrapper"></div>'),j=RS.Config.tooltipTitle&&RS.Config.showTooltip&&!RS.Config.showStaticTooltip?jQuery(DOMPurify.sanitize('<div class="appstle-tootltip-parent"><div data-appstle-icon="" class="appstle_tooltip_wrapper">\n                        <svg width="90" height="90" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg" class="tooltip_subscription_svg">\n                          <path d="M45 0C20.1827 0 0 20.1827 0 45C0 69.8173 20.1827 90 45 90C69.8173 90 90 69.8174 90 45C90.0056 44.6025 89.9322 44.2078 89.7839 43.8389C89.6357 43.47 89.4156 43.1342 89.1365 42.8511C88.8573 42.568 88.5247 42.3432 88.158 42.1897C87.7912 42.0363 87.3976 41.9573 87 41.9573C86.6024 41.9573 86.2088 42.0363 85.842 42.1897C85.4753 42.3432 85.1427 42.568 84.8635 42.8511C84.5844 43.1342 84.3643 43.47 84.2161 43.8389C84.0678 44.2078 83.9944 44.6025 84 45C84 66.5748 66.5747 84 45 84C23.4253 84 6 66.5747 6 45C6 23.4254 23.4253 6 45 6C56.1538 6 66.3012 10.5882 73.4375 18H65.4062C65.0087 17.9944 64.614 18.0678 64.2451 18.2161C63.8762 18.3643 63.5405 18.5844 63.2573 18.8635C62.9742 19.1427 62.7494 19.4753 62.596 19.842C62.4425 20.2088 62.3635 20.6024 62.3635 21C62.3635 21.3976 62.4425 21.7912 62.596 22.158C62.7494 22.5247 62.9742 22.8573 63.2573 23.1365C63.5405 23.4156 63.8762 23.6357 64.2451 23.7839C64.614 23.9322 65.0087 24.0056 65.4062 24H79.8125C80.6081 23.9999 81.3711 23.6838 81.9337 23.1212C82.4963 22.5586 82.8124 21.7956 82.8125 21V6.59375C82.821 6.18925 82.7476 5.78722 82.5966 5.41183C82.4457 5.03644 82.2205 4.69545 81.9344 4.40936C81.6483 4.12327 81.3073 3.898 80.9319 3.7471C80.5565 3.5962 80.1545 3.52277 79.75 3.53125C79.356 3.53941 78.9675 3.62511 78.6067 3.78344C78.2458 3.94177 77.9197 4.16963 77.6469 4.45402C77.3741 4.73841 77.16 5.07375 77.0168 5.44089C76.8737 5.80803 76.8042 6.19977 76.8125 6.59375V12.875C68.6156 4.86282 57.3081 0 45 0ZM43.75 20.75C43.356 20.7582 42.9675 20.8439 42.6067 21.0022C42.2458 21.1605 41.9197 21.3884 41.6469 21.6728C41.3741 21.9572 41.16 22.2925 41.0168 22.6596C40.8737 23.0268 40.8042 23.4185 40.8125 23.8125V47.375C40.8116 47.7693 40.8883 48.16 41.0385 48.5246C41.1886 48.8892 41.4092 49.2207 41.6875 49.5L54.0938 61.9375C54.6573 62.5011 55.4217 62.8177 56.2188 62.8177C57.0158 62.8177 57.7802 62.5011 58.3438 61.9375C58.9073 61.3739 59.224 60.6095 59.224 59.8125C59.224 59.0155 58.9073 58.2511 58.3438 57.6875L46.8125 46.1875V23.8125C46.821 23.408 46.7476 23.006 46.5966 22.6306C46.4457 22.2552 46.2205 21.9142 45.9344 21.6281C45.6483 21.342 45.3073 21.1168 44.9319 20.9658C44.5565 20.8149 44.1545 20.7415 43.75 20.75Z">\n                          </path>\n                        </svg>\n                        <span class="appstle_tooltip_title">'.concat(RS.Config.tooltipTitle,'</span>\n                        </div><div class="appstle_tooltip">\n                          <div class="appstle_tooltip_content">\n                              ').concat(RS.Config.tooltipDesctiption,"\n                          </div>\n                          ").concat(RS.Config.showAppstleLink?'<div class="appstle_tooltip_appstle">\n                           <a href="https://appstle.com/subscription-article" class="appstle_subcription_link" target="_blank">\n                              LEARN ABOUT SUBCRIPTIONS\n                            </a>\n                            <a href="https://appstle.com/" class="appstle_link" target="_blank">\n                              POWERED BY APPSTLE\n                            </a>\n                          </div>':"<span></span>","\n                                        </div>\n                                      </div>"))):RS.Config.showTooltip&&RS.Config.showStaticTooltip&&jQuery(DOMPurify.sanitize('<div class="appstle_tooltip_wrapper_static">'.concat(RS.Config.tooltipDesctiption,"</div>"))),R&&R.appendTo(O),addSubscriptionItems(I,n),e=createJsonformat(),I.appendTo(O),j&&j.appendTo(O)),null==(o=product)||!o.available)if("false"==(null==(y=RS.Config)?void 0:y.widgetEnabledOnSoldVariant))return void logger("Product is SOLD OUT (INVENTORY NOT AVL), that's why widget is not visible. Please enable 'widget enabled on Sold out variants'");!standAloneElement&&jQuery(Q).length&&(logger("Please remove app block from theme section, if widget is not visible."),k=jQuery(Q).first());var h,v,w,P,S,C,x,T=null;RSConfig.allWidgetTemplateHtml&&(x=JSON.parse(RSConfig.allWidgetTemplateHtml),-1!==(null==(h=product)||null==(h=h.tags)?void 0:h.indexOf("WIDGET_TYPE_1"))?T=x.WIDGET_TYPE_1:-1!==(null==(v=product)||null==(v=v.tags)?void 0:v.indexOf("WIDGET_TYPE_2"))?T=x.WIDGET_TYPE_2:-1!==(null==(w=product)||null==(w=w.tags)?void 0:w.indexOf("WIDGET_TYPE_3"))?T=x.WIDGET_TYPE_3:-1!==(null==(P=product)||null==(P=P.tags)?void 0:P.indexOf("WIDGET_TYPE_4"))?T=x.WIDGET_TYPE_4:-1!==(null==(S=product)||null==(S=S.tags)?void 0:S.indexOf("WIDGET_TYPE_5"))?T=x.WIDGET_TYPE_5:-1!==(null==(C=product)||null==(C=C.tags)?void 0:C.indexOf("WIDGET_TYPE_6"))&&(T=x.WIDGET_TYPE_6)),(T=null==(p=T=T||(null==(s=RSConfig)?void 0:s.widgetTemplateHtml))||null==(p=p.replace("{% raw %}",""))?void 0:p.replace("{% endraw %}",""))&&(O&&jQuery(O).remove(),O=jQuery(Mustache.render(T,e))),k&&0!=(null==(c=k)?void 0:c.length)||logger("No element found for given widget selector. Please check widget selector value in Theme Integration/Theme Settings."),1<(null==(d=k)?void 0:d.length)&&logger("ATC button selector is not unique. Please check widget selector value in Theme Integration/Theme Settings."),null!=n&&null!=(u=n.selling_plan_allocations)&&u.length&&("BEFORE"===b?O.insertBefore(k):"AFTER"===b?O.insertAfter(k):"FIRST_CHILD"===b?O.prependTo(k):"LAST_CHILD"===b&&O.appendTo(k)),window.self!==window.top&&O.prepend('<div class="errorBanner"><h3>Attention</h3><p style="margin-top: 8px;">The widget displayed in the preview is a mockup designed to give you a general idea of its appearance and functionality. It may not represent the final version in terms of features, interactions, or design. The widget might not be actually visible to the product page if the widget is not configured in Appstle\'s portal. To experience the fully functional, original widget, please visit the store where you can see and interact with the real product.<p></div>'),updateWidgetElements(),jQuery(document).trigger("appstle_widget_updated"),jQuery("#appstle_subscription_widget"+widgetId).find("[name=selling_plan]").length!==jQuery("#appstle_subscription_widget"+widgetId).parents("form").find("[name=selling_plan]").length&&logger("There are other elements named selling_plan present from other app like Preorder which might impact Appstle's app compatibility."),window.DashPreorders&&logger("Store is using Dash pre-order app which might impact Appstle's app compatibility.")}D=a}}}catch(e){console.error(e)}});setTimeout(function(){n(),updateWidgetUIBasedOnQueryParams()},13),attachMutationObserver('[name="id"]',n,standAloneElement),null!=(i=RSConfig)&&i.forceReloadWidgetSelector&&attachMutationObserver(null==(e=RSConfig)?void 0:e.forceReloadWidgetSelector,n,standAloneElement),standAloneElement?(standAloneElement.closest('form[action$="/cart/add"]').on("change",function(){var e;setTimeout(function(){var e;n(),updateHistoryState(),null!=(e=window)&&e._transcy&&null!=(e=window)&&null!=(e=e._transcy)&&null!=(e=e.methods)&&e.reConvertCurrency()},0<parseInt(null==(e=RSConfig)?void 0:e.scriptLoadDelay)?parseInt(null==(e=RSConfig)?void 0:e.scriptLoadDelay):30)}),standAloneElement.closest('form[action$="/cart/add"]').on("click",function(){var e;setTimeout(function(){var e;n(),updateHistoryState(),null!=(e=window)&&e._transcy&&null!=(e=window)&&null!=(e=e._transcy)&&null!=(e=e.methods)&&e.reConvertCurrency()},0<parseInt(null==(e=RSConfig)?void 0:e.scriptLoadDelay)?parseInt(null==(e=RSConfig)?void 0:e.scriptLoadDelay):30)}),standAloneElement.closest('form[action$="/cart/add"]').find("*").on("click",function(){var e;setTimeout(function(){var e;n(),updateHistoryState(),null!=(e=window)&&e._transcy&&null!=(e=window)&&null!=(e=e._transcy)&&null!=(e=e.methods)&&e.reConvertCurrency()},0<parseInt(null==(e=RSConfig)?void 0:e.scriptLoadDelay)?parseInt(null==(e=RSConfig)?void 0:e.scriptLoadDelay):30)})):(jQuery(document).on("change",function(e){var t;setTimeout(function(){var e;n(),updateHistoryState(),null!=(e=window)&&e._transcy&&null!=(e=window)&&null!=(e=e._transcy)&&null!=(e=e.methods)&&e.reConvertCurrency()},0<parseInt(null==(t=RSConfig)?void 0:t.scriptLoadDelay)?parseInt(null==(t=RSConfig)?void 0:t.scriptLoadDelay):30)}),jQuery("[name=id]").on("change",function(){var e;setTimeout(function(){var e;n(),updateHistoryState(),null!=(e=window)&&e._transcy&&null!=(e=window)&&null!=(e=e._transcy)&&null!=(e=e.methods)&&e.reConvertCurrency()},0<parseInt(null==(e=RSConfig)?void 0:e.scriptLoadDelay)?parseInt(null==(e=RSConfig)?void 0:e.scriptLoadDelay):30)}),jQuery(document).on("click",function(){var e;setTimeout(function(){var e;n(),updateHistoryState(),null!=(e=window)&&e._transcy&&null!=(e=window)&&null!=(e=e._transcy)&&null!=(e=e.methods)&&e.reConvertCurrency()},0<parseInt(null==(e=RSConfig)?void 0:e.scriptLoadDelay)?parseInt(null==(e=RSConfig)?void 0:e.scriptLoadDelay):30)}))}var t,i,l,a;!0===urlIsAccountPage()&&(i=DOMPurify.sanitize(RSConfig.selectors.subscriptionLinkSelector),null!=(e=jQuery("#appstle-subscription-manage-subscription-button-placeholder"))&&e.length&&(i="#appstle-subscription-manage-subscription-button-placeholder"),0===jQuery(i).length&&(i=".customer.account div:nth-child(2) div:nth-child(2), #customer_orders, div.orders-history, ul.breadcrumbs.colored-links, aside > span.desktop, header.section-header.text-center, div.page-width > h1, div.grid__item.lg--up--one-third > h1, header.account-header.clearfix, div.section>h2, header.page-header, div.account-details> h2, div.grid-item.two-thirds.medium-down--one-whole > header.page-header, div .container.tc > .wrap_cat, article > div.account-page--column-large.account-order-history, account-page> h1.large-title, #customer_sidebar, #customer-wrapper, .section.section__wrapper.is-width-standard > header, header.section-header, div.order-form > div:nth-child(1), div.logged-in-as, #account-page-template > div.grid--full, div.section-header.section-header--large, div.account-title.row.row-lg, #MainContent > div > header, #MainContent > div > div > div.grid__item.medium-up--four-fifths, .order-history, div.grid__item.two-thirds.medium-down--one-whole > p.h4--body, .active  > .tabs__content, #content > div > div:nth-child(3) > div.col-sm-8 > div, #MainContent > h2.small--text-center, .customer__orders >h2, .o-layout > div:first-child > h2:first-child, .content-block > h2, #tt-pageContent > div > div > div > div:nth-child(2) > h3, #main > section > div > div.layout > div:nth-child(2) > div, .grid__item.large-up--two-thirds >h3, div.grid__item.two-thirds.medium-down--one-whole > h4, div.twelve > h1, div.section-header, .section-header, #site-main > section > header, #content > div.page-content > header:nth-child(1) > div > h1, #MainContent .customer.account > div:nth-child(2) > div:nth-child(2) > h2, #MainContent > div > div:nth-child(2) > div:nth-child(2) > h2, .product-form__buttons.product__add-container, a.m-button.m-button--primary, #MainContent .f-customer.f-customer__account > div:nth-child(2) > div:nth-child(2) > h2, .customer > div:nth-child(2) > div:nth-child(2) > h2:nth-child(1)"),e=RSConfig.selectors.subscriptionLinkPlacement,l=DOMPurify.sanitize(RSConfig.manageSubscriptionBtnFormat),a=DOMPurify.sanitize(widgetLabels["appstle.subscription.wg.manageSubscriptionButtonTextV2"]||"Manage Subscription"),null!=(t=window)&&null!=(t=t.__st)&&t.cid||RSConfig.customerId)&&window.location.pathname.includes("/account")&&(l=Mustache.render(l,{manageSubscriptionButtonText:a}),1<jQuery(i).length&&(i=jQuery(i).last()),"after"===e.toLowerCase()?jQuery(i).after(l):"first_child"===e.toLowerCase()?jQuery(l).prependTo(i):"last_child"===e.toLowerCase()?jQuery(l).appendTo(i):jQuery(i).before(l),accountPageStyle())},deferJquery(appstleSubscriptionFunction),jQuery("html").attr("data-country",null==(_Shopify=Shopify)?void 0:_Shopify.country),RS.Config.selectedDiscountFormat||logger("'Selected Discount Format Text' is empty, price selector may not work please check widget label section!"),null!=(_RSConfig86=RSConfig)&&_RSConfig86.reloadPriceSelector&&jQuery(DOMPurify.sanitize(RSConfig.priceSelector)).length&&(atcButtonSelector=buildAtcButtonSelector(),atcButton=jQuery(atcButtonSelector).first(),standAloneElement&&(atcButton=standAloneElement),_targetNode=null!=(_RSConfig87=RSConfig)&&_RSConfig87.widgetParentSelector?null==(_jQuery$parents3=jQuery(atcButton).parents(null==(_RSConfig88=RSConfig)?void 0:_RSConfig88.widgetParentSelector))?void 0:_jQuery$parents3.find(null==(_RSConfig89=RSConfig)?void 0:_RSConfig89.reloadPriceSelector)[0]:jQuery(DOMPurify.sanitize(null==(_RSConfig90=RSConfig)?void 0:_RSConfig90.reloadPriceSelector))[0],0===jQuery(_targetNode).length&&logger("If the price is not updating correctly use widget parent selector along with reload price selector."),config1={attributes:!0,childList:!0,subtree:!0},callback=function(e,t){var n;(null!=(n=RSConfig)&&n.widgetParentSelector?jQuery(atcButton).parents(null==(n=RSConfig)?void 0:n.widgetParentSelector).find('[data-appstle-price-modified="true"]'):jQuery(DOMPurify.sanitize(RSConfig.priceSelector+'[data-appstle-price-modified="true"]'))).length||updateSellingPlanValueToFinalPrice()},_observer=new MutationObserver(callback),_targetNode)&&config1&&_observer.observe(_targetNode,config1),dispatchAppstleEvent("widgetInitialised",widgetId))}function getBillingCycleText(e){var t=e%10,n=e%100;return 1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"}function renderStandAloneWidget(){var e,i=Array.prototype.slice.call(jQuery(".appstle_stand_alone_selector:not(.appstle_stand_alone_selector_processed)")),l=-1+(null==(e=jQuery(".appstle_stand_alone_selector.appstle_stand_alone_selector_processed"))?void 0:e.length);!function t(){var n,e;null!=i&&i.length&&(n=i.shift(),jQuery(n).addClass("appstle_stand_alone_selector_processed"),e=$(n).data("product-data"),l+=1,jQuery(n).parents("form").find(".appstle_sub_widget").length?t():e?(forceRenderWithProductHandle(e,$(n),l),t()):0<(null==(e=jQuery(n).data("product-handle"))?void 0:e.length)?fetch(((null==(e=Shopify)||null==(e=e.routes)?void 0:e.root)||"/")+"products/".concat(jQuery(n).data("product-handle"),".js")).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).then(function(e){jQuery(n).attr("data-product-data",e),renderWidget(e,$(n),l),t()}).catch(function(e){console.error(e)}):logger("The product-handle property is not available in stand-alone feature."))}()}function urlIsProductPage(){var e;return decodeURIComponent(window.location.pathname).includes("/products/")||decodeURIComponent(window.location.pathname).includes("/products_preview")||(null==(e=window)?void 0:e.appstlePreview)}function urlIsAccountPage(){var e;return"/account"===window.location.pathname||(null==(e=window.location.pathname)?void 0:e.endsWith("/account"))||(null==(e=window.location.pathname)?void 0:e.includes("/account"))}function forceRenderWithProductHandle(e,t,n){var i;!e&&urlIsProductPage()||(null!=e&&null!=(i=e.selling_plan_groups)&&i.length?renderWidget(e,t,n):null!=e&&e.handle&&fetch(((null==(i=Shopify)||null==(i=i.routes)?void 0:i.root)||"/")+"products/".concat(null==e?void 0:e.handle,".js")).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).then(function(e){renderWidget(e,t,n)}).catch(function(e){console.error(e)}),urlIsAccountPage()&&renderWidget(e,t,n))}function wrapPriceWithSpanTag(e){var t=document.createElement("textarea");return t.innerHTML=decodeURI(encodeURI(e)),DOMPurify.sanitize(t.value)}function formatPrice(e){var t=RS.Config.moneyFormat,n=t,i=(t&&(n=null==t||null==(t=t.replace("{% raw %}",""))?void 0:t.replace("{% endraw %}","")),"string"==typeof e&&(e=e.replace(".","")),""),t=/\{\{\s*(\w+)\s*\}\}/,l="undefined"!=typeof Shopify&&Shopify.money_format&&1<Shopify.money_format.length?Shopify.money_format:"";var a,r="undefined"!=typeof theme?theme.moneyFormat||theme.money_format||(theme.settings&&theme.settings.moneyFormat?theme.settings.moneyFormat:theme.strings?theme.strings.moneyFormat:""):"",o="";function s(e,t,n,i){return n=n||",",i=i||".",isNaN(e)||null===e?0:(t=(e=(e/100).toFixed(t)).split("."))[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n)+(t[1]?i+t[1]:"")}switch((o="true"===(null==(a=RS.Config)?void 0:a.formatMoneyOverride)?(logger("format money override is true in theme settings, if you want to use default currency converter apps then set it to false in theme settings"),RS.Config.moneyFormat):(null==(a=window)?void 0:a.shopifyCurrencyFormat)||(null==(a=window)||null==(a=a.Currency)?void 0:a.money_format_no_currency)||r||(null==(a=RSConfig)?void 0:a.shopMoneyFormat)||n||l||(r=RSConfig.shopMoneyFormatWithCurrencyFormat,(new DOMParser).parseFromString(r,"text/html").documentElement.textContent)||(null==(a=window)?void 0:a.moneyFormat)).match(t)[1]){case"amount":i=s(e,2);break;case"amount_no_decimals":i=s(e,0);break;case"amount_with_comma_separator":i=s(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":i=s(e,0,".",",");break;case"amount_no_decimals_with_space_separator":i=s(e,0," ");break;case"amount_with_apostrophe_separator":i=s(e,2,"'")}return wrapPriceWithSpanTag(o.replace(t,i))}function displaySubscriptionPrice(){appstlePriceDisplaySelectorExists()&&(addFeaturePageCSS(),jQuery(".appstle_stand_alone_price_display_selector:not(.appstle_stand_alone_price_display_selector_processed)").each(function(e){var t,n=this,i=$(n).data("product-data");i?processSubscriptionPrice(n,i):(i=$(n).data("product-handle"),fetch(((null==(t=Shopify)||null==(t=t.routes)?void 0:t.root)||"/")+"products/".concat(i,".js")).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).then(function(e){processSubscriptionPrice(n,e)}))}))}function processSubscriptionPrice(e,t){var i=Number.MAX_SAFE_INTEGER,l=!1,a=null;null!=t&&null!=(t=t.variants)&&t.forEach(function(e){var n=null==e?void 0:e.price;null!=e&&null!=(e=e.selling_plan_allocations)&&e.forEach(function(e){var t;(null==e||null==(t=e.price_adjustments[0])?void 0:t.price)<i&&(i=null==e||null==(t=e.price_adjustments[0])?void 0:t.price,a=n,l=!0)})}),l&&a&&($(e).siblings((null==(t=RSConfig)?void 0:t.landingPagePriceSelector)||(null==(t=RS)||null==(t=t.Config)?void 0:t.landingPagePriceSelector)||"span.price, span.appstle_hide_old_price, .price").hide(),$(e).html(DOMPurify.sanitize(wrapPriceWithSpanTag(buildSubscribeSaveSelector(i)))),insertSaveBadge(a,i,e)),$(e).show(),$(e).addClass("appstle_stand_alone_price_display_selector_processed")}function insertSaveBadge(e,t,n){var i=(null==(i=RSConfig)?void 0:i.landingPagePriceSelector)||(null==(i=RS)||null==(i=i.Config)?void 0:i.landingPagePriceSelector)||"span.price, span.appstle_hide_old_price, .price",l=(null==(l=RSConfig)?void 0:l.widgetParentSelector)||"[data-product-id], .grid__item, .product-card",n=$(n).closest(l).find(i).first(),i=Math.round((e-t)/e*100);jQuery(l).length||logger("if save badge is not visible try adding widget parent selctor"),0<i&&n.length&&(e=(null==(t=RSConfig)?void 0:t.selectedDiscountFormat)||"Save {{selectedDiscountPercentage}}",l={selectedDiscountPercentage:"".concat(i,"%")},t=Mustache.render(e,l),i='<span class="appstle_subscription_element appstle_subscription_save" style="margin-left: 10px; padding: 2px 6px; border: 1px solid #ff0000; border-radius: 3px; font-size: 10px; color: #ff0000; font-weight: bold; display: inline; position: relative; top: 0px; letter-spacing: 1px;">'.concat(t,"</span>"),null!=(e=jQuery(".collection")))&&e.length&&jQuery(i).insertAfter(n)}console.log("jQuery is loaded, after "+tookTime+" milliseconds!"),RS.Config||(RS={},RS.Config=JSON.parse(sessionStorage.getItem("appstleSubscriptionConfig"))),RS.Config=Object.assign(RS.Config,"undefined"!=typeof _RSConfig&&null!==_RSConfig?_RSConfig:{}),window.RSConfig=RS.Config,"WIDGET_TYPE_1"===(null==(_RSConfig2=RSConfig)?void 0:_RSConfig2.widgetType)?RSConfig.switchRadioButtonWidget=!0:RSConfig.switchRadioButtonWidget=!1,"WIDGET_TYPE_1"!==(null==(_RSConfig3=RSConfig)?void 0:_RSConfig3.widgetType)&&"WIDGET_TYPE_2"!==(null==(_RSConfig4=RSConfig)?void 0:_RSConfig4.widgetType)&&"WIDGET_TYPE_7"!==(null==(_RSConfig5=RSConfig)?void 0:_RSConfig5.widgetType)&&(RSConfig.showPrepaidPlanSeparately=!1),window.getCurrentSellingPlanId=function(){return jQuery("[name=selling_plan]:checked").val()||""},!1===(null==(_RSConfig97=RSConfig)||null==(_RSConfig97=_RSConfig97.appstlePlanFeatures)?void 0:_RSConfig97.enableWidgetPlacement)&&logger("Widget placement is false on Merchant's plan Please check payment plan."),appstleStandAloneSelectorExists()?!1===(null==(_RSConfig98=RSConfig)||null==(_RSConfig98=_RSConfig98.appstlePlanFeatures)?void 0:_RSConfig98.enableWidgetPlacement)&&!urlIsProductPage()||renderStandAloneWidget():forceRenderWithProductHandle(null==(_RSConfig99=RSConfig)?void 0:_RSConfig99.product,void 0,0),jQuery(document).on("click","".concat(null==(_RS15=RS)||null==(_RS15=_RS15.Config)?void 0:_RS15.quickViewClickSelector)||"a.grid-product__link",function(){var e,n;0<jQuery(DOMPurify.sanitize("".concat(null==(e=RS)||null==(e=e.Config)?void 0:e.quickViewClickSelector)||"a.grid-product__link")).length&&(n=function(){var e;appstleStandAloneSelectorExists()?renderStandAloneWidget():0==(null==(e=jQuery("#appstle_subscription_widget0"))?void 0:e.length)&&renderWidget(void 0,void 0,0)},"".concat(null==(e=RS)||null==(e=e.Config)?void 0:e.quickViewModalPollingSelector)||"mahalia-coffee.myshopify.com"==(null==(e=window)||null==(e=e.Shopify)?void 0:e.shop)?function e(){var t;jQuery(".quickshop.quickshop-visible.quickshop-loaded").length||jQuery(DOMPurify.sanitize("".concat(null==(t=RS)||null==(t=t.Config)?void 0:t.quickViewModalPollingSelector))).length?n():setTimeout(function(){e()},200)}():setTimeout(function(){n()},1e3))}),!1!==(null==(_RSConfig101=RSConfig)||null==(_RSConfig101=_RSConfig101.appstlePlanFeatures)?void 0:_RSConfig101.enableWidgetPlacement)&&setTimeout(displaySubscriptionPrice,30);var targetNode=document.querySelector("body"),config={attributes:!0,childList:!0,subtree:!0},observer=new MutationObserver(displaySubscriptionPrice),_RSConfig116,isSellingPlanPresent;function addFeaturePageCSS(){var e=null==(e=RSConfig)?void 0:e.css;jQuery("<style>.appstle_subscribesavetext{\n                  background-color:#c00303;\n                  color:#fff;\n                  padding:4px 8px;\n                  font-size:13px;\n                }</style>\n                  <style>".concat(DOMPurify.sanitize(null==e?void 0:e.customCSS,purifyConfig),"</style>")).appendTo(jQuery("head"))}function buildSubscribeSaveSelector(e){var t,e={subscriptionPrice:formatPrice(e)};return null!=(t=RSConfig)&&t.subscriptionPriceDisplayText?-1===(null==(t=RSConfig)?void 0:t.subscriptionPriceDisplayText.indexOf("{{subscriptionPrice}}"))&&logger("Collection page price text field seems incorrect. Please add {{subscriptionPrice}} as value."):logger("Collection page price text field seems empty. Please add {{subscriptionPrice}} as value."),wrapPriceWithSpanTag(Mustache.render(null==(t=RSConfig)?void 0:t.subscriptionPriceDisplayText,e))}function appstleStandAloneSelectorExists(){return jQuery(".appstle_stand_alone_selector").length&&urlIsProductPage()&&logger("If widget is not visible then use standalone selector for product pages."),0<jQuery(".appstle_stand_alone_selector").length}function appstlePriceDisplaySelectorExists(){return 0<jQuery(".appstle_stand_alone_price_display_selector").length}function appstleSubscriptionCustomerPortalInit(t){var e;if(t=t||"#AppstleCustomerPortal",document.querySelector(t))return jQuery.get("/".concat(null==(e=RSConfig)?void 0:e.appstle_app_proxy_path_prefix,"?renderType=html")).then(function(e){jQuery(t).html(e),document.dispatchEvent(new Event("AppstleSubscription:CustomerPortal:Embedded")),window.dispatchEvent(new Event("AppstleSubscription:CustomerPortal:Embedded"))}).catch(function(e){return console.error("error",e)})}function appstleSubscriptionBabInit(e,t){var n;if(null!=(n=jQuery(t=t||"#AppstleBabMain"))&&n.length){if(!1!==(null==(n=RSConfig)||null==(n=n.appstlePlanFeatures)?void 0:n.enableWidgetPlacement))return jQuery.get("/".concat(null==(n=RSConfig)?void 0:n.appstle_app_proxy_path_prefix,"/bb/").concat(e,"?renderType=html")).then(function(e){jQuery(t).html(e),document.dispatchEvent(new Event("AppstleSubscription:Bab:Embedded")),window.dispatchEvent(new Event("AppstleSubscription:Bab:Embedded"))}).catch(function(e){return console.error("error",e)});logger("Build A Box on custom pages are not eligible on Merchant's plan.")}else logger('BaB selector passed is wrong. Please recheck the Bab selector for custom loading BAB to any page or if BAB is not loading then, add (class="appstle-bab")')}function appendSellingPlanToItems(e,t){if(!t||!e)return e;e=new URLSearchParams(e);if(Array.from(e.keys()).some(function(e){return e.startsWith("items[")})){var n,i=null,l=$(".appstle_sub_widget input[name=selling_plan]:checked").closest("form").find('[name="id"]').val()||new URLSearchParams(window.location.search).get("variant"),a=_createForOfIteratorHelper(e.entries());try{for(a.s();!(n=a.n()).done;){var r=n.value,o=r[0],s=r[1],p=o.match(/^items\[(\d+)\]\[id\]$/);if(p&&s===l){i=p[1];break}}}catch(e){a.e(e)}finally{a.f()}e.append("items[".concat(null!==i?i:0,"][selling_plan]"),t)}else e.append("selling_plan",t);return e.toString()}function fetchAddJsSellingPlanInterCeptor(){var y,s=window.fetch,p=JSON.parse(RS.Config.labels);jQuery.ajaxSetup({beforeSend:function(e,t){var n;"/cart/add.js"===(null==t?void 0:t.url)&&(n=$(".appstle_sub_widget input[name=selling_plan]:checked").val())&&(t.data=t.data+"&selling_plan=".concat(n))}}),y=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(t){if(-1!==this._url.indexOf("/cart/add")){var e,n,i,l,a,r,o,s,p,c,d,u,g,_,f=null,m=$(".appstle_sub_widget input[name=selling_plan]:checked").val();if(m)try{"{"===t.substr(0,1)&&"}"===t.substr(-1)?(f=JSON.parse(t),n=new URLSearchParams(window.location.search).get("variant"),i={},"Object"===getClassOf(f)&&"Array"==getClassOf(null==(e=f)?void 0:e.items)?0<=(a=null==(l=f)||null==(l=l.items)?void 0:l.findIndex(function(e){return e.id==n}))?(s=null==(r=f)||null==(r=r.items)?void 0:r.filter(function(e){return e.id!=n}),(p=JSON.parse(JSON.stringify(null==(o=f)?void 0:o.items[a]))).selling_plan=$(".appstle_sub_widget input[name=selling_plan]:checked").val(),s.push(p),i.items=JSON.parse(JSON.stringify(s)),y.call(this,JSON.stringify(i))):y.call(this,JSON.stringify(f)):(f.selling_plan=m,y.call(this,JSON.stringify(f)))):"{"!==t.substr(0,1)&&"}"!==t.substr(-1)&&-1!==t.indexOf("&")?y.call(this,appendSellingPlanToItems(t,m)):y.call(this,t)}catch(e){y.call(this,t)}else try{"FormData"===getClassOf(t)?(t.set("selling_plan",$(".appstle_sub_widget input[name=selling_plan]:checked").val()||""),y.call(this,t)):"{"===(null==(c=t)?void 0:c.substr(0,1))&&"}"===(null==(d=t)?void 0:d.substr(-1))?((f=JSON.parse(t)).selling_plan="",y.call(this,JSON.stringify(f))):("{"!==(null==(u=t)?void 0:u.substr(0,1))&&"}"!==(null==(g=t)?void 0:g.substr(-1))&&-1!==(null==(_=t)?void 0:_.indexOf("&"))&&(t=t.split(/&selling_plan=\d+/).join("")),y.call(this,t))}catch(e){y.call(this,t)}}else y.call(this,t)},window.fetch=function(){var e=arguments[0],t=arguments[1];if(e.includes("graphql.json")&&(e.includes("cartCreate")||e.includes("operation_name=cartCreate"))||e&&void 0!==e.indexOf&&-1!==e.indexOf("/cart/add")||e&&void 0!==e.indexOf&&-1!==e.indexOf("/wallets/checkouts.json")){if(jQuery(DOMPurify.sanitize(p["appstle.subscription.wg.valdiateFormSelectorV2"])).length&&!jQuery(DOMPurify.sanitize(p["appstle.subscription.wg.valdiateFormSelectorV2"]))[0].checkValidity())return alert("Please provide the required details."),!1;var n,i,l,a,r=new URLSearchParams(window.location.search).get("variant")||(null!=(null==(o=RSConfig)||null==(o=o.product)||null==(o=o.variants)||null==(o=o[0])?void 0:o.id)?String(RSConfig.product.variants[0].id):""),o=!1;if(e.includes("graphql.json"))if(e.includes("cartCreate")||e.includes("operation_name=cartCreate"))o=!0;else if(null!=t&&t.body)try{("string"==typeof t.body?t.body:JSON.stringify(t.body)).includes("cartCreate")&&(o=!0)}catch(e){}return o?(null!=(o=JSON.parse(t.body))&&null!=(l=o.variables)&&null!=(l=l.input)&&l.lines&&(a=$(".appstle_sub_widget input[name=selling_plan]:checked").val(),r=new URLSearchParams(window.location.search).get("variant")||(null!=(null==(l=RSConfig)||null==(l=l.product)||null==(l=l.variants)||null==(l=l[0])?void 0:l.id)?String(RSConfig.product.variants[0].id):""),n="gid://shopify/ProductVariant/".concat(r),o.variables.input.lines.forEach(function(e){var t;(e.merchandiseId===n||null!=(t=e.merchandiseId)&&t.includes(r))&&(a?e.sellingPlanId="gid://shopify/SellingPlan/".concat(a):delete e.sellingPlanId)})),t.body=JSON.stringify(o),s.apply(this,arguments)):-1!==e.indexOf("/wallets/checkouts.json")?((a=$(".appstle_sub_widget input[name=selling_plan]:checked").val())&&isJsonString(null==t?void 0:t.body)&&null!=(l=JSON.parse(t.body))&&null!=(o=l.checkout)&&o.line_items&&(r=new URLSearchParams(window.location.search).get("variant")||(null!=(null==(e=RSConfig)||null==(e=e.product)||null==(e=e.variants)||null==(e=e[0])?void 0:e.id)?String(RSConfig.product.variants[0].id):""),l.checkout.line_items.forEach(function(e){e.variant_id==r&&(e.selling_plan_id=a)}),t.body=JSON.stringify(l)),s.apply(this,arguments)):"FormData"!==getClassOf(t.body)&&"Object"!==getClassOf(t.body)?isJsonString(null==t?void 0:t.body)?(o={},"Object"===getClassOf(e=JSON.parse(null==t?void 0:t.body))&&"Array"==getClassOf(null==e?void 0:e.items)?(0<=(l=null==e||null==(l=e.items)?void 0:l.findIndex(function(e){return e.id==r}))&&(i=null==e||null==(i=e.items)?void 0:i.filter(function(e){return e.id!=r}),(l=JSON.parse(JSON.stringify(null==e?void 0:e.items[l]))).selling_plan=$(".appstle_sub_widget input[name=selling_plan]:checked").val(),i.push(l),o.items=JSON.parse(JSON.stringify(i)),t.body=JSON.stringify(o)),s.apply(this,arguments)):"Object"===getClassOf(e)?((l=JSON.parse(null==t?void 0:t.body)).selling_plan=$(".appstle_sub_widget input[name=selling_plan]:checked").val(),t.body=JSON.stringify(l),s.apply(this,arguments)):void 0):((a=$(".appstle_sub_widget input[name=selling_plan]:checked").val())&&(t.body=t.body+"&selling_plan="+a),s.apply(this,arguments)):"FormData"===getClassOf(t.body)?(t.body.set("selling_plan",$(".appstle_sub_widget input[name=selling_plan]:checked").val()||""),s.apply(this,arguments)):void 0}return s.apply(this,arguments)}}function isJsonString(e){try{JSON.parse(e)}catch(e){return}return 1}function getClassOf(e){return Object.prototype.toString.call(e).slice(8,-1)}function dispatchAppstleEvent(e,t){document.dispatchEvent(new CustomEvent("AppstleSubscription:SubscriptionWidget:".concat(e),{detail:t})),window.dispatchEvent(new CustomEvent("AppstleSubscription:SubscriptionWidget:".concat(e),{detail:t}))}function urlParamsToObject(e){for(var t=(null==e||null==(e=e.substr(1))?void 0:e.split("&"))||location.search.substr(1).split("&"),n={},i=0;i<t.length;i++){var l=t[i].split("=");n[l[0]]=l[1]}return n}function urlParam(e,t){return urlParamsToObject(t)[e]||null}function attachMutationObserver(e,t,n){n=n?null==(n=jQuery(n))||null==(n=n.parents(RSConfig.widgetParentSelector))?void 0:n.find(e)[0]:document.querySelector(e),e={attributes:!0,childList:!0,subtree:!0},t=new MutationObserver(t);n&&t.observe(n,e)}function detectSwapAction(){"swap"==urlParam("action")&&(attatchHandlerToSwapButtons(),addSwapButton(),attachMutationObserver("main",function(){return addSwapButton()}),jQuery("<style>.appstle-swap-product .appstle-swap-product-loader, .appstle-swap-product .appstle-swap-product-success, .appstle-swap-product .appstle-swap-product-error,\n              .appstle-swap-product.inProgress .appstle-swap-product-text, .appstle-swap-product.inProgress .appstle-swap-product-success, .appstle-swap-product.inProgress .appstle-swap-product-error,\n              .appstle-swap-product.success .appstle-swap-product-text, .appstle-swap-product.success .appstle-swap-product-loader, .appstle-swap-product.success .appstle-swap-product-error ,\n              .appstle-swap-product.error .appstle-swap-product-text, .appstle-swap-product.error .appstle-swap-product-success, .appstle-swap-product.error .appstle-swap-product-loader {\n                display: none;\n              }\n\n              .appstle-swap-product .appstle-swap-product-text,\n              .appstle-swap-product.inProgress .appstle-swap-product-loader,\n              .appstle-swap-product.success .appstle-swap-product-success,\n              .appstle-swap-product.error .appstle-swap-product-error {\n                display: block;\n              }</style>").appendTo("head"))}function addSwapButton(e){$(e||".product-block:not(.sold-out) ").each(function(e,t){$(t).find(".appstle-swap-product").length||$(t).append('<button class="appstle-swap-product"><span class="appstle-swap-product-text">SWAP</span><span class="appstle-swap-product-loader">Swapping</span><span class="appstle-swap-product-success">Swapped</span><span class="appstle-swap-product-error">Error</span></button>')})}function attatchHandlerToSwapButtons(){$(document).on("click",".appstle-swap-product",function(){var t=$(this),e=(t.addClass("inProgress"),getTargetVariantId(this)),n=urlParam("lineId"),i=urlParam("contractId"),i="/apps/subscriptions/cp/api/subscription-contract-details/replace-variants-v2?contractId=".concat(i,"&newVariantId=").concat(e,"&quantity=","1","&oldLineId=").concat(n);fetch(i,{method:"POST"}).then(function(e){t.removeClass("inProgress"),e.ok?(t.addClass("success"),location.href="/account"):t.addClass("error"),setTimeout(function(){return resetButton(t)},2500)}).catch(function(e){t.removeClass("inProgress"),t.addClass("error"),setTimeout(function(){return resetButton(t)},2500)})})}function resetButton(e){e.removeClass("inProgress"),e.removeClass("success"),e.removeClass("error")}function getTargetVariantId(e){var e=$(e),t=null;return t||(e=e.parent().find("a").attr("href"),t=urlParam("variant",null==(e=new URL(location.origin+e))?void 0:e.search)),t}function addToShipmentButton(){var n=JSON.parse(RS.Config.labels);$("[appstle-add-to-shipment-selector]").each(function(e,t){$(t).find(".appstle-add-to-shipment").length||($(t).find(".appstle-add-to-shipment-disabled").remove(),$(t).append(DOMPurify.sanitize('<button class="appstle-add-to-shipment" type="button"><span class="appstle-add-to-shipment-text">'.concat(n["appstle.subscription.wg.addToShipmentButtonTextV2"]||"Add to Subscription",'</span><span class="appstle-add-to-shipment-loader">').concat(n["appstle.subscription.wg.addToShipmentProcessingV2"]||"Processing...",'</span><span class="appstle-add-to-shipment-success">').concat(n["appstle.subscription.wg.addToShipmentSuccessTextV2"]||"Added",'</span><span class="appstle-add-to-shipment-error">').concat(n["appstle.subscription.wg.addToShipmentErrorTextV2"]||"Error","</span></button>"))))})}function addToShipmentButtonDisabled(){var n=JSON.parse(RS.Config.labels);"true"!==n["appstle.subscription.wg.displayAddToExistingSubscriptionButtonForNotLoggedInV2"]&&!0!==n["appstle.subscription.wg.displayAddToExistingSubscriptionButtonForNotLoggedInV2"]||$("[appstle-add-to-shipment-selector]").each(function(e,t){$(t).find(".appstle-add-to-shipment-disabled").length||$(t).append(DOMPurify.sanitize('<button class="appstle-add-to-shipment-disabled appstle_shipment_tooltip_wrapper" disabled><span class="appstle-add-to-shipment-text">'.concat(n["appstle.subscription.wg.addToShipmentButtonTextV2"]||"Add to Subscription",'</span>\n              <div class="appstle_shipment_tooltip">\n                <div class="appstle_shipment_tooltip_content">\n                  ').concat(n["appstle.subscription.wg.addToShipmentTooltipTextV2"]||"Please avoid double delivery charges! Login to add this product to an upcoming delivery.","\n                </div>\n              </div>\n              </button>")))})}function detectVariantForAddToShipment(e){var e=$(e.target),t=urlParam("variant");if(t&&null!=(l=RSConfig)&&l.detectVariantFromURLParams)return t;var n=e.closest('form[action$="/cart/add"]').find("[name=id]");if(0<n.length)for(var i=0;i<n.length;i++)if(n[i].value&&jQuery(n[i]).is(":checked"))return n[i].value;var l=jQuery("[name=id][form=".concat(e.closest('form[action$="/cart/add"]').attr("id"),"]"));return null!=l&&l.length?l.val():null!=e&&e.length?(null==jQuery(e).closest('form[action$="/cart/add"]').find("[name=id]")[0]?null:jQuery(e).closest('form[action$="/cart/add"]').find("[name=id]")[0].value)||(null==(t=jQuery(e).parents("html").find('form[action$="/cart/add"]').find("[name=id]")[0])?void 0:t.value)||jQuery(e).parents("product-card").find("[data-product-id]").attr("data-product-id"):void 0}function initiateAppstleAddToShipmentWidget(){var e;null!=(e=RSConfig)&&e.customerId?jQuery.get("/".concat(RSConfig.appstle_app_proxy_path_prefix,"/cp/api/subscription-customers-detail/valid/").concat(RSConfig.customerId,"?token=").concat(RSConfig.customerId),function(e){e=e.filter(function(e){return"active"===(null==e?void 0:e.status)});null!=e&&e.length&&(window.appstleContractData=e,addToShipmentButton(),attachMutationObserver("main",function(){return addToShipmentButton()}),$(document).on("click",".appstle-add-to-shipment",function(e){window.top.appstleCurrentVariant=detectVariantForAddToShipment(e),document.dispatchEvent(new CustomEvent("OpenAppstleContracts"))}))}):addToShipmentButtonDisabled()}observer.observe(targetNode,config),jQuery(".appstle-bab").each(function(e,t){appstleSubscriptionBabInit(jQuery(t).attr("data-bab-id"),t)}),window.appstleSubscriptionCustomerPortalInit=appstleSubscriptionCustomerPortalInit,window.appstleSubscriptionBabInit=appstleSubscriptionBabInit,appstleSubscriptionCustomerPortalInit(),document.dispatchEvent(new Event("AppstleSubscription:CustomerPortal:ReadyToEmbed")),window.dispatchEvent(new Event("AppstleSubscription:CustomerPortal:ReadyToEmbed")),1!==(null==(_jQuery11=jQuery(".appstle_stand_alone_selector"))?void 0:_jQuery11.length)&&!0!==urlIsProductPage()||"true"!==(null==(_RS21=RS)||null==(_RS21=_RS21.Config)?void 0:_RS21.enableAddJSInterceptor)||(isSellingPlanPresent=!1,null!=(_RSConfig116=RSConfig)&&_RSConfig116.product&&(jQuery.each(RSConfig.product.selling_plan_groups,function(e,t){"appstle"===t.app_id&&(isSellingPlanPresent=!0)}),isSellingPlanPresent)&&fetchAddJsSellingPlanInterCeptor());var addToShipment=function(e,t){var n;if(e)return n=e=null==(n=window)?void 0:n.appstleCurrentVariant,t.removeClass("error"),t.removeClass("success"),t.addClass("inProgress"),e="/apps/subscriptions/cp/api/v2/subscription-contracts-add-line-item?contractId=".concat(null==(e=window.appstleContractData[0])?void 0:e.subscriptionContractId,"&quantity=",1,"&variantId=gid://shopify/ProductVariant/").concat(n),jQuery.ajax({url:e,type:"PUT"}).done(function(e){t.removeClass("inProgress"),t.addClass("success")}).fail(function(e){t.removeClass("inProgress"),t.addClass("error")})};function loggerForCartWidget(e,t,n){e.find(t).length?1<e.find(t).length&&logger('Cart widget "'.concat(n,'" is wrong as the selector should be unique and for the current selector there are more than one element.')):logger('Cart widget "'.concat(n,'" is missing/wrong.'))}detectSwapAction(),null!=(_RSConfig119=RSConfig)&&null!=(_RSConfig119=_RSConfig119.product)&&null!=(_RSConfig119=_RSConfig119.selling_plan_groups)&&_RSConfig119.length&&null!=(_RSConfig120=RSConfig)&&null!=(_RSConfig120=_RSConfig120.product)&&_RSConfig120.available&&!1!==(null==(_RSConfig121=RSConfig)||null==(_RSConfig121=_RSConfig121.appstlePlanFeatures)?void 0:_RSConfig121.enableAddToExistingSubscription)&&("true"===(null==(_RSConfig122=RSConfig)?void 0:_RSConfig122.enableAddToExistingSubscriptionFeature)||!0===(null==(_RSConfig123=RSConfig)?void 0:_RSConfig123.enableAddToExistingSubscriptionFeature))&&initiateAppstleAddToShipmentWidget(),window.appstleAddToCart=function(e){var t=jQuery(e).parents("form")[0],t={items:[Object.fromEntries(new FormData(t))]},n=jQuery(e).find("[data-add-to-cart-text]"),i=jQuery(e).find("[data-loader]");n.hide(),i.show(),fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){e.ok?window.location.href="/cart":(n.show(),i.hide())}).catch(function(e){n.show(),i.hide()})},jQuery(DOMPurify.sanitize(RSConfig.selectors.cartHiddenAttributesSelector)).each(function(e,t){jQuery(t).text().includes("_appstle")&&jQuery(t).hide()}),null!=(_RSConfig124=RSConfig)&&null!=(_RSConfig124=_RSConfig124.selectors)&&_RSConfig124.buildABoxDiscountSelector&&jQuery(DOMPurify.sanitize(RSConfig.selectors.buildABoxDiscountSelector)).each(function(e,t){jQuery(t).text().includes("BUILD_A_BOX_DISCOUNT")&&jQuery(t).hide()}),window.location.pathname.includes("/cart")&&!1!==(null==(_RS22=RS)||null==(_RS22=_RS22.Config)||null==(_RS22=_RS22.appstlePlanFeatures)?void 0:_RS22.enableCartWidget)&&"true"===(null==(_RS23=RS)||null==(_RS23=_RS23.Config)?void 0:_RS23.enableCartWidgetFeature)&&!function(e,t,n,i,l,a,r,o,s,p,c){var d,b,u,g,_='[id^="CartItem-"], [ref="cartItemRows[]"], .order-summary__body > tr, .cart-item__details--exclude, [data-cart-item], div.cart__item, div.ten.columns.custom_ten > div, .shopify-cart-form__cart-item.cart_item, .line-item.line-item--stack, div.CartItem, div.cart__item[data-cart-item-key], .item.relative.product-id.item-row.table-center.clearfix, table.min-w-full tbody.bg-white tr, .cart__item, div.cart__body div.cart__row, div > div.cart-item, .ajaxcart__product >div:not(.custom-cart-notices), div.cart__item, .rebuy-cart__flyout-item, .cart__card.container.is-align-center, tr.content_blocks, .cart--root[data-view="desktop"] .cart--body div.cart--item, .cart__row.cart-item, tr.content_blocks, .cart-moible-listing .listing-row, tr.cart__row.responsive-table__row, .cart-page .ajax-cart__cart-item, .item, .cart-template__wrapper, tr.line-item, .modal-popup .cart_row ul+*, .sf-cart__item.scd-item.flex, #cartBody div.CartItem, [data-products] div.cart__item, cart-item, .cart__item.is-animated, form.cart.cart-desktop-device > div > div:nth-child(1) > div > table > tbody > tr, .cart-page .ajax-cart__cart-items>ul, div.cart-table-row.line-item, div.line-item, .cart-item.product-clearer-days-anti-blemish-serum.cc-animate-init.-in.cc-animate-complete, cart-items .cart-item, .order-summary__body tr, div.cart-form-item, .col-12.cart__item, cart-items tr.cart-item--exclude, [data-products] .cart__item, .t4s-page_cart__item, .cart-items .cart-item--exclude, div.cart-row, div.cart__row div.product-info, tr.cart__row.table__section, .div.cart-form-item, .cart-item__product-info, [id^="CartItem-"], [id^="MinimogCart-Item-"], [data-hulkapps-lineitem], tbody tr.cart__row.table__section',h=DOMPurify.sanitize(null==(e=RS)||null==(e=e.Config)?void 0:e.selectors.cartRowSelector)||jQuery(_),v=DOMPurify.sanitize(null==(t=RS)||null==(t=t.Config)?void 0:t.selectors.cartLineItemSelector)||jQuery(_).find(".cart-item__name, .line-item__title .product-details .product-details__item.product-details__item--property:nth-child(2), .cart-item__name+div, td.cart-item__details > dl > div > dt, .cart-item--content-price, div.product-cart-item-options, .v-stack a.bold, p.product-option, .cart-item__name.h4.break, ul.cart__product-options, .js-qty__wrapper, .custom__lineItem.REGULAR, .variation, .line-item__title.link.text--strong, .cart__product-information div p.cart__remove, td.cart-item__details > div, .product-quantity-box, .discounts.list-unstyled, a.cart__product-title, .zq-cart-cartcontents--product-title, p.CartItem__Variant, div.cart__item--name a+div, .item-title, div.ml-4 > div > a, .cart__item-title > div.cart__item--variants, a.cart__remove.badge, .cart-item__title+div, .cart-item__details .product-option:first, .cart__item-sub, .cart-item-single-price, .cart__item-sub, .js-qty__wrapper, .rebuy-cart__flyout-item-quantity, div.appstlelocation-ref, .product-dec h4, p.cart__remove, .cart-item__name, div.cart--item--title > div.cart--item--variant-name > a, td.cart-item__details > dl, .cart__product-information, td.cart-item__details > a, div.product-dec p, .cart_pro_dec, td p a.small, p.modal_price .money, .ajax-cart__title, .backorder.hidden, .cart-item__details div.product-option, .cart__product-meta:first, td.cart-item__details > dl > div, .cart-item__selling-plan, .cart_content_left .cart-item__quantity-wrapper, div.cart-table-item-remove, .remove_item_button, .scd-item__remove, .cart__infor-header, div.cart__item--name div, div.product-option, div.cart__item__meta, div.cart__item--variants, .ajax-cart__title a, .small-text, .cart-product__variant, div.line-item-titling-remove > .line-item-remove, span.product-block__subtitle, .cart-item__name+div.product-option, .product-item-meta__property-list, div.product-item-meta__property-list > span:nth-child(1), dl > .product-option, .smallcaps.text-subdued, div > div.cart-form-item__price-title-variants > span:nth-child(1), .item__title, #CartItem-1 > td.cart-item__details > div, .cart__item__meta, .m-cart-item__title, div.for-appstle, .cart__items a.cart-item__name.h4.break, .product-cart-item-options, price-list.price-list, div.cart__items__meta, .m-cart-item__selling-plan, .cart-item__variant, .item-options, .col-span-2 > div > a, .inline-link.text-heading, .product-option, p.description__variant, div.quantity, .p2.medium.price.price--default.p2--fixed.price--line-item, td.cart-item__details > p, p.t4s-cart_selling_plan, .cart__form-item-title.fs-product-card-title, [data-cart-item-regular-price-group], span.subtitle, .price.text-sm.flex.flex-wrap.gap-1d5, dl.cart-item-properties.definitionList, .break-words, td.cart-item__details > p.caption-with-letter-spacing, .cart-items__item-title, div.appstlelocation-ref.text-sm.text-subtext, td:nth-child(1) > line-item > div > div > div:nth-child(2) > p.smallcaps.text-subdued, .product-title, .cart__product-title, .cart__row--title, .main-cart__line-item__details-title--link, x-flex.meta > span.title, span.product-title, .cart__item__title, .CartItem__PriceList, .main-cart__line-item__details-title, td.cart-item__details.px-0.border-0.border-bottom.py-30.pe-10 > div > dl, .appstlelocation-ref, .cart-item--content-title, .klaviyo-star-rating-widget, div > div.item-details.grow.mar-r-15 > p, .modal_price, .small-hide.medium-hide .cart-item__name, td.cart-item__details > div.product-option, .cart-product__title, .cart__item-title.reversed-link.font-medium.text-base.leading-tight, .cart-form-item__price-title-variants > .cart-item__title, .line-item__price, div.product-option, .cart-item__title, div.product-option, .caption-with-letter-spacing, span.label.title, p.product-option, .product-card-small--link, .cart-items__title, a.m-cart-item__title, .cart__product-name, td.cart__row--product-details .cart__remove"),w="[data-appstle-selector]",P=DOMPurify.sanitize(null==(n=RS)||null==(n=n.Config)?void 0:n.selectors.cartLineItemPerQuantityPriceSelector),S=DOMPurify.sanitize(null==(i=RS)||null==(i=i.Config)?void 0:i.selectors.cartLineItemTotalPriceSelector),C=DOMPurify.sanitize(null==(l=RS)||null==(l=l.Config)?void 0:l.selectors.cartLineItemSellingPlanNameSelector),f=DOMPurify.sanitize(null==(a=RS)||null==(a=a.Config)?void 0:a.selectors.cartSubTotalSelector),x=DOMPurify.sanitize(null==(r=RS)||null==(r=r.Config)?void 0:r.selectors.cartLineItemPriceSelector),T=DOMPurify.sanitize(null==(o=RSConfig)?void 0:o.showCombinedSellingPlanCartWidget),R=DOMPurify.sanitize(null==(s=RSConfig)?void 0:s.combinedCartWidgetSelector),D=DOMPurify.sanitize(null==(p=RS)||null==(p=p.Config)||null==(p=p.selectors)?void 0:p.cartLineItemPlacement),I=JSON.parse(RS.Config.labels);function O(){jQuery("#appstle_overlay").length||j(),jQuery(".appstle_subscription_cart_wrapper select").each(function(e,t){jQuery(t).off()}),jQuery(".appstle_subscribe_selected input").each(function(e,t){jQuery(t).off()}),jQuery(".appstle_subscribe_title").each(function(e,t){jQuery(t).off()}),jQuery(".appstle_selected_frequency").each(function(e,t){jQuery(t).off()}),fetch("/cart.js").then(function(e){return e.json()}).then(function(m){var n=[],y=[];if(null!=(e=RSConfig)&&e.disableCartWidgetOnVariants){var t=RSConfig.disableCartWidgetOnVariants.split(","),e=null==m||null==(e=m.items)?void 0:e.filter(function(e){return t.includes(null==e?void 0:e.id.toString())});if(null!=e&&e.length)return void jQuery("#appstle_overlay").remove()}function i(){var e;T&&(jQuery(".appstle-cartItem-wrapper").length&&jQuery(".appstle-cartItem-wrapper").remove(),e='<div class="appstle-cartItem-wrapper">\n            <span class="appstle-combined-cart-widget-text">'.concat(I["appstle.subscription.wg.frequencyCombinedWidgetTextV2"]||"Frequency",'</span>\n            <select class="appstle-combined-cart-widget-select"><option value="">').concat(I["appstle.subscription.wg.selectDeliverOptionV2"]||"Select Delivery Option","</option></select>\n            </div>"),jQuery(e).insertBefore(R),jQuery(".appstle_progress-wrapper").length||jQuery('<div class="appstle_progress-wrapper">\n              <p class="appstle_progress_title"></p>\n              <div class="appstle_progress">\n                <div class="appstle_progress_bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>\n              </div>\n            </div>').insertBefore(".item-wrap.cart-item-wrap"),l(),jQuery(".appstle-cartItem-wrapper").find("select").on("change",function(e){!function t(n,i,l,a){if(!l)return;"appstle_unsubscribe"===l&&(a=!0);j();i=n.shift();var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:null==(e=i)?void 0:e.key,quantity:(null==(e=i)?void 0:e.quantity)||1,selling_plan:a?"":l})};fetch(window.Shopify.routes.root+"cart/change.js?appstleUpdateAllLineItems=true",e).then(function(e){return e.json()}).then(function(e){setTimeout(function(){null!=n&&n.length?t(n,i,l,a):(location.reload(),O())},200)}).catch(function(e){return console.error(e)})}(null==m?void 0:m.items,null,e.target.value,!1)})),m.items.forEach(function(t,e){var n=y.filter(function(e){return e.handle===t.handle}).pop(),i=function(e,t){e=(null==e?void 0:e.variants.filter(function(e){return e.id===t})).pop();if(e&&null!=e&&e.selling_plan_allocations&&null!=e&&e.selling_plan_allocations.length)return!0;return!1}(JSON.parse(JSON.stringify(n)),null==t?void 0:t.variant_id),l=null==t||null==(l=t.selling_plan_allocation)||null==(l=l.selling_plan)?void 0:l.id,a=!!n.selling_plan_groups.find(function(e){return"appstle"===e.app_id});if(i&&a&&(null!=(i=RSConfig)&&i.showCartWidgetOnBundleItems||null==t||!t.properties["_appstle-bb-id"])){var r=jQuery(DOMPurify.sanitize('<div class="appstle_subscription_cart_wrapper">\n                  <div class="appstle_subscribe_title">\n                      <input type="checkbox"></input>\n                      <span class="appstle_discount_text"><span class="appstle_highest_discount">'.concat(I["appstle.subscription.wg.subscribeAndSaveInitalV2"],'</span></span>\n                  </div>\n                  <div class="appstle_subscribe_selected_wrapper" style="display: none;">\n                      <div class="appstle_subscribe_selected">\n                        <input type="checkbox" checked ').concat(null!=n&&n.requires_selling_plan?"disabled":"",'></input>\n                        <div class="appstle_subscribe_selected_text">').concat(I["appstle.subscription.wg.subscribeAndSaveSuccessV2"],'</div>\n                      </div>\n                      <div class="appstle_selected_frequency">\n                          <span class="appstle_deliveryText">{{deliveryText}}</span>&nbsp;\n                          <span class="appstle_applied_sellingPlanName">{{appliedSellingPlanName}}</span>\n                          <p class="appstle_applied_discountText"></p>\n                      </div>\n                  </div>\n                  <div class="appstle_radio_section" style="display: none">\n\n                      <select id="appstle_selling_plan_cart" data-product-select-id="').concat(JSON.parse(JSON.stringify(n)).id,"-").concat(l,'" class="appstle_select_cart" ').concat(b?'style="display: none !important;"':"","></select>\n                      ").concat(b?'<div class="appstle-cart-custom-select-wrapper" data-product-custom-select-id="'.concat(JSON.parse(JSON.stringify(n)).id,"-").concat(l,'">\n                    <div class="select_wrap">\n                      <ul class="default_option">\n                        <div class="appstle-icon">\n                          <ion-icon name="chevron-down-outline"></ion-icon>\n                        </div>\n                      </ul>\n                      <ul class="select_ul"></ul>\n                    </div>\n                  </div>'):"","\n                  </div>\n              </div>"))),a=JSON.parse(JSON.stringify(n)),o=r,s=l,p=JSON.parse(JSON.stringify(n.variants.filter(function(e){return e.id===t.id}).pop())),c=[],d=[];if(jQuery.each(a.selling_plan_groups,function(e,t){"appstle"===t.app_id&&jQuery.each(t.selling_plans,function(e,t){var n,i,l,a,r,o=function(e){var t=null==(t=RSConfig)?void 0:t.customerId,n=RSConfig.customer_tags||[],i=!0;!t&&RSConfig.memberOnlySellingPlansJson&&RSConfig.memberOnlySellingPlansJson[e]&&RSConfig.memberOnlySellingPlansJson[e].enableMemberInclusiveTag&&(i=!1);t&&RSConfig.nonMemberOnlySellingPlansJson&&RSConfig.nonMemberOnlySellingPlansJson[e]&&(i=!1);i&&t&&RSConfig.memberOnlySellingPlansJson&&RSConfig.memberOnlySellingPlansJson[e]&&(RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags&&RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags.trim()&&(t=RSConfig.memberOnlySellingPlansJson[e].memberInclusiveTags.split(","),t=Q(n,t),i=0<t.length),RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags)&&RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags.trim()&&(t=RSConfig.memberOnlySellingPlansJson[e].memberExclusiveTags.split(",").map(function(e){return e.trim()}),e=Q(n,t),i=!(0<e.length));return i}(t.id),s=p.selling_plan_allocations.find(function(e){return e.selling_plan_id===t.id});s&&(n=s.per_delivery_price,i=formatPrice(null==s?void 0:s.price),l=formatPrice(n),r=a=null,r=s&&s.price_adjustments&&2===s.price_adjustments.length?formatPrice(a=s.price_adjustments[1].price):(a=n,l),s=t.price_adjustments.shift(),o&&c.push({name:t.name,id:t.id,formattedPrice:l,price:n,totalPrice:i,secondPrice:a,secondFormattedPrice:r,discount:s?"percentage"===s.value_type?"".concat(s.value,"%"):formatPrice(s.value):"",deliveryText:t.options[0].name}),d.push({name:t.name,id:t.id,formattedPrice:l,price:n,totalPrice:i,secondPrice:a,secondFormattedPrice:r,discount:s?"percentage"===s.value_type?"".concat(s.value,"%"):formatPrice(s.value):"",deliveryText:t.options[0].name}))})}),0<c.length){c.sort(function(e,t){return e.price-t.price}),(c=null==(i=c)?void 0:i.map(function(t){var e=null==(e=RSConfig)||null==(e=e.sellingPlansJson)?void 0:e.find(function(e){return e.idNew==(t.idNew||"gid://shopify/SellingPlan/".concat(t.id))});return t.frequencySequence=(null==e?void 0:e.frequencySequence)||0,t})).sort(function(e,t){return e.frequencySequence-t.frequencySequence}),jQuery("<option />",{html:DOMPurify.sanitize(I["appstle.subscription.wg.selectDeliverOptionV2"]||"Select Delivery Option"),value:""}).appendTo(o.find("select")),b&&(jQuery(DOMPurify.sanitize('<li class="'.concat(s?"":"active",'" value="">\n          <div class="option">\n            <p>').concat(I["appstle.subscription.wg.selectDeliverOptionV2"]||"Select Delivery Option","</p>\n          </div>\n        </li>"))).appendTo(o.find(".appstle-cart-custom-select-wrapper .select_ul")),jQuery(DOMPurify.sanitize('<li data-selected-selling-plan="">\n                  <div class="option">\n                    <p>'.concat(I["appstle.subscription.wg.selectDeliverOptionV2"]||"Select Delivery Option","</p>\n                  </div>\n                </li>"))).appendTo(o.find(".appstle-cart-custom-select-wrapper .default_option"))),jQuery(c).each(function(e,t){n=(l=t).totalPrice==l.formattedPrice?{sellingPlanName:l.name,sellingPlanPrice:'<span class="transcy-money">'.concat(l.formattedPrice,"</span>"),secondSellingPlanPrice:'<span class="transcy-money">'.concat(l.secondFormattedPrice||l.secondSellingPlanPrice,"</span>"),discountText:null==l?void 0:l.discount,totalPrice:'<span class="transcy-money">'.concat(null==l?void 0:l.totalPrice,"</span>")}:{sellingPlanName:l.name,totalPrice:'<span class="transcy-money">'.concat(null==l?void 0:l.totalPrice,"</span>"),sellingPlanPrice:'<span class="transcy-money">'.concat(l.formattedPrice,"</span>"),secondSellingPlanPrice:'<span class="transcy-money">'.concat(l.secondFormattedPrice||l.secondSellingPlanPrice,"</span>"),discountText:l.discount};var n,i=wrapPriceWithSpanTag(Mustache.render((null==l||!l.prepaidFlag)&&I["appstle.subscription.wg.sellingPlanTitleTextNonPrepaid"]||RS.Config.sellingPlanTitleText,n)),l=(a(o.find("select")),jQuery(".appstle-cartItem-wrapper select"));function a(e){jQuery("<option />",{value:t.id,html:DOMPurify.sanitize(i),selected:s===(null==t?void 0:t.id)}).appendTo(jQuery(e))}T&&null!=l&&l.length&&!l.find("option[value=".concat(t.id,"]")).length&&a(l),b&&(jQuery(DOMPurify.sanitize('<li class="'.concat(s===(null==t?void 0:t.id)?"active":"",'" value="').concat(t.id,'">\n          <div class="option">\n            <p>').concat(i,"</p>\n          </div>\n        </li>"))).appendTo(o.find(".appstle-cart-custom-select-wrapper .select_ul")),s===(null==t?void 0:t.id))&&jQuery(o).find(".appstle-cart-custom-select-wrapper .default_option [data-selected-selling-plan] p").html(DOMPurify.sanitize(i))}),null!=a&&a.requires_selling_plan||null!=(i=RSConfig)&&i.removeUnsubscribeOption||jQuery("<option />",{value:"appstle_unsubscribe",html:DOMPurify.sanitize(I["appstle.subscription.wg.unsubscribeFrequencyTextV2"]||"Unsubscribe")}).appendTo(o.find("select"));if(a=d.filter(function(e){return(null==e?void 0:e.id)===s}).pop()){i=o.find(".appstle_selected_frequency .appstle_deliveryText").text().split("{{deliveryText}}").join(I["appstle.subscription.wg.deliveryEveryFrequencyTextV2"]||""),o.find(".appstle_deliveryText").html(DOMPurify.sanitize(i)),i=o.find(".appstle_selected_frequency .appstle_applied_sellingPlanName").text().split("{{appliedSellingPlanName}}").join(a.name),o.find(".appstle_applied_sellingPlanName").html(DOMPurify.sanitize(i)),i=o.find(".appstle_subscribe_selected_text").text().split("{{{discountValue}}}").join(a.discount),o.find(".appstle_subscribe_selected_text").html(DOMPurify.sanitize(i));{var u=a.id;a=o;var g=null==(g=RSConfig)||null==(g=g.sellingPlansJson)?void 0:g.find(function(e){return(null==e?void 0:e.id.split("/").pop())===String(u)}),_=[];null!=g&&null!=(f=g.appstleCycles)&&f.length&&null!=g&&null!=(f=g.appstleCycles)&&f.forEach(function(e){_.push(null==e?void 0:e.freeProductHandle)});(function t(n,i,l){var e;var a=n.shift();return!a||null!=(e=window)&&null!=(e=e.products)&&e[a]?n.length?t(n,i,l):E(i,l):fetch("/products/".concat(a,".js")).then(function(e){if(e.ok)return e.json()}).then(function(e){return window.products||(window.products={}),window.products[a]=e,n.length?t(n,i,l):E(i,l)})})(_,u,a)}}else i=o.find(".appstle_highest_discount").text().split("{{{discountValue}}}").join(c[0].discount),o.find(".appstle_highest_discount").html(DOMPurify.sanitize(i))}jQuery(r).find("select").on("change",function(e){k(null!=m&&m.items,t,n.id,e.target.value,!1)}),jQuery(r).find(".appstle_subscribe_selected input").on("change",function(e){k(null!=m&&m.items,t,n.id,"unsubscribe",!0)}),jQuery(r).find(".appstle_subscribe_title, .appstle_selected_frequency").on("click",function(){if(!b)return 1===jQuery(r).find("select option").length?(jQuery(r).find("select").val(jQuery(r).find("select option").attr("value")),jQuery(r).find("select").trigger("change")):$(this).parents(".appstle_subscription_cart_wrapper").find(".appstle_radio_section").show(),jQuery(this).hide(),!1;$(this).parents(".appstle_subscription_cart_wrapper").find(".appstle_radio_section").toggle(),$(this).find("input[type=checkbox]").length&&($(this).find("input[type=checkbox]").is(":checked")?($(this).find("input[type=checkbox]").prop("checked",!0),$(this).parents(".appstle_subscription_cart_wrapper").find(".appstle_radio_section").show()):($(this).find("input[type=checkbox]").prop("checked",!1),$(this).parents(".appstle_subscription_cart_wrapper").find(".appstle_radio_section").hide()))});var f,g=jQuery(jQuery(h)[e]);if(l&&(r.find(".appstle_subscribe_title").hide(),r.find(".appstle_subscribe_selected_wrapper").show(),b&&r.find(".appstle_radio_section").show(),loggerForCartWidget(g,C,"Cart Line Item Selling Plan Name Selector"),g.find(C).text(null==t||null==(f=t.selling_plan_allocation)||null==(f=f.selling_plan)?void 0:f.name),T)?g.find(C).show():g.find(C).hide(),g.find(".appstle_subscription_cart_wrapper").remove(),!r.find("select option").length)return;a=1===g.find(w).length?g.find(w):g.find(v).first();"BEFORE"===D?r.insertBefore(a):"AFTER"===D?r.insertAfter(a):"FIRST_CHILD"===D?r.prependTo(a):"LAST_CHILD"===D?r.appendTo(a):r.insertBefore(a),loggerForCartWidget(g,P,"Cart Line Item Per Quantity Price Selector"),loggerForCartWidget(g,S,"Cart Line Item Total Price Selector"),loggerForCartWidget(g,x,"Cart Line Item Price Selector"),loggerForCartWidget(g,v,"Cart Line Selector"),g.find(P).html(DOMPurify.sanitize(formatPrice(t.final_price))),g.find(S).html(DOMPurify.sanitize(formatPrice(t.final_line_price))),l&&t.selling_plan_allocation.compare_at_price&&(g.find(x).html(DOMPurify.sanitize("")),i='<span class="appstle_cart_sellingPlan_price">'.concat(formatPrice(t.final_price),'</span><span  class="appstle_cart_compare_price">').concat(formatPrice(t.selling_plan_allocation.compare_at_price),"</span>"),g.find(x).html(DOMPurify.sanitize(i)))}null==t||!t.properties["_appstle-bb-id"]||null!=(a=RS.Config)&&a.showCartWidgetOnBundleItems||logger("".concat(null==t?void 0:t.id," This is a bundle item. To configure the cart widget for this product, enable 'Show Cart Widget on Bundle Items' in the subscription widget settings.")),jQuery(jQuery(h)[e]).find(v).addClass("appstleCartWidgetProcessed")}),!T||y.filter(function(e){return e.requires_selling_plan}).length||null!=(e=RSConfig)&&e.removeUnsubscribeOption||jQuery("<option />",{value:"appstle_unsubscribe",html:DOMPurify.sanitize(I["appstle.subscription.wg.unsubscribeFrequencyTextV2"]||"Unsubscribe"),class:"sellingPlanOption"}).appendTo(jQuery(".appstle-cartItem-wrapper select")),jQuery(f).html(DOMPurify.sanitize(formatPrice(null==m?void 0:m.total_price))),jQuery("#appstle_overlay").remove()}function l(){var e="",e=(null==m?void 0:m.total_price)<9900?"You are ".concat(formatPrice(9900-(null==m?void 0:m.total_price))," away from checkout."):"Yay! you are eligible for checkout.",e=(jQuery(".appstle_progress_title").text(e),0),e=(null==m?void 0:m.total_price)<9900?100*(null==m?void 0:m.total_price)/9900:100;jQuery(".appstle_progress_bar").css("width","".concat(e,"%")),jQuery(".proceed-to-checkout, .proceed-to-checkout-error-text").remove(),jQuery(100===e?' <div class="proceed-to-checkout appstle-proceed-to-checkout">\n                          <a href="/checkout" class= "btn-style1 center">Proceed to Checkout</a>\n                      </div>':'<div class="proceed-to-checkout-error-text">please purcase atleast $99</div>').insertAfter(".cart-total")}0<(null==m||null==(e=m.items)?void 0:e.length)?((null==m||null==(e=m.items)?void 0:e.length)===jQuery(h).length?null!=m&&m.items.forEach(function(e){-1===n.indexOf(null==e?void 0:e.handle)&&n.push(null==e?void 0:e.handle)}):null!=(e=RS)&&null!=(e=e.Config)&&null!=(e=e.selectors)&&e.cartRowSelector&&null!=h&&h.length&&jQuery(h).length&&location.reload(),function t(){var e;n.length?(e=n.shift())?fetch("/products/".concat(e,".js")).then(function(e){return e.json()}).then(function(e){y.push(e),t()}):t():(i(),document.dispatchEvent(new Event("AppstleSubscription:CartWidget:Updated")),window.dispatchEvent(new Event("AppstleSubscription:CartWidget:Updated")))}()):jQuery("#appstle_overlay").remove()})}function j(e){jQuery("#appstle_overlay").length||jQuery("body").append(DOMPurify.sanitize("<div id='appstle_overlay'><div class='appstle_loader'></div><div class='appstle_loader_text'>"+(e||" ")+"</div></div></div>"))}function m(e,t,n,i,l,a,r,o){return JSON.parse(RS.Config.labels)["appstle.subscription.wg.loyaltyPerkDescriptionTextV2"]?(r={discount:t,discountType:n,formatDiscountedPrice:formatPrice(100*t),freeProductName:a,isDiscountTypePercentage:"PERCENTAGE"===n,isDiscountTypeFixedPrice:"PRICE"===n,isDiscountTypeShipping:"SHIPPING"===n,isDiscountTypeFreeProduct:"FREE_PRODUCT"===n,isFreeTrial:i,isCartPage:!0,featured_image:r,productPrice:o,billingCycleBlock:'<span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,"</span>"),orderCycleBlock:'<span class="appstle-loyalty-billing-cycle"><span class="order-cycle-block">'.concat(getBillingCycleText(parseInt(e)+1),"</span></span>")},Mustache.render(JSON.parse(RS.Config.labels)["appstle.subscription.wg.loyaltyPerkDescriptionTextV2"],r)):i?'Get <span class="appstle-loyalty-free-trial-discount">'.concat(t,' <span class="appstle-loyalty-free-trial-discount-count" style="text-transform: lowercase;">').concat(n).concat(1<t?"s":"",'</span></span> <span class="appstle-loyalty-free-trial-text">free trial.</span>'):"PERCENTAGE"===n?l?'<span class="appstle-loyalty-discount">Get <span class="appstle-loyalty-discount-amount">'.concat(t+"% off",'</span></span><span class="appstle-loyalty-billing-cycle"> after <span class="appstle-loyalty-billing-cycle-count">').concat(e,"</span> recurring order</span>."):'Thereafter <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> recurring order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(t+"% off","</span></span>."):"SHIPPING"===n?l?'<span class="appstle-loyalty-discount">Get <span class="appstle-loyalty-discount-amount">'.concat("shipping at ".concat(formatPrice(100*t)),'</span></span><span class="appstle-loyalty-billing-cycle"> after <span class="appstle-loyalty-billing-cycle-count">',e,"</span> recurring order</span>."):'Thereafter <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> recurring order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">',"shipping at ".concat(formatPrice(100*t)),"</span></span>."):"FREE_PRODUCT"===n?l?'<span class="appstle-loyalty-discount">Get a<span class="appstle-loyalty-discount-amount"> FREE PRODUCT ('.concat(a,')</span></span><span class="appstle-loyalty-billing-cycle"> after <span class="appstle-loyalty-billing-cycle-count">').concat(e,"</span> recurring order</span>."):'Thereafter <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> recurring order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">FREE PRODUCT (').concat(a,")</span></span>."):"FIXED"===n?l?'<span class="appstle-loyalty-discount">Get <span class="appstle-loyalty-discount-amount">'.concat(formatPrice(100*t)+" off",'</span></span><span class="appstle-loyalty-billing-cycle"> after <span class="appstle-loyalty-billing-cycle-count">').concat(e,"</span> recurring order</span>."):'Thereafter <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> recurring order</span>, <span class="appstle-loyalty-discount">get <span class="appstle-loyalty-discount-amount">').concat(formatPrice(100*t)+" off","</span></span>."):"PRICE"===n?l?'<span class="appstle-loyalty-discount">Get at <span class="appstle-loyalty-discount-amount">'.concat(formatPrice(100*t),'</span></span><span class="appstle-loyalty-billing-cycle"> after <span class="appstle-loyalty-billing-cycle-count">').concat(e,"</span> recurring order</span>."):'Thereafter <span class="appstle-loyalty-billing-cycle"><span class="appstle-loyalty-billing-cycle-count">'.concat(e,'</span> recurring order</span>, <span class="appstle-loyalty-discount">get at <span class="appstle-loyalty-discount-amount">').concat(formatPrice(100*t),"</span></span>."):void 0}function E(t,e){var n,r=null==(n=RSConfig)||null==(n=n.sellingPlansJson)?void 0:n.find(function(e){return(null==e?void 0:e.id.split("/").pop())===String(t)}),o="";null!=r&&r.freeTrialEnabled&&(o=m(0,r.freeTrialCount,r.freeTrialInterval,null==r?void 0:r.freeTrialEnabled,!0)),null!=r&&r.afterCycle2&&(o=o+"".concat(null!=r&&r.freeTrialEnabled?" ":"")+m(getBillingCycleText(r.afterCycle2),r.discountOffer2,r.discountType2,!1,!(null!=r&&r.freeTrialEnabled))),null==r||null==(n=r.appstleCycles)||!n.length||null!=r&&r.freeTrialEnabled||null!=r&&null!=(n=r.appstleCycles)&&n.forEach(function(t,e){var n,i="",l="",a="";"FREE_PRODUCT"===(null==t?void 0:t.discountType)&&(i=null==(n=window)||null==(n=n.products)||null==(n=n[t.freeProductHandle])?void 0:n.title,1<(null==(n=window)||null==(n=n.products)||null==(n=n[null==t?void 0:t.freeProductHandle])?void 0:n.variants.length)&&(i=i+" - "+(null==(n=(null==(n=window)||null==(n=n.products)||null==(n=n[null==t?void 0:t.freeProductHandle])?void 0:n.variants.filter(function(e){return(null==e?void 0:e.id)===parseInt(null==t?void 0:t.freeVariantId)})).pop())?void 0:n.title)),l=null==(n=window)||null==(n=n.products)||null==(n=n[t.freeProductHandle])?void 0:n.featured_image,a=formatPrice(null==(n=window)||null==(n=n.products)||null==(n=n[t.freeProductHandle])?void 0:n.price)),null!=r&&r.afterCycle2&&e<1?o=o+" "+m(getBillingCycleText(t.afterCycle),t.value,t.discountType,!1,!1,i):null!=r&&r.afterCycle2||e<2&&(o=0==e?m(getBillingCycleText(t.afterCycle),t.value,t.discountType,!1,!0,i,l,a):o+" "+m(getBillingCycleText(t.afterCycle),t.value,t.discountType,!1,!1,i,l,a))}),e.find(".appstle_applied_discountText").html(DOMPurify.sanitize(o))}function k(e,t,n,i,l){var a,r;i&&(dispatchAppstleEvent((l="appstle_unsubscribe"===i?!0:l)?"SwitchedToOneTime":"SwitchedToSubscription",t.key),j(),r=RSConfig.sellingPlansJson.filter(function(e){return e.id==="gid://shopify/SellingPlan/".concat(i)}).pop(),a=!1,null!=r&&r.formFieldJson&&"null"!==(null==r?void 0:r.formFieldJson)&&JSON.parse(null==r?void 0:r.formFieldJson).forEach(function(e){"date"===(null==e?void 0:e.type)&&(a=!0)}),r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:null==t?void 0:t.key,quantity:(null==t?void 0:t.quantity)||1,selling_plan:l?"":i,properties:Object.assign((null==t?void 0:t.properties)||{},a?{"_order-date":a?null==t?void 0:t.properties["_order-date"]:""}:{})})},fetch(window.Shopify.routes.root+"cart/change.js?appstle=true",r).then(function(e){return e.json()}).then(function(e){location.reload(),setTimeout(function(){O()},200)}).catch(function(e){return console.error(e)}))}function Q(e,t){return e.filter(function(e){return-1!=t.indexOf(e)})}null!=(c=RSConfig)&&c.showCombinedSellingPlanCartWidget&&logger("To work the combined cart widget properly, all products must be in the same selling plan group, including every product in the store."),jQuery(h).length&&jQuery(v).length&&(d="",b=![],-1!==location.pathname.indexOf("/cart")&&(u=window.XMLHttpRequest.prototype.open,window.XMLHttpRequest.prototype.open=function(){this.addEventListener("load",function(){var e=this.responseURL;-1===e.indexOf("cart/change")&&-1===e.indexOf("cart/add")||-1!==e.indexOf("appstleUpdateAllLineItems=true")||-1!==e.indexOf("appstle=true")||d!==JSON.stringify(this.response)&&(jQuery("#appstle_overlay").length||j(),setTimeout(O,100),d=JSON.stringify(this.response))}),u.apply(this,arguments)},g=window.fetch,window.fetch=function(){var t=arguments,i=this;return new Promise(function(n,e){g.apply(i,t).then(function(e){var t=e.url;-1===t.indexOf("cart/change")&&-1===t.indexOf("cart/add")||-1!==t.indexOf("appstleUpdateAllLineItems=true")||(jQuery("#appstle_overlay").length||j(),setTimeout(O,100)),n(e)}).catch(function(e){console.error(e)})})},O(),e=null==(e=RSConfig)?void 0:e.css,jQuery("<style>\n           .appstle-subsccribe-cart-discount{\n                 margin-left: 2px;\n           }\n\n          .appstle_cart_radio_selected .appstle_cart_selling_plan_dropdown{\n              display: block;\n          }\n      .appstle_cart_radio_selected {\n            background-color: #eee;\n           border-radius: 6px;\n      }\n      .appstle-cart-radio-label{\n        margin-left: 10px;\n      }\n      .appstle_subscription_cart_wrapper{\n        max-width: 100%;\n        justify-content: flex-start;\n        flex-direction: column;\n        font-size: 13px;\n      }\n        .appstle_cart_radio_label {\n          margin-left: 10px;\n        }\n\n        .appstle_radio_section{\n        }\n        .appstle_subscribe_title {\n                cursor: pointer;\n                font-size: 13px;\n                display: flex;\n                align-items: center;\n                line-height: 1.5;\n                margin-bottom: 0.2rem;\n\n        }\n        .appstle_subscribe_title .appstle_highest_discount, .appstle_applied_sellingPlanName {\n                border-bottom: 1px solid currentColor;\n        }\n\n        .appstle_subscribe_title input {\n                margin-right: 5px;\n        }\n\n        .appstle_subscribe_selected {\n                display: flex;\n                align-items: center;\n                margin-bottom: 0.2rem;\n\n        }\n\n        .appstle_subscribe_selected input {\n                margin-right: 5px;\n        }\n\n        .appstle_selected_frequency  {\n               display: inline;\n               margin-bottom: 0.2rem;\n               cursor: pointer;\n        }\n\n        .appstle_selected_frequency .appstle_applied_sellingPlanName {\n                 border-bottom: 1px solid currentColor;\n        }\n\n        .appstle_highest_discount, .appstle_applied_sellingPlanName {\n                color: #198946;\n        }\n\n#appstle_overlay {\nwidth: 100%;\nheight: 100%;\nposition: fixed;\ntop: 0;\nleft: 0;\nbackground: rgba(0, 0, 0, 0.7);\nz-index: 999999;\ntext-align: center;\n}\n\n.appstle_loader {\nborder: 6px solid rgba(255, 255, 255, 0.2);\nposition: absolute;\nleft: 50%;\ntop: 50%;\nmargin-top: -36px;\nmargin-left: -36px;\nborder-top: 6px solid #fff;\nborder-radius: 50%;\nwidth: 60px;\nheight: 60px;\nanimation: appstle_loading_spin 0.7s linear infinite; }\n\n.appstle_loader:empty {\n  display: block;\n}\n\n.appstle_loader_text {\nposition: absolute;\nleft: 50%;\ntop: calc(50% + 60px);\ntransform: translate(-50%, -50%);\ncolor: white;\n}\n\n.appstle_subscribe_selected input[type=checkbox] {\nheight: inherit;\n}\n\n.appstle_cart_compare_price {\ntext-decoration: line-through;\nfont-size: 13px;\nmargin-left: 5px;\nopacity: 0.85;\n}\n.appstle-loyalty-billing-cycle-count, .appstle-loyalty-discount-amount, .appstle-loyalty-free-trial-discount {\ncolor: #198946;\n}\n\n\n.appstle-combined-cart-widget-select {\nwidth: 100%;\n}\n\n.appstle_progress-wrapper {\nmargin: 30px 0;\n}\n\n.appstle_progress {\ndisplay: flex;\nheight: 10px;\noverflow: hidden;\nline-height: 0;\nfont-size: 7.5px;\nbackground-color: #e9ecef;\nborder-radius: 2.5px;\n}\n\n.appstle_progress_bar {\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\noverflow: hidden;\ncolor: #fff;\ntext-align: center;\nwhite-space: nowrap;\nbackground-color: #4cb849;\ntransition: width .6s ease;\n}\n\n.appstle-cartItem-wrapper {\nmargin: 20px 0;\n}\n.appstle-proceed-to-checkout {\ntext-align: center;\nmargin: 15px 0;\n}\n\n\n@keyframes appstle_loading_spin {\n0% {\ntransform: rotate(0deg); }\n\n100% {\ntransform: rotate(360deg); } }\n\n@-webkit-keyframes spin {\n0% {\ntransform: rotate(0deg); }\n\n100% {\ntransform: rotate(360deg); } }\n\n".concat(b?".appstle_subscribe_title input:before, .appstle_subscribe_selected input:before {\ncontent: '';\nposition: absolute;\nwidth: 22px;\nheight: 22px;\nbackground: white;\nborder-radius: 50%;\ntransform: translate(-50%, -50%);\ntop: 50%;\nleft: 50%;\nborder: 1px solid #c2bfbf;\nopacity: 1;\n\n}\n.appstle_subscribe_title input:checked:before, .appstle_subscribe_selected input:checked:before {\nbackground: #000;\nborder: 1px solid #000;\nbackground-size: cover;\nbackground-image: url(https://ik.imagekit.io/mdclzmx6brh/checkmark-outline_sKMJp3BD0.svg?updatedAt=1688306310408);\n}\n\n.appstle_subscribe_title input, .appstle_subscribe_selected input {\nposition: relative;\n}\n\n.appstle_discount_text {\npadding-left: 30px !important;\n}\n\nbody td.cart-item__details {\nborder: none !important;\n}\n\n.appstle_selected_frequency {\ndisplay: none;\n}\n\n:root {\n--bg-clr: #8681ce;\n--white: #fff;\n--dd-list-hvr: #f6f6f7;\n--text-clr: #2c3e50;\n}\n\n.appstle-cart-custom-select-wrapper * {\nlist-style: none;\nmargin: 0;\npadding: 0;\nbox-sizing: border-box;\nlist-style: none;\nfont-size: 13px;\ncolor: #000;\nfont-size: 13px;\nuser-select: none;\n}\n\n.appstle-cart-custom-select-wrapper .title {\nfont-size: 14px;\ncolor: var(--white);\n}\n\n.select_wrap {\n\nposition: relative;\n}\n\n.select_wrap .default_option {\nbackground: var(--white);\nborder-radius: 3px;\nposition: relative;\ncursor: pointer;\n}\n\n.select_wrap .default_option .icon {\nposition: absolute;\ntop: 50%;\nright: 20px;\nfont-size: 13px;\nheight: 12px;\ntransition: all 0.5s ease;\ntransform-origin: center;\nwidth: 12px;\ntransform: translateY(-50%);\nright: 6px;\n}\n\n.select_wrap .default_option li {\npadding: 12px 24px;\n}\n\n.select_wrap .select_ul {\nposition: absolute;\ntop: 45px;\nleft: 0;\nwidth: 100%;\npadding: 10px;\nbackground: var(--white);\nborder-radius: 3px;\ndisplay: none;\nborder: 1px solid #c2bfbf;\nz-index: 1;\n}\n\n.select_wrap .select_ul li {\npadding: 10px 20px;\ncursor: pointer;\nborder-radius: 3px;\nmargin-bottom: 1px;\n}\n\n.select_wrap .select_ul li:last-child {\nmargin-bottom: 0;\n}\n\n.select_wrap .select_ul li:hover,\n.select_wrap .select_ul li.active {\nbackground: var(--dd-list-hvr);\n}\n\n.select_wrap .option {\ndisplay: flex;\nalign-items: center;\n}\n\n.select_wrap.active .select_ul {\ndisplay: block;\n}\n\n.select_wrap.active .default_option .icon {\ntop: 13px;\ntransform: rotate(180deg);\n}\n.appstle_subscription_cart_wrapper {\npadding: 0 !important;\n}\n.appstle_subscribe_title, .appstle_subscribe_selected {padding: 9px;}\n\n.select#appstle_selling_plan_cart {display: none !important;}\n.appstle-cart-custom-select-wrapper {border-top: 1px solid #c2bfbf;}\n.appstle_subscribe_title {margin-bottom: 0 !important;}\nul.default_option .option {\npadding-left: 22px;\n}\n\nul.default_option .option:before {\ncontent: \"\";\nposition: absolute;\nbackground: url(https://cdn.shopify.com/s/files/1/0727/4908/9081/files/Screenshot_4.png?v=1686315491);\nbackground-size: 100%;\nwidth: 40px;\nheight: 28px;\nleft: 0px;\nbackground-repeat: no-repeat;\n}\n\n.appstle_subscribe_selected_text {padding-left: 20px;}\n.appstle_subscription_cart_wrapper {\nborder: 1px solid #c2bfbf;\nborder-radius: 3px;\n}\n\n.appstle_subscribe_selected input[type=checkbox] {left: 4px;}\n.appstle_subscribe_title .appstle_highest_discount, .appstle_applied_sellingPlanName {border: none; color: currentColor;}\n.appstle_discount_text {\npadding-left: 18px !important;\n}":"","\n\n        </style>\n    <style>").concat(DOMPurify.sanitize(null==e?void 0:e.customCSS,purifyConfig),"</style>")).appendTo(jQuery("head"))),b)&&(jQuery(document).on("click",".default_option",function(){jQuery(this).parent().toggleClass("active")}),jQuery(document).on("click",".select_ul li",function(){var e=jQuery(this).html();jQuery(this).parents(".appstle_radio_section").find(".default_option li").html(DOMPurify.sanitize(e)),jQuery(this).parents(".appstle_radio_section").find(".select_ul li").removeClass("active"),jQuery(this).addClass("active"),jQuery(this).parents(".select_wrap").removeClass("active"),jQuery(this).parents(".appstle_radio_section").find("select").val(jQuery(this).attr("value")),jQuery(this).parents(".appstle_radio_section").find("select").trigger("change")}))}()}),jQuery("#appstle-payment-button-override").remove()}),null!=(_window35=window)&&_window35.Shopify&&null!=(_window36=window)&&null!=(_window36=_window36.Shopify)&&_window36.checkout&&isOrderEligibleForThankyouBox()&&null!=(_RS34=RS)&&null!=(_RS34=_RS34.Config)&&_RS34.showCheckoutSubscriptionBtn?(destination="/"+RS.Config.manageSubscriptionUrl,message=RS.Config.orderStatusManageSubscriptionDescription||"Continue to your account to view and manage your subscriptions.",Shopify.checkout&&Shopify.checkout.order_id?fetch(location.origin+"/apps/subscriptions?action=customer_payment_token&order_id="+Shopify.checkout.order_id).then(function(e){return e.json()}).then(function(e){destination=destination+"?token="+e.token,Shopify.Checkout.OrderStatus.addContentBox('<h2 class="heading-2 os-step__title">'+(RS.Config.orderStatusManageSubscriptionTitle||"Subscription")+'</h2><div class="os-step__info--item"><p class="os-step__description" style="margin-top: 0.5714285714em;">'+message+'</p></div><a class="ui-button btn btn--subdued btn--size-small shown-if-js os-step__info" href="'+destination+'"> '+(RS.Config.orderStatusManageSubscriptionButtonText||"Manage your subscription")+"</a>")}):Shopify.Checkout.OrderStatus.addContentBox('<h2 class="heading-2 os-step__title">'+(RS.Config.orderStatusManageSubscriptionTitle||"Subscription")+'</h2><div class="os-step__info--item"><p class="os-step__description" style="margin-top: 0.5714285714em;">'+message+'</p></div><a class="ui-button btn btn--subdued btn--size-small shown-if-js os-step__info" href="'+destination+'"> '+(RS.Config.orderStatusManageSubscriptionButtonText||"Manage your subscription")+"</a>")):logger("Shopify object is not present here"),null!=(_RS35=RS)&&null!=(_RS35=_RS35.Config)&&_RS35.disableLoadingJquery&&logger("Disable Loading Jquery toggle is on widget may not load");var _RS$Config6,_window38,processFreeProduct=function(e,n){var i,l;location.pathname.includes("/bb/")||(i=[],l={},null!=e&&null!=(e=e.items)&&e.forEach(function(t){var e,n;null==t||null==(e=t.selling_plan_allocation)||null==(e=e.selling_plan)||!e.id||null==(e=null==(e=null==(e=RS.Config)||null==(e=e.sellingPlansJson)?void 0:e.filter(function(e){return-1!==(null==e?void 0:e.id.indexOf(null==t||null==(e=t.selling_plan_allocation)||null==(e=e.selling_plan)?void 0:e.id))}).pop())||null==(e=e.appstleCycles)?void 0:e.filter(function(e){return 0==(null==e?void 0:e.afterCycle)&&"FREE_PRODUCT"==(null==e?void 0:e.discountType)}).pop())||!e.freeVariantId||null!=t&&null!=(n=t.properties)&&n["_appstle-bb-id"]||i.push({id:null==e?void 0:e.freeVariantId,quantity:1,properties:{_appstle_parent_product:null==t?void 0:t.id,_appstle_parent_selling_plan:null==t||null==(n=t.selling_plan_allocation)||null==(n=n.selling_plan)?void 0:n.id}}),(null!=t&&null!=(e=t.properties)&&e._appstle_parent_product||null!=t&&null!=(n=t.properties)&&n._appstle_free_product)&&(l[null==t?void 0:t.key]=0)}),null!=(e=Object.keys(l))&&e.length?fetch(window.Shopify.routes.root+"cart/update.js?appstle=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({updates:l})}).then(function(e){return e.json()}).then(function(e){var t;null!=i&&i.length?addFreeProducts(i,n):(t=JSON.parse(RSConfig.labels),n&&location.href.includes("/cart")&&"true"===t["appstle.subscription.wg.allowRefreshOnCartPageV2"]&&checkAndReloadPage())}):null!=i&&i.length&&addFreeProducts(i,n))},addFreeProducts=function(e,i){fetch(window.Shopify.routes.root+"cart/add.js?appstle=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e})}).then(function(e){var t,n=JSON.parse(RSConfig.labels);if(null!=(t=window)&&t.opusRefreshCart&&window.opusRefreshCart(),i&&"true"===n["appstle.subscription.wg.allowRefreshOnCartPageV2"])return checkAndReloadPage(),e.json()}).catch(function(e){console.error("Error:",e)})},addLoader=function(e){jQuery("#appstle_overlay").length||jQuery("body").append(DOMPurify.sanitize("<div id='appstle_overlay'><div class='appstle_loader'></div><div class='appstle_loader_text'>"+(e||" ")+"</div></div></div>"))},checkAndReloadPage=function(){var e;!location.href.includes("/cart")||null!=(e=window.history.state)&&e.hasReloaded||(jQuery("#appstle_overlay").length||addLoader(),window.history.pushState({hasReloaded:!0},document.title),setTimeout(function(){location.reload()},300))},getCartData=function(n){fetch(window.Shopify.routes.root+"cart.js").then(function(e){if(e.ok)return e.json()}).then(function(e){var t;!1!==(null==(t=RS)||null==(t=t.Config)||null==(t=t.appstlePlanFeatures)?void 0:t.accessSubscriberLoyaltyFeatures)&&processFreeProduct(e,n),processBaB(e)})},processBaB=function(e){var t,n=null;null!=e&&null!=(t=e.items)&&t.forEach(function(e){null!=e&&e.properties["_appstle-bb-id"]&&(n=null==e?void 0:e.properties["_appstle-bb-id"])}),processBaBItems(e,n)},processBaBItems=function(e,t){t&&fetch("/".concat(_RSConfig.appstle_app_proxy_path_prefix,"/bb/api/subscription-bundlings/discount/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:e})}).then(function(e){if(e.ok)return e.json()}).then(function(e){var t,e=null==e?void 0:e.discountCode;e&&fetch((null==(t=Shopify)||null==(t=t.routes)?void 0:t.root)+"discount/"+e)})},urlEligibleToIntercept=function(e){var t=["/add","/change"],n=!1;if(-1===e.indexOf("?appstle=true")&&-1===e.indexOf("?appstleUpdateAllLineItems=true"))for(var i=0;i<t.length;i++)if(-1!==e.indexOf(t[i])){n=!0;break}return n},listenToCartChanges=function(){var e=window.XMLHttpRequest.prototype.open,l=(window.XMLHttpRequest.prototype.open=function(){this.addEventListener("load",function(){var e=this.responseURL;urlEligibleToIntercept(e)&&prevChangeResponse!==JSON.stringify(this.response)&&(setTimeout(function(){return getCartData(!0)},100),prevChangeResponse=JSON.stringify(this.response))}),e.apply(this,arguments)},window.fetch);window.fetch=function(){var t=arguments,i=this;return new Promise(function(n,e){l.apply(i,t).then(function(e){var t=e.url;urlEligibleToIntercept(t)&&setTimeout(function(){return getCartData(!0)},100),n(e)}).catch(function(e){console.error(e)})})}},prevChangeResponse="",hasFreeProduct=!1;null!=(_RS$Config6=RS.Config)&&null!=(_RS$Config6=_RS$Config6.sellingPlansJson)&&_RS$Config6.forEach(function(e){e=null==e||null==(e=e.appstleCycles)?void 0:e.filter(function(e){return 0==(null==e?void 0:e.afterCycle)&&"FREE_PRODUCT"==(null==e?void 0:e.discountType)}).pop();null!=e&&e.freeVariantId&&(hasFreeProduct=!0)}),hasFreeProduct&&listenToCartChanges(),null!=(_window38=window)&&_window38.QIKIFY_STICKYCART_V2_LOADED||document.querySelector('[class*="qikify"]')||getCartData()};appstleInit();